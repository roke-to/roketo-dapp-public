(this["webpackJsonproketo-dapp"]=this["webpackJsonproketo-dapp"]||[]).push([[0],{118:function(e,t,a){e.exports={menu:"styles_menu__oG1pK",menuDivider:"styles_menuDivider__3rvtk",hidden:"styles_hidden__3JyX9"}},119:function(e,t,a){e.exports={root:"styles_root__9Q_y8",arrow:"styles_arrow__dmtxI",rotate:"styles_rotate__3bkvh"}},120:function(e,t,a){e.exports={root:"styles_root__HwxLP",dropdownWrapper:"styles_dropdownWrapper__32byB",dropdownMenu:"styles_dropdownMenu__1RS3q"}},121:function(e,t,a){e.exports={root:"styles_root__1_PXp",sort:"styles_sort__3sdm0",active:"styles_active__2U1h-"}},122:function(e,t,a){e.exports={card:"styles_card__chYY0",title:"styles_title__cc9o3",finance:"styles_finance__wsZi_"}},123:function(e,t,a){e.exports={name:"styles_name__25-53",nameLabel:"styles_nameLabel__3d_tt"}},153:function(e,t,a){e.exports={root:"styles_root__2s9Jd",pageLink:"styles_pageLink__3rg8i"}},154:function(e,t,a){e.exports={input:"styles_input__KeAvj",error:"styles_error__1dP_7"}},155:function(e,t,a){e.exports={defaultOverlay:"styles_defaultOverlay__3nR8o",defaultIcon:"styles_defaultIcon__hJLMj"}},157:function(e,t,a){e.exports={textarea:"styles_textarea__1lPSs",error:"styles_error__3C3Rv"}},158:function(e,t,a){e.exports={root:"styles_root__2iwP4",linkButton:"styles_linkButton__1laX_"}},208:function(e,t,a){e.exports={layout:"styles_layout__2ac3i"}},217:function(e,t,a){e.exports={filtersWrapper:"styles_filtersWrapper__3sIgz"}},218:function(e,t,a){e.exports={root:"styles_root__20iY_"}},219:function(e,t,a){e.exports={profileFormBusy:"profile_profileFormBusy__1a27V"}},220:function(e,t,a){e.exports={unread:"notifications_unread__1rtRf"}},262:function(e,t){},272:function(e,t){},29:function(e,t,a){e.exports={root:"styles_root__1zlKm",title:"styles_title__39adN",description:"styles_description__12RAl",form:"styles_form__1ud4S",row:"styles_row__Pz5Iu",rowItem:"styles_rowItem__TexQO",submitError:"styles_submitError__1B7Gd",actionButtonsWrapper:"styles_actionButtonsWrapper__1E6yB"}},290:function(e,t){},304:function(e,t,a){},416:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(37),c=a.n(s),i=a(65),o=a.n(i),l=(a(163),a(19)),u=a(18),d=a(4),j=a.n(d),m=a(0);function b(){return Object(m.jsx)("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M1.35828 8.21811C1.35828 7.03631 1.88087 5.91501 2.78586 5.15499L6.96214 1.64773C7.70587 1.02314 8.79082 1.02314 9.53456 1.64773L13.7108 5.15499C14.6158 5.91501 15.1384 7.03631 15.1384 8.2181V12.4077C15.1384 14.0646 13.7953 15.4077 12.1384 15.4077H4.35827C2.70142 15.4077 1.35828 14.0646 1.35828 12.4077V8.21811Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}function h(){return Object(m.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("circle",{cx:"2.08925",cy:"2.03994",r:"2.03994",fill:"currentColor"}),Object(m.jsx)("circle",{cx:"11.1691",cy:"2.03994",r:"2.03994",fill:"currentColor"}),Object(m.jsx)("circle",{cx:"2.08925",cy:"11.1198",r:"2.03994",fill:"currentColor"}),Object(m.jsx)("circle",{cx:"11.1691",cy:"11.1198",r:"2.03994",fill:"currentColor"})]})}function x(){return Object(m.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M10.5309 10.5238L1.9707 1.96368M1.9707 1.96368V10.5238M1.9707 1.96368H10.5308",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"})})}function p(e){var t=e.icon,a=e.children,n=e.className,r=e.to,s=e.onClick,c=Object(u.i)(r),i=c&&c.isExact;return Object(m.jsxs)(l.b,{to:r,className:j()(n,"text-white font-semibold","flex items-center px-5 py-4 rounded-xl ","group cursor-pointer whitespace-nowrap",i?"bg-hover":"","transition-all","hover:bg-hover"),onClick:s,children:[Object(m.jsx)("div",{className:j()("group-hover:text-blue",i?"text-blue":""),children:t}),Object(m.jsx)("div",{className:"ml-2",children:a})]})}var f=a(9),v=a(5),O=a(3),w=a.n(O),g=a(25),_="near",N="mainnet",y="https://rpc.mainnet.near.org",k="",C="https://wallet.near.org",S="",I="priceoracle.near",M="pythia.near",A="wrap.near",L="https://roketo-test-api.herokuapp.com",F="200000000000000";function V(){return B.apply(this,arguments)}function B(){return(B=Object(f.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new g.keyStores.BrowserLocalStorageKeyStore,e.next=3,Object(g.connect)({nodeUrl:y,walletUrl:C,networkId:N,keyStore:t,headers:{}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return H.apply(this,arguments)}function H(){return H=Object(f.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){return(o=Object(f.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.signOut();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return o.apply(this,arguments)},c=function(){return(c=Object(f.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Roketo Token Streaming Service",e.next=3,t.requestSignIn(k,"Roketo Token Streaming Service");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return c.apply(this,arguments)},e.next=6,t.getAccountId();case 6:return a=e.sent,e.next=9,t.account();case 9:if(n=e.sent,!a){e.next=14;break}return e.next=13,n.getAccountBalance();case 13:r=e.sent;case 14:return e.abrupt("return",{balance:r,account:n,signedIn:!!a,accountId:a,login:s,logout:i});case 15:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}var P=a(10),T=a(11),D=a(16),E=a.n(D),W=a(418),q={xYears:"{{count}} years",xMonths:"{{count}} months",xDays:"{{count}}d",xSeconds:"{{count}}s",xMinutes:"{{count}}m",xHours:"{{count}}h"},z={formatDistance:function(e,t){return q[e].replace("{{count}}",t)}};var U="Initialized",Y="Active",Z="Paused",J="Finished",G=function(e){return e.status===Y};function K(e){return"object"===typeof(null===e||void 0===e?void 0:e.status)&&J in e.status}function X(e){if(function(e){return e.status===U||e.status===Z}(e))return new E.a(0);var t,a=Object(W.a)(Date.now())-(t=e.last_action,Number(t)/1e3/1e3/1e3);return E.a.minimum(e.balance,Number(e.tokens_per_sec)*a)}var $=function(){function e(t){var a=t.contract,n=t.account;Object(P.a)(this,e),this.contract=void 0,this.account=void 0,this.contract=a,this.account=n}return Object(T.a)(e,[{key:"getAccount",value:function(){var e=Object(f.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.account.accountId){e.next=2;break}return e.abrupt("return",{active_incoming_streams:0,active_outgoing_streams:0,deposit:"0",inactive_incoming_streams:0,inactive_outgoing_streams:0,is_cron_allowed:!0,last_created_stream:"any",stake:"0",total_incoming:{},total_outgoing:{},total_received:{}});case 2:return e.next=4,this.contract.get_account({account_id:this.account.accountId});case 4:if(!(t=e.sent).Err){e.next=7;break}return e.abrupt("return",{active_incoming_streams:0,active_outgoing_streams:0,deposit:"0",inactive_incoming_streams:0,inactive_outgoing_streams:0,is_cron_allowed:!0,last_created_stream:"any",stake:"0",total_incoming:{},total_outgoing:{},total_received:{}});case 7:return e.abrupt("return",t.Ok);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountIncomingStreams",value:function(){var e=Object(f.a)(w.a.mark((function e(t){var a,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.from,n=t.limit,e.next=3,this.contract.get_account_incoming_streams({account_id:this.account.accountId,from:a,limit:n});case 3:return r=e.sent,e.abrupt("return",r.Ok);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountOutgoingStreams",value:function(){var e=Object(f.a)(w.a.mark((function e(t){var a,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.from,n=t.limit,e.next=3,this.contract.get_account_outgoing_streams({account_id:this.account.accountId,from:a,limit:n});case 3:return r=e.sent,e.abrupt("return",r.Ok);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStream",value:function(){var e=Object(f.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.get_stream({stream_id:a});case 3:return n=e.sent,e.abrupt("return",n.Ok);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDao",value:function(){var e=Object(f.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.get_dao();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createStream",value:function(){var e=Object(f.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o,l,u,d,j,m,b,h,x;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.description,n=t.deposit,r=t.receiverId,s=t.tokenAccountId,c=t.commissionOnCreate,i=t.tokensPerSec,o=t.cliffPeriodSec,l=t.isAutoStart,u=void 0===l||l,d=t.isExpirable,j=t.isLocked,m=t.callbackUrl,b=t.handleTransferStream,h=new E.a(n).plus(c).toFixed(),x={description:a,balance:n,owner_id:this.account.accountId,receiver_id:r,token_name:s,tokens_per_sec:BigInt(i),cliff_period_sec:o,is_locked:j,is_auto_start_enabled:u,is_expirable:d},e.abrupt("return",b(x,h,m));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startStream",value:function(){var e=Object(f.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.start_stream({stream_id:a},F,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseStream",value:function(){var e=Object(f.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.pause_stream({stream_id:a},F,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopStream",value:function(){var e=Object(f.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.stop_stream({stream_id:a},F,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=Object(f.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamIds,e.next=3,this.contract.withdraw({stream_ids:a},F,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Q(e){return ee.apply(this,arguments)}function ee(){return(ee=Object(f.a)(w.a.mark((function e(t){var a,n,r,s,c,i,o,l,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=new g.Contract(a,k,{viewMethods:["get_stats","get_dao","get_token","get_stream","get_account","get_account_incoming_streams","get_account_outgoing_streams","get_account_ft"],changeMethods:["start_stream","pause_stream","stop_stream","withdraw"]}),r=new $({contract:n,account:a}),s=r.getAccount(),c=r.getDao(),e.next=7,Promise.all([s,c]);case 7:return i=e.sent,o=Object(v.a)(i,2),l=o[0],u=o[1],e.abrupt("return",{api:r,dao:u,account:l});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te,ae,ne=a(7),re=a(28),se=a.n(re),ce=60,ie=3600,oe=86400,le=604800,ue=2419200,de=29030400;!function(e){e.Second="second",e.Minute="minute",e.Hour="hour",e.Day="day"}(ae||(ae={}));var je=(te={},Object(ne.a)(te,ae.Hour,"/h"),Object(ne.a)(te,ae.Day,"/d"),Object(ne.a)(te,ae.Minute,"/m"),Object(ne.a)(te,ae.Second,"/s"),te),me=function(){function e(t){Object(P.a)(this,e),this.tokenDecimals=void 0,this.MP=void 0,this.tokenDecimals=t,this.MP=Math.pow(10,t)}return Object(T.a)(e,[{key:"amount",value:function(e){var t=se()(e).divide(this.MP).value(),a=se()(t).format({mantissa:3,trimMantissa:!0,optionalMantissa:!0,average:!0});return 0===t?"0":0!==e&&t<.001?"<0.001":a}},{key:"toYocto",value:function(e){return se()(e).multiply(this.MP).format({mantissa:0})}},{key:"toHumanReadableValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return se()(e).divide(this.MP).format({mantissa:t,trimMantissa:!0,optionalMantissa:!0})}},{key:"tokensPerMeaningfulPeriod",value:function(t){var a,n=this,r=[1,ce,ie,oe,le,ue,de],s=(a={1:"second"},Object(ne.a)(a,ce,"minute"),Object(ne.a)(a,ie,"hour"),Object(ne.a)(a,oe,"day"),Object(ne.a)(a,le,"week"),Object(ne.a)(a,ue,"month"),Object(ne.a)(a,de,"year"),a),c=r.find((function(e){return se()(t).multiply(e).divide(n.MP).value()>.1}))||de,i=se()(t).multiply(c).divide(this.MP).value();return{formattedValue:e.formatSmartly(i),unit:s[c]}}}],[{key:"formatSmartly",value:function(e){return 0!==e&&e<.001?"<0.001":0===e?"0":se()(e).format({mantissa:3,trimMantissa:!0,optionalMantissa:!0,average:!0})}}]),e}(),be=a(207),he=a.n(be);function xe(e){return e===A}var pe=function(){function e(t,a){var n=this;Object(P.a)(this,e),this.contract=void 0,this.tokenAccountId=void 0,this.account=void 0,this.transfer=function(){var e=Object(f.a)(w.a.mark((function e(t,a,r){var s,c,i,o,l,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.getIsRegistered(t.owner_id),n.getIsRegistered(t.receiver_id)]);case 2:return s=e.sent,c=Object(v.a)(s,2),i=c[0],o=c[1],l=[g.transactions.functionCall("ft_transfer_call",{receiver_id:k,amount:new E.a(a).toFixed(),memo:"Roketo transfer",msg:he.a.stringify({Create:{request:t}})},"100000000000000",1)],i||l.unshift(g.transactions.functionCall("storage_deposit",{account_id:t.owner_id},"30000000000000",g.utils.format.parseNearAmount("0.00125"))),o||l.unshift(g.transactions.functionCall("storage_deposit",{account_id:t.receiver_id},"30000000000000",g.utils.format.parseNearAmount("0.00125"))),xe(n.tokenAccountId)&&l.unshift(g.transactions.functionCall("near_deposit",{},"30000000000000",new E.a(a).plus("1").toFixed())),u=n.account.signAndSendTransaction({receiverId:n.tokenAccountId,walletCallbackUrl:r,actions:l}),e.abrupt("return",u);case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.tokenAccountId=a,this.account=t,this.contract=new g.Contract(t,a,{viewMethods:["ft_balance_of","ft_metadata","storage_balance_of"],changeMethods:["ft_transfer_call","storage_deposit","near_deposit"]})}return Object(T.a)(e,[{key:"getMetadata",value:function(){var e=Object(f.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.ft_metadata();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(f.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.account.accountId){e.next=2;break}return e.abrupt("return","0");case 2:return e.next=4,this.contract.ft_balance_of({account_id:this.account.accountId});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getIsRegistered",value:function(){var e=Object(f.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.storage_balance_of({account_id:t});case 2:return a=e.sent,e.abrupt("return",a&&"0"!==a.total);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function fe(e){return ve.apply(this,arguments)}function ve(){return ve=Object(f.a)(w.a.mark((function e(t){var a,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=t.tokens,r={},e.next=4,Promise.all(Object.keys(n).map(function(){var e=Object(f.a)(w.a.mark((function e(t){var s,c,i,o,l,u;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new pe(a,t),e.next=3,Promise.all([s.getMetadata(),s.getBalance()]);case 3:c=e.sent,i=Object(v.a)(c,2),o=i[0],l=i[1],u=new me(o.decimals),r[t]={api:s,formatter:u,roketoMeta:n[t],meta:o,balance:l};case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}var Oe=a(2),we=Math.pow(10,24),ge=Math.pow(10,18),_e={"wrap.testnet":we,"dai.fakes.testnet":ge,"wrap.near":we,"dai.bridge.near":ge},Ne=["get_assets","get_asset","get_price_data"],ye=[],ke=function(e,t){return e.reduce((function(e,a){var n=Object(v.a)(a,2),r=n[0],s=n[1].reports.find((function(e){return e.oracle_id===t}));return s?Object(Oe.a)(Object(Oe.a)({},e),{},Object(ne.a)({},r,s.price)):e}),{})},Ce=function(e,t){return function(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=e[a],c=t[a];if(!s||!c)return"0";var i=s.multiplier,o=s.decimals;return se()(n).multiply(c).multiply(Number(i)).divide(Math.pow(10,o)).format({mantissa:r,trimMantissa:!0})}},Se=function(){var e=Object(f.a)(w.a.mark((function e(t){var a,n,r,s,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=new g.Contract(a,I,{viewMethods:Ne,changeMethods:ye}),e.next=4,n.get_assets({});case 4:return r=e.sent,s=ke(r,M),c=Ce(s,_e),e.abrupt("return",{getPriceInUsd:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=r.a.createContext(null);function Me(e){var t=e.children,a=Object(n.useState)(null),r=Object(v.a)(a,2),s=r[0],c=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(f.a)(w.a.mark((function e(){var t,a,n,r,s,i,o,l;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return t=e.sent,a=new g.WalletConnection(t,k),e.next=6,R(a);case 6:return n=e.sent,e.next=9,Promise.all([Q({account:n.account}),Se({account:n.account})]);case 9:return r=e.sent,s=Object(v.a)(r,2),i=s[0],o=s[1],e.next=15,fe({account:n.account,tokens:i.dao.tokens});case 15:l=e.sent,c({auth:n,near:t,roketo:i,priceOracle:o,walletConnection:a,tokens:l});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(m.jsx)(Ie.Provider,{value:s,children:s?t:null})}var Ae=new Error("Near context is not found");function Le(){var e=Object(n.useContext)(Ie);if(!e)throw Ae;return e}var Fe=a(14),Ve=(a(304),["icon","children","className","size","loading","disabled","loadingText","color","variant"]),Be="main",Re="filled",He="outlined";function Pe(e){var t=e.icon,a=e.children,n=e.className,r=e.size,s=e.loading,c=e.disabled,i=e.loadingText,o=e.color,u=void 0===o?"light":o,d=e.variant,b=void 0===d?"outlined":d,h=Object(Fe.a)(e,Ve),x="",p="",f="";b===Be?(x="Button--main",p="normal"===r?"px-5 py-4  rounded-2xl font-semibold":"big"===r?"px-12 py-6 rounded-3xl font-bold":""):b===He?(x="border-solid border font-semibold rounded-lg ",f="light"===u?"border-blue hover:bg-blue":"dark"===u?"border-border hover:bg-hover hover:border-hover":""):b===Re&&(x="bg-dark hover:bg-hover font-semibold rounded-lg active:bg-transparent");var v={disabled:s||c,className:j()("inline-flex items-center justify-center p-3  whitespace-nowrap",x,p,f,c?"Button--disabled":"","transition-all",n)},O=s?i:Object(m.jsxs)(m.Fragment,{children:[t?Object(m.jsx)("div",{className:"mr-2",children:t}):null,a]});return h.link?Object(m.jsx)(l.b,Object(Oe.a)(Object(Oe.a)(Object(Oe.a)({},v),h),{},{children:O})):Object(m.jsx)("button",Object(Oe.a)(Object(Oe.a)(Object(Oe.a)({},v),h),{},{type:"button"===h.type?"button":"submit",children:O}))}var Te=a(69),De=a(59),Ee={baseServer:new De.ServerConfiguration(L,{})},We=function(){function e(){Object(P.a)(this,e),this.initialized=!1,this.token=null,this.authApiClient=new De.AuthApi(De.createConfiguration(Object(Oe.a)({},Ee)))}return Object(T.a)(e,[{key:"getToken",value:function(){return this.token||(this.token=this.getRefreshedToken()),this.token}},{key:"refreshToken",value:function(){this.token=this.getRefreshedToken()}},{key:"getRefreshedToken",value:function(){var e=Object(f.a)(w.a.mark((function e(){var t,a,n,r,s,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccountIdAndNear();case 3:if(t=e.sent,a=t.accountId,"roketoApiAccessToken",n="".concat("roketoApiAccessToken",":").concat(a),this.initialized){e.next=12;break}if(this.initialized=!0,!(r=localStorage[n]||null)||this.containsUnicode(r)){e.next=12;break}return e.abrupt("return",r);case 12:return delete localStorage[n],e.next=15,this.generateLoginParams();case 15:return s=e.sent,e.next=18,this.authApiClient.login(s);case 18:return c=e.sent,i=c.accessToken,localStorage[n]=i,e.abrupt("return",i);case 24:throw e.prev=24,e.t0=e.catch(0),this.token=null,e.t0;case 28:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountIdAndNear",value:function(){var e=Object(f.a)(w.a.mark((function e(){var t,a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:return t=e.sent,a=new g.WalletConnection(t,k),n=a.getAccountId(),e.abrupt("return",{accountId:n,near:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"generateLoginParams",value:function(){var e=Object(f.a)(w.a.mark((function e(){var t,a,n,r,s,c,i,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountIdAndNear();case 2:return t=e.sent,a=t.accountId,n=t.near,e.next=7,n.config.keyStore.getKey(n.config.networkId,a);case 7:return r=e.sent,s=Date.now(),c=r.sign((new TextEncoder).encode(String(s))),i=c.signature,o=Array.from(i),e.abrupt("return",{accountId:a,timestamp:s,signature:o});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"containsUnicode",value:function(e){return e!==encodeURIComponent(e)}}]),e}(),qe=new We,ze=function(){var e=Object(f.a)(w.a.mark((function e(t,a,n,r,s){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s.retryCount,!(t.message.startsWith("HTTP-Code: 401")&&c<=3)){e.next=5;break}return e.next=4,qe.refreshToken();case 4:r({retryCount:c});case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),Ue=De.createConfiguration(Object(Oe.a)(Object(Oe.a)({},Ee),{},{authMethods:{bearer:{tokenProvider:qe}}})),Ye=new De.UsersApi(Ue);function Ze(){var e=Le().auth;return Object(Te.a)(e.accountId?"user":null,(function(){return Ye.findOne(e.accountId)}),{onErrorRetry:ze})}var Je=new De.NotificationsApi(Ue);function Ge(e){var t=e.variant,a=e.className,n=Le().auth,r=n.logout,s=n.login,c=n.accountId,i=n.signedIn,o=Ze().data||{},l=o.name,u=o.email;return i?Object(m.jsxs)(Pe,{type:"button",onClick:r,variant:t,className:a,children:["Sign out (",l||c,Object(m.jsx)("img",{src:"".concat(L,"/users/").concat(c,"/avatar?email=").concat(u),style:{width:32,height:32,borderRadius:16,margin:"0 2px 0 5px"},alt:""}),")"]}):Object(m.jsx)(Pe,{type:"button",onClick:s,variant:t,className:a,children:"Sign in with NEAR Wallet"})}var Ke={authorize:{path:"/authorize",title:"Authorize"},account:{path:"/account",title:"Account"},streams:{path:"/streams",title:"Streams [OLD]"},myStreams:{path:"/myStreams",title:"Streams"},send:{path:"/",title:"Create Stream"},stream:{path:"/streams/:id",title:"Stream"},profile:{path:"/profile",title:"Profile"},notifications:{path:"/notifications",title:"Notifications"}};function Xe(e){return"".concat(window.location.origin,"/#/streams/").concat(e)}var $e=a.p+"static/media/logo_stream_with_text.831f0892.svg";function Qe(e){var t=r.a.useState(e),a=Object(v.a)(t,2),n=a[0],s=a[1];return{on:n,off:!n,toggle:function(){return s(!n)},turnOff:function(){return s(!1)},turnOn:function(){return s(!0)},setOn:s}}function et(){return Object(m.jsx)("svg",{fill:"none",width:"20",height:"20",viewBox:"0 0 45.973 45.973",children:Object(m.jsx)("path",{d:"M43.454,18.443h-2.437c-0.453-1.766-1.16-3.42-2.082-4.933l1.752-1.756c0.473-0.473,0.733-1.104,0.733-1.774\r c0-0.669-0.262-1.301-0.733-1.773l-2.92-2.917c-0.947-0.948-2.602-0.947-3.545-0.001l-1.826,1.815\r C30.9,6.232,29.296,5.56,27.529,5.128V2.52c0-1.383-1.105-2.52-2.488-2.52h-4.128c-1.383,0-2.471,1.137-2.471,2.52v2.607\r c-1.766,0.431-3.38,1.104-4.878,1.977l-1.825-1.815c-0.946-0.948-2.602-0.947-3.551-0.001L5.27,8.205\r C4.802,8.672,4.535,9.318,4.535,9.978c0,0.669,0.259,1.299,0.733,1.772l1.752,1.76c-0.921,1.513-1.629,3.167-2.081,4.933H2.501\r C1.117,18.443,0,19.555,0,20.935v4.125c0,1.384,1.117,2.471,2.501,2.471h2.438c0.452,1.766,1.159,3.43,2.079,4.943l-1.752,1.763\r c-0.474,0.473-0.734,1.106-0.734,1.776s0.261,1.303,0.734,1.776l2.92,2.919c0.474,0.473,1.103,0.733,1.772,0.733\r s1.299-0.261,1.773-0.733l1.833-1.816c1.498,0.873,3.112,1.545,4.878,1.978v2.604c0,1.383,1.088,2.498,2.471,2.498h4.128\r c1.383,0,2.488-1.115,2.488-2.498v-2.605c1.767-0.432,3.371-1.104,4.869-1.977l1.817,1.812c0.474,0.475,1.104,0.735,1.775,0.735\r c0.67,0,1.301-0.261,1.774-0.733l2.92-2.917c0.473-0.472,0.732-1.103,0.734-1.772c0-0.67-0.262-1.299-0.734-1.773l-1.75-1.77\r c0.92-1.514,1.627-3.179,2.08-4.943h2.438c1.383,0,2.52-1.087,2.52-2.471v-4.125C45.973,19.555,44.837,18.443,43.454,18.443z\r M22.976,30.85c-4.378,0-7.928-3.517-7.928-7.852c0-4.338,3.55-7.85,7.928-7.85c4.379,0,7.931,3.512,7.931,7.85\r C30.906,27.334,27.355,30.85,22.976,30.85z",stroke:"currentColor",strokeWidth:"5",strokeLinecap:"round"})})}function tt(){return Object(m.jsxs)("svg",{fill:"none",viewBox:"0 0 612 612",width:"20",height:"20",children:[Object(m.jsx)("path",{strokeWidth:"40",strokeLinecap:"round",stroke:"currentColor",d:"M570.107,500.254c-65.037-29.371-67.511-155.441-67.559-158.622v-84.578c0-81.402-49.742-151.399-120.427-181.203\r C381.969,34,347.883,0,306.001,0c-41.883,0-75.968,34.002-76.121,75.849c-70.682,29.804-120.425,99.801-120.425,181.203v84.578\r c-0.046,3.181-2.522,129.251-67.561,158.622c-7.409,3.347-11.481,11.412-9.768,19.36c1.711,7.949,8.74,13.626,16.871,13.626\r h164.88c3.38,18.594,12.172,35.892,25.619,49.903c17.86,18.608,41.479,28.856,66.502,28.856\r c25.025,0,48.644-10.248,66.502-28.856c13.449-14.012,22.241-31.311,25.619-49.903h164.88c8.131,0,15.159-5.676,16.872-13.626\r C581.586,511.664,577.516,503.6,570.107,500.254z M484.434,439.859c6.837,20.728,16.518,41.544,30.246,58.866H97.32\r c13.726-17.32,23.407-38.135,30.244-58.866H484.434z M306.001,34.515c18.945,0,34.963,12.73,39.975,30.082\r c-12.912-2.678-26.282-4.09-39.975-4.09s-27.063,1.411-39.975,4.09C271.039,47.246,287.057,34.515,306.001,34.515z\r M143.97,341.736v-84.685c0-89.343,72.686-162.029,162.031-162.029s162.031,72.686,162.031,162.029v84.826\r c0.023,2.596,0.427,29.879,7.303,63.465H136.663C143.543,371.724,143.949,344.393,143.97,341.736z M306.001,577.485\r c-26.341,0-49.33-18.992-56.709-44.246h113.416C355.329,558.493,332.344,577.485,306.001,577.485z"}),Object(m.jsx)("path",{strokeWidth:"40",strokeLinecap:"round",stroke:"currentColor",d:"M306.001,119.235c-74.25,0-134.657,60.405-134.657,134.654c0,9.531,7.727,17.258,17.258,17.258\r c9.531,0,17.258-7.727,17.258-17.258c0-55.217,44.923-100.139,100.142-100.139c9.531,0,17.258-7.727,17.258-17.258\r C323.259,126.96,315.532,119.235,306.001,119.235z"})]})}var at,nt=a.p+"static/media/dark-logo-stream.d340f193.svg",rt=function(e){var t=e.className;return Object(m.jsx)("div",{className:t,children:Object(m.jsx)("img",{src:nt,alt:"Roketo logo"})})},st=a(208),ct=a.n(st),it=function(e){var t=e.children,a=e.className,n=j()("container mx-auto",ct.a.layout,a);return Object(m.jsx)("div",{className:n,children:t})},ot=function(e){var t=e.width,a=void 0===t?18:t,n=e.height,r=void 0===n?18:n,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:a,height:r,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M7.09 12.59L8.5 14L13.5 9L8.5 4L7.09 5.41L9.67 8H0V10H9.67L7.09 12.59ZM16 0H2C0.89 0 0 0.9 0 2V6H2V2H16V16H2V12H0V16C0 17.1 0.89 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:"#2B313B"})})})},lt=a(70),ut=a.n(lt),dt=function(){var e,t=Le().auth,a=null!==(e=Ze().data)&&void 0!==e?e:{},n=a.name,r=a.email,s=t.accountId,c=t.login,i=t.logout;return t.signedIn?Object(m.jsxs)("div",{className:ut.a.root,children:[Object(m.jsx)("span",{className:ut.a.name,children:n||s}),Object(m.jsx)("img",{className:ut.a.avatar,src:"".concat(L,"/users/").concat(s,"/avatar?email=").concat(r),alt:"user avatar"}),Object(m.jsx)("button",{type:"button",onClick:i,children:Object(m.jsx)(ot,{})})]}):Object(m.jsxs)("button",{type:"button",onClick:c,className:ut.a.root,children:[Object(m.jsx)("span",{className:ut.a.name,children:"Sign in with NEAR Wallet"}),Object(m.jsx)(ot,{})]})},jt=function(e){var t=e.to,a=e.className,n=e.children,r=e.onClick;return Object(m.jsx)(l.b,{to:t,className:a,onClick:r,children:n})},mt=a(153),bt=a.n(mt),ht=function(e){var t=e.pageRoutes,a=void 0===t?[]:t;return 0===a.length?null:Object(m.jsx)("ul",{className:bt.a.root,children:a.map((function(e){return Object(m.jsx)("li",{className:bt.a.pageLink,children:Object(m.jsx)(jt,{to:e.path,children:e.title})},e.path)}))})},xt=function(e){var t=e.width,a=void 0===t?17:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:a,height:r,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M15.5 4.06667V2.16667C15.5 1.25 14.75 0.5 13.8333 0.5H2.16667C1.24167 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.24167 15.5 2.16667 15.5H13.8333C14.75 15.5 15.5 14.75 15.5 13.8333V11.9333C15.9917 11.6417 16.3333 11.1167 16.3333 10.5V5.5C16.3333 4.88333 15.9917 4.35833 15.5 4.06667ZM14.6667 5.5V10.5H8.83333V5.5H14.6667ZM2.16667 13.8333V2.16667H13.8333V3.83333H8.83333C7.91667 3.83333 7.16667 4.58333 7.16667 5.5V10.5C7.16667 11.4167 7.91667 12.1667 8.83333 12.1667H13.8333V13.8333H2.16667Z",fill:"#626F84"})})})},pt=function(e){var t=e.width,a=void 0===t?20:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:a,height:r,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334ZM17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334Z",fill:"#626F84"})})})},ft=function(e){var t=e.width,a=void 0===t?17:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsxs)("svg",{width:a,height:r,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M12.1667 12.1666L16.3333 7.99998L12.1667 3.83331L10.9917 5.00831L13.1417 7.16665H5.5V8.83331H13.1417L10.9917 10.9916L12.1667 12.1666Z",fill:"#626F84"}),Object(m.jsx)("path",{d:"M13.8333 13.8333H2.16667V2.16667H13.8333V3.83333H15.5V2.16667C15.5 1.25 14.7583 0.5 13.8333 0.5H2.16667C1.25 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.25 15.5 2.16667 15.5H13.8333C14.7583 15.5 15.5 14.75 15.5 13.8333V12.1667H13.8333V13.8333Z",fill:"#626F84"})]})})};function vt(e){var t=Le().tokens;return xe(e)&&(t[e].meta.symbol="NEAR"),t[e]}function Ot(e){var t,a=e.tokenAccountId,n=e.className,r=e.mode,s=void 0===r?at.CRYPTO:r,c=Le(),i=c.auth,o=c.priceOracle,l=vt(a),u=l.balance,d=l.formatter,j=l.meta,b=xe(a)?(null===(t=i.balance)||void 0===t?void 0:t.available)||"0":u,h=d.amount(b),x=s===at.USD,p=x?o.getPriceInUsd(a,h):h,f=x?"$":j.symbol;return Object(m.jsx)("span",{className:n,children:"Balance: ".concat(p," ").concat(f)})}!function(e){e.USD="USD",e.CRYPTO="CRYPTO",e.BOTH="BOTH"}(at||(at={}));var wt;!function(e){e.income="total_incoming",e.outcome="total_outgoing"}(wt||(wt={}));var gt=function(e){var t=e.type,a=e.period,n=e.className,r=Le(),s=r.roketo,c=r.priceOracle,i=r.tokens,o=s.account[t],l=Object.keys(o).reduce((function(e,t){var n=i[t].formatter,r=function(e,t){var a=new E.a(e);switch(t){case ae.Minute:return a.multipliedBy(ce);case ae.Hour:return a.multipliedBy(ie);case ae.Day:return a.multipliedBy(oe);default:return a}}(o[t],a).toFixed(),s=n.toHumanReadableValue(r,3),l=c.getPriceInUsd(t,s);return e+Number(l)}),0);return Object(m.jsx)("div",{className:n,children:"".concat(l," $ ").concat(je[a])})},_t=a(52),Nt=a.n(_t),yt=function(){return Object(m.jsxs)("div",{className:Nt.a.root,children:[Object(m.jsxs)("div",{className:Nt.a.wrapper,children:[Object(m.jsx)(ft,{}),Object(m.jsx)(gt,{className:Nt.a.balance,type:wt.outcome,period:ae.Hour})]}),Object(m.jsxs)("div",{className:Nt.a.wrapper,children:[Object(m.jsx)(pt,{}),Object(m.jsx)(gt,{className:Nt.a.balance,type:wt.income,period:ae.Hour})]}),Object(m.jsxs)("div",{className:Nt.a.wrapper,children:[Object(m.jsx)(xt,{}),Object(m.jsx)(Ot,{className:Nt.a.balance,tokenAccountId:A,mode:at.USD})]})]})},kt=a(71),Ct=a.n(kt),St=[Ke.myStreams,Ke.account],It=function(){return Object(m.jsx)("div",{className:Ct.a.wrapper,children:Object(m.jsxs)(it,{className:Ct.a.root,children:[Object(m.jsxs)("div",{className:Ct.a.left,children:[Object(m.jsx)(rt,{className:Ct.a.logo}),Object(m.jsx)(ht,{pageRoutes:St})]}),Object(m.jsxs)("div",{className:Ct.a.right,children:[Object(m.jsx)(yt,{}),Object(m.jsx)(dt,{})]})]})})};function Mt(){var e=Object(m.jsx)("div",{className:"flex justify-start items-center",children:Object(m.jsx)("img",{src:$e,alt:"roketo logo"})});return Object(m.jsx)("div",{className:j()("py-4 px-6","absolute w-full pt-8","flex justify-center"),children:e})}function At(){var e=Qe(!1),t=Object(m.jsxs)("ul",{className:"flex-col lg:flex-row flex justify-center ",children:[Object(m.jsx)("li",{className:"mb-2 lg:mr-2 lg:mb-0",children:Object(m.jsx)(p,{onClick:e.turnOff,to:Ke.account.path,icon:Object(m.jsx)(b,{}),children:Ke.account.title})}),Object(m.jsx)("li",{className:"mb-2 lg:mr-2 lg:mb-0",children:Object(m.jsx)(p,{onClick:e.turnOff,to:Ke.streams.path,icon:Object(m.jsx)(h,{}),children:Ke.streams.title})}),Object(m.jsx)("li",{className:"mb-2 lg:mr-2 lg:mb-0",children:Object(m.jsx)(p,{onClick:e.turnOff,to:Ke.myStreams.path,icon:Object(m.jsx)(h,{}),children:Ke.myStreams.title})}),Object(m.jsx)("li",{className:"mb-2 lg:mr-2 lg:mb-0",children:Object(m.jsx)(p,{onClick:e.turnOff,to:Ke.send.path,icon:Object(m.jsx)(x,{}),children:Ke.send.title})}),Object(m.jsx)("li",{className:"mb-2 lg:mr-2 lg:mb-0",children:Object(m.jsx)(p,{onClick:e.turnOff,to:Ke.profile.path,icon:Object(m.jsx)(et,{}),children:Ke.profile.title})}),Object(m.jsx)("li",{className:"mb-2 lg:mr-2 lg:mb-0",children:Object(m.jsx)(p,{onClick:e.turnOff,to:Ke.notifications.path,icon:Object(m.jsx)(tt,{}),children:"Notifications"})})]}),a=Object(m.jsx)("div",{className:"flex justify-start items-center",children:Object(m.jsx)("img",{src:$e,alt:"roketo logo"})});return Object(m.jsxs)("div",{className:"py-4 px-6 w-full pt-8",children:[Object(m.jsxs)("div",{className:j()("hidden lg:grid items-center grid-cols-3 gap-3 "),children:[a,t,Object(m.jsx)("div",{className:"flex justify-end",children:Object(m.jsx)(Ge,{})})]}),Object(m.jsxs)("div",{className:j()("lg:hidden"),children:[Object(m.jsxs)("div",{className:"flex justify-between",children:[a,Object(m.jsx)("button",{className:"p-1",onClick:e.toggle,type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("div",{className:j()("burger-menu",e.on?"burger-menu--active":"")})})]}),Object(m.jsxs)("div",{className:j()(e.on?"block":"hidden","mt-4"),children:[t,Object(m.jsx)(Ge,{className:"mt-4"})]})]})]})}function Lt(){var e=Object(u.i)(Ke.authorize.path);return Object(u.i)(Ke.myStreams.path)?Object(m.jsx)(It,{}):e?Object(m.jsx)(Mt,{}):Object(m.jsx)(At,{})}function Ft(e){var t=e.children,a=e.allowed,n=e.redirect,r=e.path,s=e.exact,c=void 0!==s&&s;return Object(m.jsx)(u.b,{exact:c,path:r,render:function(){return a?t:n}})}var Vt=a(26),Bt=a(72),Rt=a.n(Bt),Ht=["children","isRequired","label","description","error","className"],Pt=function(e){var t=e.children,a=e.isRequired,n=void 0!==a&&a,r=e.label,s=e.description,c=e.error,i=e.className,o=Object(Fe.a)(e,Ht);return Object(m.jsxs)("div",Object(Oe.a)(Object(Oe.a)({className:j()(Rt.a.root,i)},o),{},{children:[r&&Object(m.jsx)("label",{className:j()(Rt.a.label,Object(ne.a)({},Rt.a.required,n)),children:r}),t,s&&Object(m.jsx)("div",{className:Rt.a.description,children:s}),c&&Object(m.jsx)("div",{className:Rt.a.error,children:c})]}))},Tt=a(154),Dt=a.n(Tt),Et=["className","hasError"],Wt=function(e){var t=e.className,a=e.hasError,n=void 0!==a&&a,r=Object(Fe.a)(e,Et);return Object(m.jsx)("input",Object(Oe.a)({className:j()(Dt.a.input,Object(ne.a)({},Dt.a.error,n),t)},r))},qt=["placeholder","description","isRequired","className","field","form","label"],zt=function(e){var t=e.placeholder,a=e.description,n=e.isRequired,r=e.className,s=e.field,c=e.form,i=e.label,o=Object(Fe.a)(e,qt),l=c.errors[s.name];return Object(m.jsx)(Pt,{isRequired:n,className:r,description:a,label:i,error:l,children:Object(m.jsx)(Wt,Object(Oe.a)(Object(Oe.a)({required:n,hasError:Boolean(l),placeholder:t},s),o))})},Ut=["tokenAccountId","className"];function Yt(e){return Object(m.jsx)("svg",Object(Oe.a)(Object(Oe.a)({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20pt",height:"20pt",viewBox:"0 0 864.000000 864.000000",preserveAspectRatio:"xMidYMid meet"},e),{},{children:Object(m.jsx)("g",{transform:"translate(0.000000,864.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none",children:Object(m.jsx)("path",{d:"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z"})})}))}function Zt(e){return Object(m.jsx)("svg",Object(Oe.a)(Object(Oe.a)({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20pt",height:"20pt",viewBox:"0 0 864.000000 864.000000",preserveAspectRatio:"xMidYMid meet"},e),{},{children:Object(m.jsx)("g",{transform:"translate(0.000000,864.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none",children:Object(m.jsx)("path",{d:"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z"})})}))}var Jt={"wrap.testnet":Yt,"wrap.near":Yt};function Gt(e){var t,a,n=e.tokenAccountId,r=e.className,s=Object(Fe.a)(e,Ut),c=null===(t=Le().tokens[n])||void 0===t||null===(a=t.meta)||void 0===a?void 0:a.icon;if(c)return Object(m.jsx)("img",Object(Oe.a)({src:c,alt:n,className:r},s));var i=n in Jt?Jt[n]:Zt;return Object(m.jsx)(i,Object(Oe.a)({className:r},s))}function Kt(e){var t=e.tokenAccountId,a=e.size,n=void 0===a?8:a,r=e.className;return Object(m.jsx)("div",{className:j()("p-1 flex-shrink-0 rounded-full bg-black inline-flex items-center justify-center","w-".concat(n," h-").concat(n),r),children:Object(m.jsx)(Gt,{className:"w-full h-full rounded-full",tokenAccountId:t})})}var Xt=a(118),$t=a.n(Xt),Qt=["children","className"];function ea(e){var t=e.opened,a=e.children,n=e.className,s=e.onClose,c=r.a.useRef(null);return function(e,t){var a=function(a){var n=a.target;e.current&&n instanceof HTMLElement&&!e.current.contains(n)&&t()};r.a.useEffect((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}))}(c,(function(){t&&s()})),Object(m.jsx)("div",{ref:c,className:j()($t.a.menu,Object(ne.a)({},$t.a.hidden,!t),n),children:a})}function ta(e){var t=e.children,a=e.className,n=Object(Fe.a)(e,Qt);return Object(m.jsx)("div",Object(Oe.a)(Object(Oe.a)({className:a},n),{},{children:t}))}function aa(){return Object(m.jsx)("div",{className:$t.a.menuDivider})}var na=function(e){var t=e.width,a=void 0===t?8:t,n=e.height,r=void 0===n?6:n,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:a,height:r,viewBox:"0 0 8 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M7.06 0.726562L4 3.7799L0.94 0.726562L0 1.66656L4 5.66656L8 1.66656L7.06 0.726562Z",fill:"#2B313B"})})})},ra=a(119),sa=a.n(ra),ca=["opened","className","children","onChange"];function ia(e){var t=e.opened,a=e.className,n=e.children,r=e.onChange,s=Object(Fe.a)(e,ca),c=j()(sa.a.arrow,Object(ne.a)({},sa.a.rotate,t));return Object(m.jsxs)("button",Object(Oe.a)(Object(Oe.a)({type:"button",onClick:function(){return r(!t)},className:j()(sa.a.root,a)},s),{},{children:[n,Object(m.jsx)(na,{className:c})]}))}var oa=a(88),la=a.n(oa);function ua(e){var t=e.active,a=e.label,n=e.value,r=e.onChange;return Object(m.jsxs)("label",{className:la.a.root,children:[Object(m.jsx)("input",{type:"radio",className:"invisible w-0 h-0 absolute",checked:t,onChange:function(){return r(n)}}),Object(m.jsx)("div",{className:j()(la.a.radio,Object(ne.a)({},la.a.radioActive,t))}),Object(m.jsx)("div",{className:la.a.text,children:a})]})}var da=a(221),ja=(a(379),a(155)),ma=a.n(ja);function ba(e){var t=e.placement,a=void 0===t?"top":t,n=e.children,r=e.overlay,s=e.align,c=e.overlayClassName;return Object(m.jsx)(da.a,{align:s,placement:a,overlay:r,overlayClassName:c||ma.a.defaultOverlay,children:n||Object(m.jsx)("span",{className:ma.a.defaultIcon,children:"?"})})}var ha=a(45),xa=a(222),pa=a(216),fa=function(e,t){return ha.c().shape({receiver:ha.d().required("Receiver is a required").test("receiver-not-equal-owner","Receiver can not be the same as owner",(function(e){return e!==t})).test("receiver-is-valida-address","Address does not exists",function(){var t=Object(f.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=Boolean,t.t1=a,!t.t1){t.next=7;break}return t.next=6,e.connection.provider.query({request_type:"view_account",finality:"final",account_id:a});case 6:t.t1=t.sent;case 7:return t.t2=t.t1,t.abrupt("return",(0,t.t0)(t.t2));case 11:return t.prev=11,t.t3=t.catch(0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),streamName:ha.d().max(100,"Stream name must be less or equal 100 symbols"),token:ha.d().required(),deposit:ha.b().required().moreThan(0,"Deposit should be more than 0"),speed:ha.b().required().moreThan(0,"Choose stream duration"),autoStart:ha.a(),comment:ha.d().max(255)})},va={receiver:"",streamName:"",token:A,speed:0,deposit:0,autoStart:!0,comment:""};function Oa(e){var t=e.onSubmit,a=Le(),r=a.near,s=a.auth,c=a.tokens,i=fa(r,s.accountId),o=Object(n.useState)(!1),l=Object(v.a)(o,2),u=l[0],d=l[1],j=Object(n.useState)(null),b=Object(v.a)(j,2),h=b[0],x=b[1],p=function(){var e=Object(f.a)(w.a.mark((function e(a){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(a);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.t0 instanceof Error&&x(e.t0),e.abrupt("return",void 0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=Object.values(c);return Object(m.jsx)(Vt.b,{initialValues:va,validationSchema:i,onSubmit:p,validateOnBlur:!1,validateOnChange:!1,validateOnMount:!1,children:function(e){var t=e.values,a=e.setFieldValue,n=e.setFieldTouched,r=e.handleSubmit,s=e.isSubmitting,i=t.token,o=c[i],l=o.meta,j=o.roketoMeta,b=o.formatter;return Object(m.jsxs)("form",{className:"max-w-lg mx-auto w-full",onSubmit:r,children:[Object(m.jsx)(Vt.a,{name:"receiver",label:"Receiver:",component:zt,placeholder:"receiver.".concat(_)}),Object(m.jsxs)("div",{className:"flex mb-4",children:[Object(m.jsx)(Vt.a,{name:"token",children:function(e){var t=e.field,r=e.meta;return Object(m.jsxs)(Pt,{label:"Token:",className:"w-1/3 items-center relative",error:r.error,children:[Object(m.jsx)(ia,{className:"bg-input text-white focus-within:border-blue hover:border-blue text-xl h-14 px-4 py-3 border border-border w-36",onChange:d,children:Object(m.jsxs)("div",{className:"inline-flex items-center",children:[Object(m.jsx)(Kt,{tokenAccountId:t.value,className:"mr-1"})," ",Object(m.jsx)("span",{children:l.symbol})]})}),Object(m.jsx)(ea,{opened:u,className:"z-10",onClose:function(){return d(!1)},children:O.map((function(e){var r=e.meta.symbol,s=e.api.tokenAccountId;return Object(m.jsx)(ta,{className:"focus-within:border-blue",children:Object(m.jsx)(ua,{label:Object(m.jsxs)("div",{className:"inline-flex items-center",children:[Object(m.jsx)(Kt,{size:6,tokenAccountId:s,className:"mr-1"})," ",Object(m.jsx)("span",{children:r})]}),active:t.value===s,value:s,onChange:function(e){d(!1),a(t.name,e,!1),n(t.name,!0,!1)}})},s)}))})]})}}),Object(m.jsx)(Vt.a,{name:"deposit",label:Object(m.jsxs)("span",{children:[Object(m.jsx)("span",{children:"Stream deposit:"}),Object(m.jsx)(ba,{overlay:"Funds which will be used to create a stream for a set period."})," ",Object(m.jsx)(Ot,{tokenAccountId:i})]}),placeholder:"0.00",component:zt})]}),Object(m.jsx)("div",{className:"block mb-4",children:Object(m.jsx)(Vt.a,{name:"speed",children:function(e){var t=e.field,a=e.meta;return Object(m.jsx)(Pt,{label:Object(m.jsxs)("div",{className:"relative",children:[Object(m.jsxs)("div",{children:["Period to unlock the initial deposit:"," ",Object(m.jsx)(ba,{overlay:"In case of no extensions for an initial deposit after this period will be reached receiver will be able to withdraw whole initial deposit and close the stream. "})]}),Object(m.jsxs)("div",{className:"text-xs text-gray absolute right-0 top-1",children:["Streaming speed:"," ",function(){if(t.value<=0)return"none";var e=b.tokensPerMeaningfulPeriod(t.value),a=e.formattedValue,n=e.unit;return"".concat(a," ").concat(l.symbol," / ").concat(n)}()]})]}),error:a.error,children:" "})}})}),Object(m.jsx)(Vt.a,{name:"comment",children:function(e){var t=e.field,a=e.meta;return Object(m.jsx)(Pt,{className:"mb-6",error:a.error,label:Object(m.jsxs)("div",{className:"flex justify-between items-center",children:[Object(m.jsx)("div",{className:"mb-1",children:"Comment:"}),Object(m.jsxs)("div",{className:"text-xs text-gray",children:[t.value&&t.value.length||0,"/255"]})]}),children:Object(m.jsx)("label",{className:"h-40 Input font-semibold flex p-4 pt-0 rounded-lg border  bg-input text-white focus-within:border-blue hover:border-blue border-border",children:Object(m.jsx)("textarea",Object(Oe.a)({id:"commentInput",className:" bg-input  w-full h-full pt-2 focus:outline-none resize-none",placeholder:"Enter comment",maxLength:255},t))})})}}),h&&Object(m.jsxs)("p",{className:"text-special-inactive my-4",children:["Submit error:"," ",h.message]}),Object(m.jsxs)("div",{className:"flex relaitive",children:[Object(m.jsxs)("div",{children:[Object(m.jsxs)("label",{className:"flex",children:[Object(m.jsx)(Vt.a,{name:"autoStart",className:"mr-1",type:"checkbox"}),Object(m.jsxs)("span",{children:["Start stream immediately?"," ",Object(m.jsx)(ba,{overlay:"Check this if you want this stream to start transferring funds immediately."})]})]}),l&&Object(m.jsxs)("p",{className:"text-left text-gray w-2/3 text-sm",children:["You will be charged"," ",b.amount(j.commission_on_create)," ",l.symbol," ","fee for that stream"]})]}),Object(m.jsx)(Pe,{type:"submit",disabled:s,variant:"main",size:"big",className:"rounded-lg",children:"Create Stream"})]})]})}})}var wa=Object(u.f)("streams"),ga="".concat(window.location.origin,"/#/").concat(wa);function _a(){var e=Le(),t=e.roketo,a=e.tokens,n=function(){var e=Object(f.a)(w.a.mark((function e(n){var r,s,c,i,o,l,u,d,j,m;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.receiver,s=n.autoStart,c=n.comment,i=n.deposit,o=n.speed,l=n.token,u=a[l],d=u.formatter,j=u.api,m=u.roketoMeta,e.next=4,t.api.createStream({deposit:d.toYocto(i),description:c,receiverId:r,tokenAccountId:l,commissionOnCreate:m.commission_on_create,tokensPerSec:o,isAutoStart:s,callbackUrl:ga,handleTransferStream:j.transfer});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:"container m-auto px-5 py-12",children:[Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("h1",{className:"text-5xl mb-4 text-center",children:"Create a stream"}),Object(m.jsx)("p",{className:"text-gray",children:"Stream your tokens to the receiver directly"})]}),Object(m.jsx)(Oa,{onSubmit:n})]})}var Na=a(15),ya=a(51),ka=a.n(ya),Ca=a(89),Sa=[["#4743FB","#C750FF"],["#FFCC69","#FF8469"]],Ia=["linear-gradient(270deg, ".concat(Sa[0][0]," 0%, ").concat(Sa[0][1]," 100%)"),"linear-gradient(270deg, ".concat(Sa[1][0]," 0%, ").concat(Sa[1][1]," 100%)")];function Ma(e){var t=e.progresses,a=e.className,n=Object(Na.a)(t);return n.sort((function(e,t){return t-e})),Object(m.jsx)("div",{className:j()("relative h-3 rounded-r-md rounded-l-lg bg-progressBar",a),children:n.map((function(e,t){return Object(m.jsx)("div",{className:"absolute left-0 h-full rounded-lg",style:{width:"".concat(100*e,"%"),background:Ia[t]}},t)}))})}function Aa(e){var t=e.endColor,a=e.startColor,n=e.progressValue,r=e.idCSS,s=e.rotation,c="rotate(".concat(s,")");return Object(m.jsx)("svg",{style:{height:0},children:Object(m.jsx)("defs",{children:Object(m.jsxs)("linearGradient",{id:r,gradientTransform:c,children:[Object(m.jsx)("stop",{offset:"0%",stopColor:a}),n>0&&n<100?Object(m.jsx)("stop",{offset:"".concat(n,'%"'),stopColor:t}):null,Object(m.jsx)("stop",{offset:"100%",stopColor:t})]})})})}function La(e){var t=e.progresses,a=e.className;t.sort((function(e,t){return t-e}));return Object(m.jsx)("div",{className:j()(a),children:Object(m.jsxs)(Ca.b,{circleRatio:.5,styles:Object(Ca.c)({rotation:.75,pathColor:"#0D0B26",strokeLinecap:"round"}),value:1,minValue:0,maxValue:1,children:[Sa.map((function(e,t){return Object(m.jsx)(Aa,{progressValue:0,idCSS:"__arcProgressBar_grad_".concat(t),rotation:90,startColor:e[0],endColor:e[1]},t)})),t.map((function(e,t){return Object(m.jsx)(Ca.a,{circleRatio:.5,className:"absolute inset-0",value:e,styles:Object(Ca.c)({rotation:.75,trailColor:"transparent",pathColor:"url(#__arcProgressBar_grad_".concat(t,")"),strokeLinecap:"round"}),minValue:0,maxValue:1},t)}))]})})}function Fa(e){return Object(m.jsxs)("svg",Object(Oe.a)(Object(Oe.a)({width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(m.jsxs)("g",{clipPath:"url(#clip0)",children:[Object(m.jsx)("path",{d:"M8.31055 11.6724C8.66342 12.1442 9.11362 12.5345 9.63062 12.817C10.1476 13.0994 10.7193 13.2674 11.3069 13.3095C11.8945 13.3516 12.4843 13.2668 13.0363 13.0609C13.5883 12.855 14.0895 12.5328 14.506 12.1161L16.9711 9.65109C17.7194 8.87624 18.1335 7.83845 18.1242 6.76124C18.1148 5.68403 17.6827 4.65359 16.921 3.89186C16.1593 3.13013 15.1288 2.69805 14.0516 2.68869C12.9744 2.67933 11.9366 3.09344 11.1618 3.84181L9.74849 5.24689",stroke:"currentColor",strokeWidth:"1.64336",strokeLinecap:"round",strokeLinejoin:"round"}),Object(m.jsx)("path",{d:"M11.5972 10.0291C11.2444 9.55731 10.7942 9.16697 10.2772 8.88451C9.76017 8.60205 9.18847 8.43408 8.60085 8.392C8.01323 8.34991 7.42344 8.4347 6.87147 8.6406C6.3195 8.8465 5.81826 9.1687 5.40176 9.58535L2.93672 12.0504C2.18835 12.8252 1.77424 13.863 1.7836 14.9402C1.79296 16.0175 2.22504 17.0479 2.98677 17.8096C3.7485 18.5714 4.77894 19.0034 5.85615 19.0128C6.93336 19.0222 7.97115 18.608 8.746 17.8597L10.1511 16.4546",stroke:"currentColor",strokeWidth:"1.64336",strokeLinecap:"round",strokeLinejoin:"round"})]}),Object(m.jsx)("defs",{children:Object(m.jsx)("clipPath",{id:"clip0",children:Object(m.jsx)("rect",{width:"19.7203",height:"19.7203",fill:"white",transform:"translate(0.09375 0.990601)"})})})]}))}var Va,Ba="in",Ra="out";function Ha(e){var t=Le().auth;return e.receiver_id===t.accountId?Ba:Ra}function Pa(e){return Object(m.jsxs)("svg",Object(Oe.a)(Object(Oe.a)({width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(m.jsx)("path",{d:"M2.42963 2.28638V8.60681",stroke:"#FFAB6A",strokeWidth:"3",strokeLinecap:"round"}),Object(m.jsx)("path",{d:"M8.76996 2.28638V8.60681",stroke:"#FFAB6A",strokeWidth:"3",strokeLinecap:"round"})]}))}function Ta(e){return Object(m.jsx)("svg",Object(Oe.a)(Object(Oe.a)({width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)("path",{d:"M7.17026 3.36901C7.72501 3.6893 7.72501 4.49002 7.17026 4.81031L2.10367 7.7355C1.54891 8.05579 0.855469 7.65543 0.855469 7.01486L0.85547 1.16446C0.85547 0.523887 1.54891 0.123526 2.10367 0.443814L7.17026 3.36901Z",fill:"#2EDDD9"})}))}function Da(e){return Object(m.jsx)("svg",Object(Oe.a)(Object(Oe.a)({width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)("rect",{x:"0.429626",y:"0.930298",width:"9.58382",height:"9.58382",rx:"2",fill:"#F56173"})}))}var Ea=(Va={},Object(ne.a)(Va,U,{colorClass:"text-special-active",label:"Initialized"}),Object(ne.a)(Va,Y,{colorClass:"text-special-active",label:"Active"}),Object(ne.a)(Va,Z,{colorClass:"text-special-hold",label:"Paused"}),Object(ne.a)(Va,J,{colorClass:"text-special-active",label:"Finished"}),Va);function Wa(e){var t=e.stream,a=e.className,n="string"===typeof t.status?Ea[t.status]:Ea[J];return Object(m.jsx)("div",{className:j()(n.colorClass,a),children:n.label})}function qa(e){var t=e.modalControl,a=e.onConfirm;return Object(m.jsxs)(o.a,{isOpen:t.on,onRequestClose:t.turnOff,className:"ModalContent",overlayClassName:"ModalOverlay",children:[Object(m.jsx)("h2",{className:"text-2xl mb-4",children:"Are you sure?"}),Object(m.jsx)("p",{className:"mb-6",children:"As a stream receiver, you will not be able to resume stream. Only stream owners can resume streams"}),Object(m.jsx)(Pe,{className:"w-full",variant:"filled",type:"button",onClick:function(){t.turnOff(),a()},children:"Yes, I want to pause stream."})]})}function za(e){var t=e.stream,a=e.minimal,r=void 0!==a&&a,s=e.className,c=Le(),i=c.auth,o=c.roketo,l=Qe(!1),u=Object(n.useState)(!1),d=Object(v.a)(u,2),b=d[0],h=d[1],x=Object(n.useState)(!1),p=Object(v.a)(x,2),O=p[0],g=p[1],_=i.accountId===t.owner_id,N=i.accountId===t.receiver_id,y=!_&&!N,k=function(){var e=Object(f.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,o.api.pauseStream({streamId:t.id});case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(f.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,o.api.startStream({streamId:t.id});case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,o.api.stopStream({streamId:t.id});case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(K(t)||y)return Object(m.jsx)(Wa,{className:j()(r?"":"border border-border p-4 px-6 rounded-lg",s),stream:t});var I=O&&!b;return Object(m.jsxs)("div",{className:j()(s,"relative inline-flex"),children:[Object(m.jsx)(qa,{modalControl:l,onConfirm:k}),Object(m.jsx)(ia,{opened:I,onChange:g,children:b?"Loading...":Object(m.jsx)(Wa,{stream:t})}),Object(m.jsxs)(ea,{onClose:function(){return g(!1)},opened:I,className:"top-full w-44",children:[t.status!==Y&&_&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ta,{children:Object(m.jsxs)("button",{type:"button",className:"inline-flex items-center font-semibold",onClick:C,children:[Object(m.jsx)(Ta,{className:"mr-4 flex-shrink-0"}),Object(m.jsx)("span",{children:"Start stream"})," "]})}),Object(m.jsx)(aa,{})]}),t.status!==Z&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ta,{children:Object(m.jsxs)("button",{type:"button",className:"inline-flex items-center font-semibold",onClick:function(){N?l.turnOn():k()},children:[Object(m.jsx)(Pa,{className:"mr-4 flex-shrink-0"}),Object(m.jsx)("span",{children:"Pause stream"})]})}),Object(m.jsx)(aa,{})]}),Object(m.jsx)(ta,{children:Object(m.jsxs)("button",{type:"button",className:"inline-flex items-center font-semibold",onClick:S,children:[Object(m.jsx)(Da,{className:"mr-4 flex-shrink-0"}),Object(m.jsx)("span",{children:" Stop stream "})]})})]})]})}var Ua=a(420),Ya=a(419);function Za(e){var t=e.swr,a=e.revalidationPeriod,r=e.isEnabled,s=void 0===r||r,c=Object(n.useState)(a),i=Object(v.a)(c,2),o=i[0],l=i[1];Object(n.useEffect)((function(){if(s){var e=setTimeout((function(){o<=0?(l(a),t.mutate()):l((function(e){return e-1}))}),1e3);return function(){return clearTimeout(e)}}}),[t,o,a,s])}function Ja(){var e=Le(),t=e.auth,a=e.roketo,n=Object(Te.a)(["streams",t.accountId,a.account.last_created_stream],Object(f.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.api.getAccountIncomingStreams({from:0,limit:100});case 2:return t=e.sent,e.next=5,a.api.getAccountOutgoingStreams({from:0,limit:100});case 5:return n=e.sent,e.abrupt("return",{inputs:t,outputs:n});case 7:case"end":return e.stop()}}),e)}))));return Za({swr:n,revalidationPeriod:30}),n}function Ga(e){var t=X(e),a=E.a.minimum(290304e5,new E.a(e.balance).minus(t).dividedBy(e.tokens_per_sec).toFixed()).toNumber(),n=Object(Ua.a)({start:0,end:1e3*a});(n.days||n.weeks||n.months||n.years)&&(n.seconds=0);var r=Object(Ya.a)(n,{locale:z}),s=new E.a(e.balance).plus(e.tokens_total_withdrawn),c=new E.a(e.tokens_total_withdrawn),i=c.plus(t),o=s.minus(i),l=[c.dividedBy(s).toNumber(),i.dividedBy(s).toNumber()],u={left:s.minus(i).dividedBy(s).toNumber(),streamed:i.dividedBy(s).toNumber(),withdrawn:c.dividedBy(s).toNumber(),available:t.dividedBy(s).toNumber()};return{progresses:l,isDead:K(e),percentages:u,timeLeft:r,progress:{full:s.toFixed(),withdrawn:c.toFixed(),streamed:i.toFixed(),left:o.toFixed(),available:t.toFixed()}}}function Ka(){return Object(m.jsxs)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M8.23528 9.07894L1 1.8437M1 1.8437V9.07894M1 1.8437H8.23523",stroke:"#F56173",strokeWidth:"2",strokeLinecap:"round"}),Object(m.jsx)("path",{d:"M12.1637 6.27117C13.591 7.14282 14.5438 8.71519 14.5438 10.5101C14.5438 13.2512 12.3217 15.4733 9.58065 15.4733C7.78575 15.4733 6.21339 14.5205 5.34174 13.0931",stroke:"#F56173",strokeWidth:"2",strokeLinecap:"round"})]})}function Xa(){return Object(m.jsxs)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M0.999991 1.84371L8.23523 9.07889M8.23523 9.07889V1.84371M8.23523 9.07889H1.00004",stroke:"#2EDDD9",strokeWidth:"2",strokeLinecap:"round"}),Object(m.jsx)("path",{d:"M12.1637 6.27124C13.5911 7.14289 14.5438 8.71524 14.5438 10.5101C14.5438 13.2512 12.3218 15.4733 9.58068 15.4733C7.7858 15.4733 6.21344 14.5205 5.3418 13.0931",stroke:"#2EDDD9",strokeWidth:"2",strokeLinecap:"round"})]})}function $a(e){var t=e.stream,a=e.className,n=Ha(t),r=vt(t.token_account_id),s=r.formatter,c=r.meta,i=s.tokensPerMeaningfulPeriod(t.tokens_per_sec);return Object(m.jsxs)("div",{className:j()("inline-flex items-center whitespace-nowrap",a),children:[n===Ra&&Object(m.jsx)(Ka,{}),n===Ba&&Object(m.jsx)(Xa,{}),Object(m.jsxs)("span",{className:"ml-2",children:[Object(m.jsxs)("span",{children:["@",i.formattedValue]}),Object(m.jsxs)("span",{children:[" ",c.symbol," ","/",i.unit]})]})]})}var Qa=["className"];function en(e){var t=e.className,a=Object(Fe.a)(e,Qa);return Object(m.jsx)("div",Object(Oe.a)({className:j()("inline-block w-2 h-2 flex-shrink-9 rounded-full",t)},a))}function tn(e){var t=e.label,a=e.formattedFloatValue,n=e.percentageValue,r=e.colorClass,s=e.className;return Object(m.jsxs)("div",{className:s,children:[Object(m.jsx)(en,{className:j()(r,"mr-1")}),Object(m.jsxs)("span",{children:[t,":"," ",Object(m.jsxs)("span",{className:"font-semibold",children:[a," "]}),Object(m.jsxs)("span",{className:"text-gray",children:[" ",se()(n).format({output:"percent",mantissa:1})]})]})]})}function an(e){var t=e.stream,a=e.className,n=vt(t.token_account_id),r=n.formatter,s=n.meta,c=Ha(t),i=Ga(t),o=i.progresses,d=i.percentages,b=i.timeLeft,h=i.progress,x=h.full,p=h.withdrawn,f=h.streamed,v=Xe(t.id),O=Ke.stream.path;return Object(m.jsxs)("div",{className:j()("grid grid-cols-12 gap-6 justify-items-center","p-10 bg-input rounded-3xl",a),children:[Object(m.jsxs)(l.b,{to:Object(u.f)(O,{id:t.id}),className:"w-full col-span-12 xl:col-span-6 justify-self-start",children:[Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)(Kt,{tokenAccountId:t.token_account_id,className:"mr-4"}),Object(m.jsxs)("div",{className:"w-full gap-4 flex items-end flex-wrap",children:[Object(m.jsxs)("div",{className:"text-2xl whitespace-nowrap flex-shrink-0",children:[r.amount(f)," ","of"," ",r.amount(x)," ",Object(m.jsx)("span",{className:"uppercase",children:s.symbol})]}),Object(m.jsx)($a,{stream:t}),Object(m.jsx)("div",{className:"whitespace-nowrap",children:b&&"".concat(b," remaining")})]})]}),Object(m.jsx)(Ma,{className:"mt-5",progresses:o}),Object(m.jsxs)("div",{className:"flex text-sm mt-3 mr-3",children:[Object(m.jsx)(tn,{className:"mr-4",label:"Withdrawn",colorClass:"bg-streams-withdrawn",formattedFloatValue:"".concat(r.amount(p)," ").concat(s.symbol),percentageValue:d.withdrawn}),Object(m.jsx)(tn,{label:"Streamed",colorClass:"bg-streams-streamed",formattedFloatValue:"".concat(r.amount(f)," ").concat(s.symbol),percentageValue:d.streamed})]})]}),Object(m.jsx)("div",{className:"hidden xl:block"}),Object(m.jsxs)("div",{className:"flex gap-5 justify-between xl:justify-end col-span-12 xl:col-span-5 w-full items-center flex-wrap md:flex-nowrap",children:[c===Ba?Object(m.jsxs)("div",{className:"w-44",children:[Object(m.jsx)("div",{className:"text-gray",children:"Sender:"}),Object(m.jsx)("div",{className:"break-words",children:t.owner_id})]}):Object(m.jsxs)("div",{className:"w-44",children:[Object(m.jsx)("div",{className:"text-gray",children:"Receiver:"}),Object(m.jsx)("div",{className:"break-words",children:t.receiver_id})]}),Object(m.jsxs)("div",{className:"w-24",children:[Object(m.jsx)("div",{className:"text-gray",children:"Status:"}),Object(m.jsx)(za,{className:"w-full",minimal:!0,stream:t})]}),Object(m.jsx)("div",{className:"flex items-start justify-end w-52",children:Object(m.jsx)(Pe,{type:"button",className:"ml-3",variant:"filled",onClick:function(){return ka()(v)},to:Object(u.f)(O,{id:t.id}),children:Object(m.jsx)(Fa,{})})})]})]})}var nn=a(120),rn=a.n(nn);function sn(e){var t=e.count,a=e.option;return Object(m.jsxs)("span",{children:[a," ",Object(m.jsx)("span",{className:"text-gray font-normal",children:t})]})}function cn(e){var t=e.label,a=e.options,r=e.renderOption,s=e.renderActive,c=e.active,i=e.onChange,o=e.className,l=Object(n.useState)(!1),u=Object(v.a)(l,2),d=u[0],b=u[1];return Object(m.jsxs)("div",{className:j()(rn.a.root,o),children:[t&&Object(m.jsx)("div",{className:"text-gray mr-2",children:t}),Object(m.jsxs)("div",{className:rn.a.dropdownWrapper,children:[Object(m.jsx)(ia,{opened:d,onChange:b,children:s?s(c):c}),Object(m.jsx)(ea,{opened:d,className:rn.a.dropdownMenu,onClose:function(){b(!1)},children:a.map((function(e){return Object(m.jsx)(ua,{label:r?r(e,c===e):e,active:c===e,value:e,onChange:i})}))})]})]})}var on,ln,un=a(90),dn=a.n(un);!function(e){e.button="button",e.submit="submit"}(on||(on={})),function(e){e.primary="primary",e.simple="simple",e.action="action",e.invisible="invisible"}(ln||(ln={}));var jn,mn=function(e){var t,a=e.type,n=void 0===a?on.button:a,r=e.displayMode,s=void 0===r?ln.action:r,c=e.disabled,i=void 0!==c&&c,o=e.link,u=e.children,d=e.className,b=e.onClick,h=j()(dn.a.root,(t={},Object(ne.a)(t,dn.a.primary,s===ln.primary),Object(ne.a)(t,dn.a.action,s===ln.action),Object(ne.a)(t,dn.a.simple,s===ln.simple),t),d),x=Object(m.jsx)("button",{type:n,className:h,onClick:b,disabled:i,children:u});return o?Object(m.jsx)(l.b,{to:o,children:x}):x},bn=a(121),hn=a.n(bn),xn=function(e){var t=e.directions,a=e.activeDirection,n=e.onDirectionClick;return Object(m.jsx)("div",{className:hn.a.root,children:t.map((function(e){return Object(m.jsx)(mn,{className:j()(hn.a.sort,Object(ne.a)({},hn.a.active,e===a)),onClick:function(){return n(e)},children:e},e)}))})};function pn(e){var t=e.options,a=Object(n.useMemo)((function(){return Object.keys(t)}),[t]),r=Object(n.useState)(a[0]),s=Object(v.a)(r,2),c=s[0],i=s[1];return Object(n.useMemo)((function(){var e=t[c];return{option:c,selectOption:i,options:t,optionsArray:a,currentFilterFunction:e}}),[t,c,a])}var fn="All",vn="Incoming",On="Outgoing",wn=(jn={ALL:"All"},Object(ne.a)(jn,Y,"Active"),Object(ne.a)(jn,Z,"Paused"),Object(ne.a)(jn,J,"Finished"),jn);function gn(e){var t=Le().auth,a=Object(n.useMemo)((function(){var e;return e={},Object(ne.a)(e,wn.ALL,(function(){return!0})),Object(ne.a)(e,wn[Y],(function(e){return e.status===Y})),Object(ne.a)(e,wn[Z],(function(e){return e.status===Z})),Object(ne.a)(e,wn[J],K),e}),[]),r=Object(n.useMemo)((function(){var e;return e={},Object(ne.a)(e,fn,(function(){return!0})),Object(ne.a)(e,vn,(function(e){return t.accountId===e.receiver_id})),Object(ne.a)(e,On,(function(e){return t.accountId===e.owner_id})),e}),[t.accountId]),s=pn({options:a}),c=pn({options:r}),i=function(e){var t=e.items,a=e.filters,r=Object(n.useState)(void 0),s=Object(v.a)(r,2),c=s[0],i=s[1],o=Object(n.useState)([]),l=Object(v.a)(o,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){var e=t,n=[];a.forEach((function(t){var a={};Object.keys(t.options).forEach((function(n){var r;a[n]=null===(r=e)||void 0===r?void 0:r.filter(t.options[n])}));var r={};Object.keys(a).forEach((function(e){r[e]=(a[e]||[]).length})),n.push(r),e=a[t.option]})),d(n),i(e)}),[t,a]),{filterCounts:u,filteredItems:c}}({items:e,filters:Object(n.useMemo)((function(){return[c,s]}),[c,s])});return{statusFilter:s,directionFilter:c,result:i}}var _n=a(217),Nn=a.n(_n);function yn(e,t,a){return Number(t[a])-Number(e[a])}var kn={bigBalanceFirst:{label:"With big balances",fn:function(e,t){return yn(e,t,"balance")}},highSpeedFirst:{label:"With high speed",fn:function(e,t){return yn(e,t,"tokens_per_sec")}},highSpeedLast:{label:"With low speed",fn:function(e,t){return-1*yn(e,t,"tokens_per_sec")}},mostRecent:{label:"Most recent",fn:function(e,t){return yn(e,t,"timestamp_created")}}};function Cn(e){var t=e.items,a=e.onFilterDone,r=e.className,s=gn(t),c=s.result.filteredItems,i=Object(n.useState)(kn.mostRecent),o=Object(v.a)(i,2),l=o[0],u=o[1],d=Object.values(kn);return Object(n.useEffect)((function(){if(c){var e=Object(Na.a)(c);e.sort(l.fn),a(e)}else a(c)}),[c,a,l.fn]),Object(m.jsxs)("div",{className:j()("md:flex",r),children:[Object(m.jsx)(xn,{directions:s.directionFilter.optionsArray,activeDirection:s.directionFilter.option,onDirectionClick:s.directionFilter.selectOption}),Object(m.jsx)("div",{className:"flex-grow"}),Object(m.jsxs)("div",{className:Nn.a.filtersWrapper,children:[Object(m.jsx)(cn,{options:s.statusFilter.optionsArray,label:"Status:",active:s.statusFilter.option,onChange:s.statusFilter.selectOption,renderOption:function(e){var t=s.result.filterCounts[1];return Object(m.jsx)(sn,{option:e,count:t?t[e]:""})}}),Object(m.jsx)(cn,{options:d,label:"Show first:",active:l,onChange:u,renderOption:function(e){return Object(m.jsx)("span",{children:e.label})},renderActive:function(e){return Object(m.jsx)("span",{children:e.label})}})]})]})}var Sn=a(42);function In(e){var t,a=e.children,n=Le(),r=n.tokens,s=n.roketo,c=(Ja().data||{}).inputs,i=(void 0===c?[]:c).filter(G),o={},l=[],u=[],d=Object(Sn.a)(i);try{for(d.s();!(t=d.n()).done;){var j=t.value,b=j.token_account_id,h=X(j);if("0"!==h.toFixed()&&u.push(j.id),o[b])o[b].available=o[b].available.plus(h);else{var x={available:h,tokenAccountId:b};l.push(x),o[b]=x}}}catch(f){d.e(f)}finally{d.f()}var p=l.map((function(e){var t=r[e.tokenAccountId],a=t.formatter,n=t.meta.symbol,s=a.amount(e.available.toFixed());return{tokenAccountId:e.tokenAccountId,amount:s,symbol:n}}));return Object(m.jsx)(ba,{placement:"bottom",align:{offset:[0,20]},overlay:Object(m.jsxs)("div",{className:"text-left",children:[Object(m.jsx)("p",{className:"mb-4 text-gray",children:"Move all received tokens to your wallet."}),Object(m.jsxs)("div",{className:"text-left",children:[0!==p.length&&p.map((function(e){return Object(m.jsxs)("div",{className:"inline-flex items-center p-2 rounded-lg bg-card2 w-full mb-2",children:[Object(m.jsx)(Kt,{tokenAccountId:e.tokenAccountId,className:"mr-2"})," ",Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"font-semibold",children:e.amount})," ",Object(m.jsx)("span",{className:"text-gray",children:e.symbol})]})]},e.tokenAccountId)})),0===p.length&&Object(m.jsx)("p",{className:"font-semibold text-center",children:"You have nothing to withdraw"})]})]}),children:Object(m.jsx)(mn,{onClick:function(){u.length>0&&s.api.withdraw({streamIds:u})},children:a})})}var Mn=a.p+"static/media/RUSSIANS_HACK.83d68466.gif",An=a.p+"static/media/crab.3fbdb8f2.gif";function Ln(e){var t=e.message,a=e.onRetry,n=e.className,s=r.a.useRef(Math.random());return Object(m.jsxs)("div",{className:j()("text-center",n),children:[s.current>.5?Object(m.jsx)("img",{src:Mn,className:"mx-auto",alt:"funny hackers gif with bird dancing around"}):Object(m.jsx)("img",{src:An,className:"mx-auto",alt:"crab with a knife tries to hurt people"}),Object(m.jsx)("h1",{className:"text-4xl font-semibold mb-6 mt-10",children:"Something is broken."}),Object(m.jsx)("p",{className:"text-gray mb-4",children:"Finally we have something to fix"}),t&&Object(m.jsx)("code",{className:"p-4 border-special-inactive border block text-special-inactive text-xs mb-4",children:t}),Object(m.jsx)(Pe,{variant:"outlined",color:"dark",className:"mt-10",onClick:a,type:"button",children:"Try again"}),Object(m.jsx)("p",{className:"text-xs text-gray mt-2",children:"(that probably wont help)"})]})}function Fn(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],r=t[1],s=Ja(),c=Le().priceOracle,i=s.data,o=s.error,l=i||{},u=l.inputs,d=l.outputs,j=Object(n.useMemo)((function(){return(u||d)&&[].concat(Object(Na.a)(u||[]),Object(Na.a)(d||[]))}),[u,d]),b=c.getPriceInUsd(A,1);return Object(m.jsxs)("div",{className:"container mx-auto p-12",children:[Object(m.jsxs)("div",{className:"flex mb-12",children:[Object(m.jsx)("h1",{className:"text-3xl ",children:"All Streams"}),Object(m.jsx)("div",{className:"flex-grow"}),Object(m.jsx)(In,{children:"Withdraw all"})]}),Object(m.jsxs)("div",{children:["Current currency conversion rate is:",Object(m.jsx)("h2",{children:"1 Near is approximately equals to ".concat(b,"$")})]}),Object(m.jsx)(Cn,{items:j,onFilterDone:r,className:"mb-10 relative z-10"}),o&&Object(m.jsx)(Ln,{className:"max-w-2xl mx-auto py-32",message:o.message,onRetry:function(){s.mutate()}}),!i&&!o&&Object(m.jsx)("div",{children:"Loading"}),i&&0===(null===j||void 0===j?void 0:j.length)&&Object(m.jsxs)("div",{className:"flex flex-col w-80 mx-auto",children:[Object(m.jsx)("h3",{className:"text-3xl text-center my-12 ",children:"You dont have any streams yet."}),Object(m.jsx)(Pe,{variant:"main",link:!0,to:Ke.send.path,children:"Create First Stream"})]}),i&&0===(null===a||void 0===a?void 0:a.length)&&0!==(null===j||void 0===j?void 0:j.length)&&Object(m.jsxs)("h3",{className:"text-3xl text-center my-12 w-80 mx-auto",children:["No streams matching your filters."," ",Object(m.jsx)("br",{}),"Try selecting different filters!"]}),null===a||void 0===a?void 0:a.map((function(e){return Object(m.jsx)(an,{stream:e,className:"mb-4"},e.id)}))]})}var Vn=a(91),Bn=a.n(Vn),Rn=function(e){var t=e.isOpen,a=void 0===t||t,n=e.title,r=e.children,s=e.onCloseModal;return Object(m.jsxs)(o.a,{isOpen:a,onRequestClose:s,className:Bn.a.content,overlayClassName:Bn.a.overlay,children:[Object(m.jsx)("span",{className:Bn.a.close,onClick:s}),Object(m.jsx)("h2",{className:Bn.a.title,children:n}),r]})},Hn=function(e){var t=e.width,a=void 0===t?20:t,n=e.height,r=void 0===n?20:n,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:a,height:r,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z",fill:"#D80A1F"})})})},Pn=a(157),Tn=a.n(Pn),Dn=["className","hasError","maxLength","value"],En=function(e){var t=e.className,a=e.hasError,n=void 0!==a&&a,r=e.maxLength,s=e.value,c=Object(Fe.a)(e,Dn);return Object(m.jsx)("textarea",Object(Oe.a)({className:j()(Tn.a.textarea,Object(ne.a)({},Tn.a.error,n),t),"data-character-limit":r,"data-current-character-count":s&&String(s).length||0},c))},Wn=["placeholder","description","isRequired","className","field","form","label"],qn=function(e){var t=e.placeholder,a=e.description,n=e.isRequired,r=e.className,s=e.field,c=e.form,i=e.label,o=Object(Fe.a)(e,Wn),l=c.errors[s.name];return Object(m.jsx)(Pt,{isRequired:n,className:r,description:a,label:i,error:l,children:Object(m.jsx)(En,Object(Oe.a)(Object(Oe.a)({required:n,hasError:Boolean(l),placeholder:t},s),o))})},zn=a(92),Un=a.n(zn),Yn=["description","className","hasError"],Zn=function(e){var t=e.description,a=e.className,n=e.hasError,r=void 0!==n&&n,s=Object(Fe.a)(e,Yn);return Object(m.jsxs)("div",{className:j()(Un.a.root,a),children:[Object(m.jsx)("input",Object(Oe.a)({type:"checkbox",className:j()(Un.a.checkbox,Object(ne.a)({},Un.a.error,r))},s)),t&&Object(m.jsx)("span",{className:Un.a.description,children:t})]})},Jn=["description","isRequired","className","label","field","form"],Gn=function(e){var t=e.description,a=e.isRequired,n=e.className,r=e.label,s=e.field,c=e.form,i=Object(Fe.a)(e,Jn),o=c.errors[s.name];return Object(m.jsx)(Pt,{isRequired:a,className:n,label:r,error:o,children:Object(m.jsx)(Zn,Object(Oe.a)(Object(Oe.a)({description:t,required:a,hasError:Boolean(o)},s),i))})};var Kn=/^[0-9]+$/,Xn=a(93),$n=a.n(Xn),Qn=function(e){var t=e.className,a=e.value,n=e.onChange,r=e.label;return Object(m.jsxs)("div",{className:j()($n.a.speedInput,t),children:[Object(m.jsx)(Wt,{placeholder:"0",value:a,onChange:n,className:$n.a.input}),Object(m.jsx)("label",{className:$n.a.label,children:r})]})},er=function(e){var t=e.form,a=e.field,r=e.label,s=e.deposit,c=e.className,i=e.isRequired,o=e.description,l=e.onSpeedChange,u=e.tokenAccountId,d=Le().tokens[u].formatter,j=t.errors[a.name],b=Object(n.useState)(0),h=Object(v.a)(b,2),x=h[0],p=h[1],f=Object(n.useState)(0),O=Object(v.a)(f,2),w=O[0],g=O[1],_=Object(n.useState)(0),N=Object(v.a)(_,2),y=N[0],k=N[1],C=Object(n.useState)(0),S=Object(v.a)(C,2),I=S[0],M=S[1],A=d.toYocto(s),L=function(e,t,a,n){return(Object(xa.a)(Object(pa.a)(new Date,e),new Date)+t)*oe+n*ce+a*ie}(x,w,I,y),F=function(e,t){var a=new E.a(e).dividedToIntegerBy(t).toFixed();return"Infinity"!==a?a:"0"}(A,L),V=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)((function(){t.current=e}),[e]),t.current}(F);Object(n.useEffect)((function(){V!==F&&l(F)}),[F,l,V]);var B=function(e){return function(t){var a,n=t.target.value||"0";a=n,Kn.test(a)&&e(Number(n))}};return Object(m.jsx)(Pt,{isRequired:i,className:c,description:o,label:r,error:j,children:Object(m.jsxs)("div",{className:$n.a.wrapper,children:[Object(m.jsx)(Qn,{value:x,onChange:B(p),label:"Months"}),Object(m.jsx)(Qn,{value:w,onChange:B(g),label:"Days"}),Object(m.jsx)(Qn,{value:I,onChange:B(M),label:"Hours"}),Object(m.jsx)(Qn,{value:y,onChange:B(k),label:"Minutes"})]})})},tr=a(73),ar=a.n(tr),nr=function(e){var t=e.token,a=e.onClick,n=e.className;return Object(m.jsxs)("button",{type:"button",className:j()(ar.a.tokenOption,n),onClick:a,children:[Object(m.jsx)(Kt,{tokenAccountId:t.roketoMeta.account_id}),Object(m.jsx)("span",{children:"".concat(t.meta.name,", ").concat(t.meta.symbol)})]})},rr=function(e){var t=e.form,a=e.label,r=e.field,s=e.className,c=e.isRequired,i=e.description,o=e.onTokenChoose,l=e.activeTokenAccountId,u=Le().tokens,d=Object(n.useState)(!1),j=Object(v.a)(d,2),b=j[0],h=j[1],x=Object.values(u),p=u[l],f=t.errors[r.name];return Object(m.jsx)(Pt,{isRequired:c,className:s,description:i,label:a,error:f,children:Object(m.jsxs)("div",{className:ar.a.dropdownWrapper,children:[Object(m.jsx)(ia,{onChange:h,className:ar.a.dropdownOpener,opened:b,children:Object(m.jsx)(nr,{token:p})}),Object(m.jsx)(ea,{opened:b,onClose:function(){return h(!1)},className:ar.a.dropdownMenu,children:x.map((function(e){return Object(m.jsx)(nr,{token:e,onClick:function(){return function(e){h(!1),o(e.roketoMeta.account_id)}(e)},className:ar.a.withHover})}))})]})})},sr=a(29),cr=a.n(sr),ir=function(e){var t=e.children,a=e.className;return Object(m.jsx)("div",{className:j()(cr.a.row,a),children:t})},or=function(e){var t=e.error;return Object(m.jsxs)("div",{className:cr.a.submitError,children:[Object(m.jsx)(Hn,{}),Object(m.jsx)("span",{children:t})]})},lr=function(e){var t=e.onFormCancel,a=e.onFormSubmit,r=Le(),s=r.near,c=r.auth,i=Object(n.useState)(null),o=Object(v.a)(i,2),l=o[0],u=o[1],d=fa(s,c.accountId);return Object(m.jsxs)("div",{className:cr.a.root,children:[Object(m.jsx)("h2",{className:cr.a.title,children:"Create Stream"}),Object(m.jsx)("p",{className:cr.a.description,children:"Stream your tokens to the receiver directly"}),Object(m.jsx)(Vt.b,{initialValues:va,onSubmit:function(e){a(e).catch((function(e){return u(e)}))},validationSchema:d,validateOnBlur:!1,validateOnChange:!1,validateOnMount:!1,children:function(e){var a=e.values,n=e.handleSubmit,r=e.setFieldValue,s=e.setFieldTouched,c=a.token;return Object(m.jsxs)("form",{onSubmit:n,className:cr.a.form,children:[Object(m.jsxs)(ir,{children:[Object(m.jsx)(Vt.a,{name:"streamName",label:"Stream name:",component:zt,placeholder:"Stream name",className:cr.a.rowItem}),Object(m.jsx)(Vt.a,{isRequired:!0,name:"receiver",label:"Receiver:",component:zt,placeholder:"receiver.".concat(_),className:cr.a.rowItem})]}),Object(m.jsxs)(ir,{children:[Object(m.jsx)(Vt.a,{isRequired:!0,name:"deposit",label:"Amount to stream:",component:zt,placeholder:"Amount to stream",className:cr.a.rowItem,description:Object(m.jsx)(Ot,{tokenAccountId:c,mode:at.CRYPTO})}),Object(m.jsx)(Vt.a,{isRequired:!0,name:"token",label:"Token",activeTokenAccountId:a.token,onTokenChoose:function(e){r("token",e,!1),s("token",!0,!1)},component:rr,className:cr.a.rowItem})]}),Object(m.jsx)(ir,{children:Object(m.jsx)(Vt.a,{tokenAccountId:c,isRequired:!0,name:"speed",label:"Stream duration:",deposit:a.deposit,component:er,onSpeedChange:function(e){r("speed",e,!1),s("speed",!0,!1)},className:cr.a.rowItem})}),Object(m.jsx)(ir,{children:Object(m.jsx)(Vt.a,{maxLength:255,name:"comment",label:"Comment:",placeholder:"Enter comment",component:qn,className:cr.a.rowItem})}),Object(m.jsx)(ir,{children:Object(m.jsx)(Vt.a,{name:"autoStart",description:"Start stream immediately",type:"checkbox",component:Gn,className:cr.a.rowItem})}),Object(m.jsxs)("div",{className:cr.a.actionButtonsWrapper,children:[l&&Object(m.jsx)(or,{error:l.message}),Object(m.jsx)(mn,{displayMode:ln.simple,onClick:t,children:"Cancel"}),Object(m.jsx)(mn,{type:on.submit,displayMode:ln.action,children:"Create"})]})]})}})]})},ur=function(e,t){var a=new E.a(e),n=new E.a(t);return a.isEqualTo(0)||n.isEqualTo(0)?new E.a(0):a.dividedBy(n).multipliedBy(100)},dr=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return ur(e,t).dp(a)},jr=a(74),mr=a.n(jr),br=function(e){var t=e.total,a=e.streamed,n=e.withdrawn,r=e.className,s=dr(a,t),c=dr(n,a);return Object(m.jsx)("div",{className:j()(mr.a.progressBar,r),children:Object(m.jsx)("div",{className:j()(mr.a.progress,mr.a.streamed),style:{width:"".concat(s,"%")},children:Object(m.jsx)("div",{className:j()(mr.a.progress,mr.a.withdrawn),style:{width:"".concat(c,"%")}})})})},hr=a(122),xr=a.n(hr),pr=function(e){var t=e.title,a=e.total,n=e.streamed,r=e.withdrawn,s=e.withProgressBar,c=void 0===s||s,i=n?"$ ".concat(n," of ").concat(a):"".concat(a," $");return Object(m.jsxs)("div",{className:xr.a.card,children:[Object(m.jsx)("h3",{className:xr.a.title,children:t}),Object(m.jsx)("span",{className:xr.a.finance,children:i}),c&&Object(m.jsx)(br,{total:a,streamed:n||0,withdrawn:r||0})]})},fr=new E.a(0),vr=function(e,t,a){var n={total:fr,streamed:fr,withdrawn:fr},r=e.reduce((function(e,n){var r=n.token_account_id,s=t[r].formatter,c=Ga(n).progress,i=s.toHumanReadableValue(c.streamed,3),o=a.getPriceInUsd(r,i),l=s.toHumanReadableValue(c.full,3),u=a.getPriceInUsd(r,l),d=s.toHumanReadableValue(c.withdrawn,3),j=a.getPriceInUsd(r,d);return{total:e.total.plus(u),streamed:e.streamed.plus(o),withdrawn:e.withdrawn.plus(j)}}),n);return{total:Number(r.total.toFixed(0)),streamed:Number(r.streamed.toFixed(0)),withdrawn:Number(r.withdrawn.toFixed(0))}},Or=a(218),wr=a.n(Or),gr=function(e){var t=e.className,a=Le(),n=a.tokens,r=a.priceOracle,s=Ja().data||{},c=s.inputs,i=void 0===c?[]:c,o=s.outputs,l=void 0===o?[]:o,u=i.filter(G),d=l.filter(G),b=vr(d,n,r),h=vr(u,n,r),x=function(e,t,a){var n=e.reduce((function(e,n){var r=n.token_account_id,s=t[r].formatter,c=X(n).toFixed(),i=s.toHumanReadableValue(c,3),o=a.getPriceInUsd(r,i);return e.plus(o)}),fr);return Number(n.toFixed(0))}(u,n,r);return Object(m.jsxs)("section",{className:j()(wr.a.root,t),children:[Object(m.jsx)(pr,{title:"Sending",total:b.total,streamed:b.streamed,withdrawn:b.withdrawn}),Object(m.jsx)(pr,{title:"Receiving",total:h.total,streamed:h.streamed,withdrawn:h.withdrawn}),Object(m.jsx)(pr,{title:"Available for withdrawal",total:x,withProgressBar:!1})]})},_r=a(123),Nr=a.n(_r),yr=function(e){var t=e.name,a=e.label;return Object(m.jsxs)("div",{className:Nr.a.flexCenter,children:[Object(m.jsx)("span",{className:Nr.a.name,children:t}),a&&Object(m.jsx)("span",{className:Nr.a.nameLabel,children:a})]})},kr=a(94),Cr=a.n(kr),Sr=function(e){var t=e.total,a=e.symbol,n=e.streamed,r=e.className,s=e.withdrawn,c=me.formatSmartly(n),i="".concat(c," of ").concat(t," ");return Object(m.jsxs)("div",{className:j()(Cr.a.root,r),children:[Object(m.jsxs)("div",{className:Cr.a.status,children:[i,Object(m.jsx)("span",{className:Cr.a.symbol,children:a})]}),Object(m.jsx)(br,{total:t,streamed:n,withdrawn:s,className:Cr.a.progressBar})]})},Ir=function(e){var t=e.width,a=void 0===t?10:t,n=e.height,r=void 0===n?20:n,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:a,height:r,viewBox:"0 0 10 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M10 15L10 11L8 11L8 15C8 16.65 6.65 18 5 18C3.35 18 2 16.65 2 15L2 11L-4.80825e-07 11L-6.55671e-07 15C-7.76314e-07 17.76 2.24 20 5 20C7.76 20 10 17.76 10 15ZM2 9L2 5C2 3.35 3.35 2 5 2C6.65 2 8 3.35 8 5L8 9L10 9L10 5C10 2.24 7.76 -9.79135e-08 5 -2.18557e-07C2.24 -3.392e-07 -9.79135e-08 2.24 -2.18557e-07 5L-3.93402e-07 9L2 9ZM6 6L6 14L4 14L4 6L6 6Z",fill:"black"})})})};function Mr(e){var t=e.stream,a=Le(),n=a.tokens,r=a.roketo,s=X(t),c=n[t.token_account_id].formatter.amount(s.toFixed());return Object(m.jsx)(mn,{disabled:0===Number(c),type:on.button,displayMode:ln.primary,onClick:function(e){e.preventDefault(),r.api.withdraw({streamIds:[t.id]})},children:"Withdraw"})}var Ar=a(158),Lr=a.n(Ar),Fr=function(e){var t=e.onCLick;return Object(m.jsx)("button",{className:Lr.a.linkButton,type:"button",onClick:t,children:Object(m.jsx)(Ir,{})})},Vr=function(e){var t=e.className,a=e.stream,r=a.id,s=Object(n.useCallback)((function(e){e.preventDefault();var t=Xe(r);ka()(t)}),[r]),c=Ha(a)===Ba&&G(a);return Object(m.jsxs)("div",{className:j()(Lr.a.root,t),children:[c&&Object(m.jsx)(Mr,{stream:a}),Object(m.jsx)(Fr,{onCLick:s})]})},Br=a(95),Rr=a.n(Br),Hr=function(e){var t=e.stream,a=e.className,n=t.id,r=t.description,s=t.token_account_id,c=Ga(t).progress,i=vt(s),o=i.formatter,d=i.meta,b=Number(o.toHumanReadableValue(c.streamed)),h=Number(o.toHumanReadableValue(c.withdrawn)),x=Number(o.toHumanReadableValue(c.full)),p=Ha(t)===Ba,f=p?t.owner_id:t.receiver_id,v=p?void 0:"Send",O=Object(u.f)(Ke.stream.path,{id:n});return Object(m.jsxs)("div",{className:j()(Rr.a.root,Rr.a.flexCenter,a),children:[Object(m.jsx)(l.b,{to:O,children:Object(m.jsx)(yr,{name:f,label:v})}),Object(m.jsx)(Sr,{streamed:b,withdrawn:h,total:x,symbol:d.symbol}),Object(m.jsx)(l.b,{to:O,className:"col-span-2 grow-0",children:Object(m.jsx)("p",{className:Rr.a.description,children:r})}),Object(m.jsx)(Vr,{stream:t,className:j()(Rr.a.controls,"col-span-2 grow-0")})]})},Pr=a(53),Tr=a.n(Pr),Dr=function(e){var t=e.children;return Object(m.jsx)("div",{className:Tr.a.emptyState,children:t})},Er=function(e){var t=e.className,a=e.displayingStreams,n=e.onCreateStreamClick,r=Ja().data,s=r||{},c=s.inputs,i=void 0===c?[]:c,o=s.outputs,l=void 0===o?[]:o,u=[].concat(Object(Na.a)(i),Object(Na.a)(l)).length,d=null===a||void 0===a?void 0:a.length;return Object(m.jsxs)("section",{className:j()(Tr.a.flexColumn,t),children:[Object(m.jsxs)("div",{className:j()(Tr.a.withPaddings,"grid grid-cols-6 gap-x-10"),children:[Object(m.jsx)("h3",{className:Tr.a.title,children:"Name"}),Object(m.jsx)("h3",{className:Tr.a.title,children:"Amount to stream"}),Object(m.jsx)("h3",{className:Tr.a.title,children:"Comment"})]}),!r&&Object(m.jsx)(Dr,{children:Object(m.jsx)("div",{children:"Loading..."})}),r&&0===u&&Object(m.jsxs)(Dr,{children:[Object(m.jsx)("div",{children:"You dont have any streams yet."}),Object(m.jsx)(mn,{onClick:n,children:"Create First Stream"})]}),r&&0!==u&&0===d&&Object(m.jsx)(Dr,{children:Object(m.jsx)("div",{children:"No streams matching your filters. Try selecting different ones"})}),null===a||void 0===a?void 0:a.map((function(e){return Object(m.jsx)(Hr,{stream:e,className:j()(Tr.a.withPaddings,"grid grid-cols-6 gap-x-10")},e.id)}))]})},Wr=a(44),qr=a.n(Wr),zr=Object(u.f)(Ke.myStreams.path),Ur="".concat(window.location.origin,"/#/").concat(zr),Yr=function(){var e=Le(),t=e.roketo,a=e.tokens,r=Ja().data||{},s=r.inputs,c=r.outputs,i=Object(n.useMemo)((function(){return(s||c)&&[].concat(Object(Na.a)(s||[]),Object(Na.a)(c||[]))}),[s,c]),o=Object(n.useState)([]),l=Object(v.a)(o,2),u=l[0],d=l[1],b=Object(n.useState)(!1),h=Object(v.a)(b,2),x=h[0],p=h[1],O=Object(n.useCallback)((function(){return p(!x)}),[p,x]),g=function(){var e=Object(f.a)(w.a.mark((function e(n){var r,s,c,i,o,l,u,d,j,m;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.receiver,s=n.autoStart,c=n.comment,i=n.deposit,o=n.speed,l=n.token,u=a[l],d=u.formatter,j=u.api,m=u.roketoMeta,e.next=4,t.api.createStream({deposit:d.toYocto(i),description:c,receiverId:r,tokenAccountId:l,commissionOnCreate:m.commission_on_create,tokensPerSec:o,isAutoStart:s,callbackUrl:Ur,handleTransferStream:j.transfer});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:qr.a.root,children:Object(m.jsxs)(it,{children:[Object(m.jsxs)("section",{className:j()(qr.a.flex,qr.a.spaceBetween),children:[Object(m.jsx)("h1",{className:qr.a.title,children:"Streams"}),Object(m.jsxs)("div",{className:j()(qr.a.flex,qr.a.buttonsWrapper),children:[Object(m.jsx)(In,{children:"Withdraw tokens"}),Object(m.jsx)(mn,{onClick:O,children:"Create stream"}),Object(m.jsx)(Rn,{isOpen:x,onCloseModal:O,children:Object(m.jsx)(lr,{onFormCancel:O,onFormSubmit:g})})]})]}),Object(m.jsx)(gr,{className:qr.a.section}),Object(m.jsx)(Cn,{items:i,onFilterDone:d}),Object(m.jsx)(Er,{displayingStreams:u,className:qr.a.section,onCreateStreamClick:O})]})})};function Zr(e){var t=e.tokenAccountId,a=e.balance,n=e.period,r=void 0===n?"":n,s=e.showPeriod,c=void 0===s||s,i=e.className,o=vt(t),l=o.formatter,u=o.meta,d=function(e,t){switch(t){case"min":return e*ce;case"hour":return e*ie;case"day":return e*oe;default:return e}}(Number(a),r);return Object(m.jsx)("div",{className:j()("w-full rounded-lg bg-input flex items-center width-full p-6",i),children:Object(m.jsxs)("div",{className:"w-full lg:flex items-center",children:[Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("div",{className:"w-12 mr-4",children:Object(m.jsx)("span",{className:"flex-shrink-0 rounded-full bg-card2 inline-flex items-center justify-center w-12 h-12",children:Object(m.jsx)(Kt,{tokenAccountId:t})})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"font-bold",children:u.symbol})})]}),Object(m.jsxs)("div",{className:"ml-auto lg:mt-0 mt-4",children:[Object(m.jsx)("span",{className:" text-3xl",children:l.amount(d)}),c?Object(m.jsx)("span",{children:""!==r?"/".concat(r):""}):""]})]})})}var Jr={sec:"/sec",min:"/min",hour:"/hour",day:"/day"};function Gr(e){var t=e.account,a=e.header,r=e.icon,s=e.tokensField,c=e.showPeriod,i=void 0===c||c,o=e.className,l=void 0!==t?t[s]:{},u=pn({options:Jr}),d=Object(n.useState)(!1),j=Object(v.a)(d,2),b=j[0],h=j[1],x=u.option;return Object(m.jsxs)("div",{className:o,children:[Object(m.jsxs)("h2",{className:"text-xl mb-6 flex items-center",children:[Object(m.jsx)("span",{className:"mr-3",children:r}),a,Object(m.jsx)("span",{className:"ml-2",children:i?Object(m.jsxs)("div",{className:"inline-flex items-center relative",children:[Object(m.jsx)(ia,{onChange:h,children:u.options[x]}),Object(m.jsx)(ea,{opened:b,className:"right-0",onClose:function(){return h(!1)},children:u.optionsArray.map((function(e){return Object(m.jsx)(ta,{children:Object(m.jsx)(ua,{label:e,active:x===e,value:e,onChange:u.selectOption})},e)}))})]}):""})]}),Object(m.jsx)("div",{children:Object.keys(l).filter((function(e){return"0"!==l[e]})).map((function(e){return Object(m.jsx)(Zr,{tokenAccountId:e,balance:l[e],period:x,showPeriod:i,className:"mb-4"},e)}))})]})}function Kr(){return Object(m.jsx)("svg",{width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M10.0818 9.73921L10.0818 21.718M10.0818 21.718L18.5945 13.2589M10.0818 21.718L1.5691 13.2589M10.0823 4.3827L10.0823 1.78194",stroke:"#8DA6FF",strokeWidth:"2",strokeLinecap:"round"})})}function Xr(){var e=Le().roketo;return Object(m.jsxs)("div",{className:"container mx-auto p-12",children:[Object(m.jsx)("div",{className:"md:flex justify-between items-center mb-10",children:Object(m.jsx)("h1",{className:"text-3xl",children:"My Account"})}),Object(m.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[Object(m.jsx)(Gr,{icon:Object(m.jsx)(Xa,{}),header:"Receiving",account:null===e||void 0===e?void 0:e.account,tokensField:"total_incoming"},"AccountInputs"),Object(m.jsx)(Gr,{icon:Object(m.jsx)(Ka,{}),header:"Sending",account:null===e||void 0===e?void 0:e.account,tokensField:"total_outgoing"},"AccountOutputs"),Object(m.jsx)(Gr,{icon:Object(m.jsx)(Kr,{}),header:"Withdrawn",account:null===e||void 0===e?void 0:e.account,tokensField:"total_received",showPeriod:!1},"AccountWithdrawn")]})]})}function $r(){return Object(m.jsx)("div",{className:"flex h-screen mx-3",children:Object(m.jsx)("div",{className:"lg:m-auto mx-auto my-auto lg:w-2/5 bg-gray-90 rounded-3xl p-5",style:{backgroundColor:"#0D0B26"},children:Object(m.jsxs)("div",{className:"my-24 text-center",children:[Object(m.jsxs)("h1",{className:"text-3xl mb-4 font-semibold",children:[" ","Login via NEAR Network"," "]}),Object(m.jsx)("p",{className:"text-gray",children:"Click button below to login or create new account"}),Object(m.jsx)(Ge,{variant:"main",className:"mt-10 rounded-lg py-4 px-8"})]})})})}var Qr=a(421);function es(){return Object(m.jsxs)("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M12.1884 4.70767H13.2423C14.6173 4.70767 15.7319 5.82227 15.7319 7.1972V12.6244C15.7319 13.9994 14.6173 15.114 13.2423 15.114H7.81509C6.44016 15.114 5.32556 13.9994 5.32556 12.6244V11.5705",stroke:"currentColor",strokeWidth:"1.65968"}),Object(m.jsx)("rect",{x:"1.46289",y:"1.3735",width:"10.4063",height:"10.4063",rx:"2.48952",stroke:"currentColor",strokeWidth:"1.65968"})]})}function ts(e){var t=e.label,a=e.children,n=e.className;return Object(m.jsxs)("div",{className:n,children:[Object(m.jsx)("div",{className:"text-gray text-sm",children:t}),Object(m.jsx)("div",{className:"font-semibold text-lg break-words select-all",children:a})]})}function as(e){var t=e.label,a=e.children,n=e.className;return Object(m.jsxs)("div",{className:j()("flex justify-between my-3",n),children:[Object(m.jsx)("div",{className:"text-gray text-sm",children:t}),Object(m.jsx)("div",{className:"text-sm text-right",children:a})]})}function ns(e){var t,a=e.stream,n=void 0===a?function(){return{balance:"1249999999999999990000",creator_id:"dcversus.testnet",description:"lol",id:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any",is_expirable:!0,is_locked:!1,last_action:0x16e048c5be5e7600,owner_id:"dcversus.testnet",receiver_id:"dcversus2.testnet",status:"Active",timestamp_created:0x16e048c5be5e7600,token_account_id:"wrap.testnet",tokens_per_sec:"1111111111111",tokens_total_withdrawn:"0"}}():a,r=e.className,s=Ga(n),c=s.percentages,i=s.timeLeft,o=s.progress,l=o.full,u=o.streamed,d=o.left,b=o.available,h=Ha(n),x=vt(n.token_account_id),p=x.meta,f=x.formatter,v=x.roketoMeta,O=new E.a(v.commission_coef.val).shiftedBy(v.commission_coef.pow).toNumber();return Object(m.jsxs)("div",{className:j()("pt-10 p-9 bg-input rounded-3xl",r),children:[Object(m.jsxs)("div",{className:"flex text-center justify-between",children:[h===Ba?Object(m.jsx)(ts,{label:"Sender:",className:"w-1/2 mr-4",children:n.owner_id}):Object(m.jsx)(ts,{label:"Receiver:",className:"w-1/2 mr-4",children:n.receiver_id}),Object(m.jsx)(ts,{label:"Time Remaining:",className:"w-1/2",children:i||"Finished"})]}),Object(m.jsx)("div",{className:"border-t border-border mt-8 mb-9"}),Object(m.jsx)(as,{label:"Stream Created:",children:Object(Qr.a)(new Date(Number(n.timestamp_created)/1e6),"Yo MMM do")}),Object(m.jsx)(as,{label:"Token:",children:p.symbol}),Object(m.jsxs)(as,{label:"Total:",children:[f.amount(l)," ",p.symbol]}),Object(m.jsx)(as,{label:"Tokens Transferred:",children:Object(m.jsxs)("span",{children:[f.amount(u)," ",p.symbol," ",Object(m.jsxs)("span",{className:"text-gray",children:["(",se()(c.streamed).format({output:"percent",mantissa:2}),")"]})]})}),Object(m.jsx)(as,{label:"Tokens Left:",children:Object(m.jsxs)("span",{children:[f.amount(d)," ",p.symbol," ",Object(m.jsxs)("span",{className:"text-gray",children:["(",se()(c.left).format({output:"percent",mantissa:2}),")"]})]})}),Object(m.jsxs)(as,{label:"Tokens Available:",children:[f.amount(b)," ",p.symbol]}),Object(m.jsxs)(as,{label:"Stream update & withdrawal fee:",children:[f.amount(Number(b)*(O||0)/100)," ",p.symbol," ",Object(m.jsxs)("span",{className:"text-gray",children:["(",se()(O||0).format({output:"percent",mantissa:2}),")"]})]}),Object(m.jsx)(as,{label:"Speed:",children:Object(m.jsx)($a,{stream:n})}),"in"===h?Object(m.jsx)(as,{label:"Latest Withdrawal:",children:Object(Qr.a)(new Date((t=n.last_action,Number(t)/1e3/1e3)),"MMM dd, Yo  H:m")}):"",Object(m.jsxs)(as,{label:"Stream ID:",children:[Object(m.jsx)("div",{className:"inline-block w-24 overflow-ellipsis overflow-hidden",children:n.id}),Object(m.jsx)("button",{type:"button",onClick:function(){return ka()(n.id)},className:"hover:text-blue",children:Object(m.jsx)(es,{})})]})]})}function rs(e){var t=e.stream,a=t.token_account_id,n=vt(a),r=n.formatter,s=n.meta,c=Ha(t),i=Ga(t),o=i.progresses,l=i.percentages,u=i.isDead,d=i.progress,b=d.full,h=d.withdrawn,x=d.streamed;return Object(m.jsxs)("div",{className:j()("flex","flex-col","items-center"),children:[Object(m.jsxs)("div",{className:"-mb-32",children:[Object(m.jsx)(ba,{align:{offset:[0,-20]},overlay:Object(m.jsxs)("div",{className:"text-left",children:[Object(m.jsx)(tn,{className:"whitespace-nowrap mb-2",label:"Withdrawn",colorClass:"bg-streams-withdrawn",formattedFloatValue:"".concat(r.amount(h)," ").concat(s.symbol),percentageValue:l.withdrawn}),Object(m.jsx)(tn,{className:"whitespace-nowrap",label:"Streamed",colorClass:"bg-streams-streamed",formattedFloatValue:"".concat(r.amount(x)," ").concat(s.symbol),percentageValue:l.streamed})]}),children:Object(m.jsx)(La,{className:"w-96 h-72",progresses:o})}),Object(m.jsxs)("div",{className:"flex justify-between pt-5 -mx-2 text-gray",children:[Object(m.jsx)("div",{className:"w-10 text-center",children:" 0%"}),Object(m.jsx)("div",{className:"w-10 text-center",children:" 100%"})]})]}),Object(m.jsx)(Kt,{size:14,tokenAccountId:a,className:"mb-8"}),Object(m.jsx)("div",{className:"text-6xl font-semibold",children:r.amount(x)}),Object(m.jsxs)("div",{className:"text-gray font-semibold",children:["of"," ",r.amount(b)," ",s.symbol]}),Object(m.jsx)($a,{stream:t,className:"mt-6 mb-6"}),!u&&Object(m.jsxs)("div",{className:"flex relative z-10",children:[Object(m.jsx)(za,{stream:t,className:"mr-2"}),c===Ba&&t.status===Y&&Object(m.jsx)(Mr,{stream:t})]})]})}function ss(){return Object(m.jsx)("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M7.44798 12.8541L1.86072 7.26685L7.44798 1.67958",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})})}function cs(e){var t=e.to;return Object(m.jsxs)(l.b,{to:t,className:j()("group flex items-center"),children:[Object(m.jsx)("div",{className:"flex items-center justify-center h-11 w-11 rounded-full border-border border group-hover:bg-border mr-4",children:Object(m.jsx)(ss,{})}),Object(m.jsx)("span",{className:"uppercase text-gray text-xs",children:" Back "})]})}function is(e){var t=e.className,a=e.link;return Object(m.jsxs)("div",{className:t,children:[Object(m.jsx)("div",{className:"mb-4 text-gray text-center",children:"Public link to view the stream:"}),Object(m.jsxs)("div",{className:"border border-border bg-input py-4 px-5 rounded-2xl flex items-center",children:[Object(m.jsx)("div",{className:"break-all select-all",children:a}),Object(m.jsx)("div",{className:"w-px bg-border mx-6 self-stretch flex-shrink-0"}),Object(m.jsxs)("button",{type:"button",className:"whitespace-nowrap text-blue py-2 px-3 font-semibold text-sm inline-flex bg-transparent hover:bg-hover active:bg-input rounded-lg transition",onClick:function(){return ka()(a)},children:[Object(m.jsx)(Fa,{className:"mr-2"}),"Copy Link"]})]})]})}function os(){var e=function(e){var t,a=Le().roketo,n=Object(Te.a)((function(){return!!a.account&&["stream",e,a.account.last_created_stream]}),Object(f.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.api.getStream({streamId:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),{errorRetryInterval:2e3,errorRetryCount:3});return Za({swr:n,revalidationPeriod:10,isEnabled:(null===(t=n.data)||void 0===t?void 0:t.status)===Y}),n}(Object(u.h)().id),t=e.data,a=e.error,n=Xe(null===t||void 0===t?void 0:t.id);return Object(m.jsxs)("div",{className:"container mx-auto p-12",children:[Object(m.jsx)("div",{className:"mb-10",children:Object(m.jsx)(cs,{to:Ke.streams.path})}),a&&Object(m.jsx)(Ln,{className:"max-w-2xl mx-auto py-32",message:a.message,onRetry:function(){e.mutate()}}),!a&&!t&&Object(m.jsx)("div",{className:"py-32 text-center text-gray text-2xl",children:"Loading..."}),t&&Object(m.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between",children:[Object(m.jsxs)("div",{className:"flex flex-col items-center flex-grow",children:[Object(m.jsx)(rs,{stream:t}),Object(m.jsx)(is,{link:n,className:"max-w-xl w-full mt-28"})]}),Object(m.jsx)(ns,{className:"mt-10 w-full lg:mt-0 lg:w-1/3 self-start",stream:t})]})]})}var ls=a(219),us=a.n(ls),ds="nameInput",js="emailInput";function ms(){var e,t=Le().auth,a=Object(n.useState)(!1),r=Object(v.a)(a,2),s=r[0],c=r[1],i=Ze(),o=null!==(e=i.data)&&void 0!==e?e:{},l=o.name,u=void 0===l?"":l,d=o.email,b=void 0===d?"":d,h=Object(n.useRef)(null),x=Object(n.useCallback)(function(){var e=Object(f.a)(w.a.mark((function e(a){var n,r,s,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),i.data){e.next=3;break}return e.abrupt("return");case 3:return c(!0),s=null===(n=h.current)||void 0===n?void 0:n.nameInput.value,o=null===(r=h.current)||void 0===r?void 0:r.emailInput.value,e.next=8,i.mutate(Object(f.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ye.upsert(t.accountId,{name:s,email:o}));case 1:case"end":return e.stop()}}),e)}))),{revalidate:!1,optimisticData:Object(Oe.a)(Object(Oe.a)({},i.data),{},{name:s})});case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t.accountId,i]),p=i.isValidating||s;return Object(m.jsxs)("div",{className:"container mx-auto p-12",children:[Object(m.jsx)("div",{className:"md:flex justify-between items-center mb-10",children:Object(m.jsx)("h1",{className:"text-3xl",children:"Profile"})}),Object(m.jsxs)("form",{className:j()("inline-flex mb-10",p&&us.a.profileFormBusy),onSubmit:x,ref:h,children:[Object(m.jsxs)("div",{className:"mr-10",children:["Name:",Object(m.jsx)("input",{placeholder:"Name",name:ds,defaultValue:u,disabled:p},u)]}),Object(m.jsxs)("div",{className:"mr-10",children:["Email:",Object(m.jsx)("input",{placeholder:"Email",name:js,defaultValue:b,disabled:p},b)]}),Object(m.jsx)(Pe,{type:"submit",disabled:p,variant:"main",size:"normal",className:"rounded-lg h-14 self-end mb-0.5",children:"Save"})]})]})}var bs=a(220),hs=a.n(bs);function xs(){var e,t,a=function(){var e=Le().auth;return Object(Te.a)(e.accountId?"notifications":null,(function(){return Je.findAll()}),{onErrorRetry:ze})}(),r=Object(n.useCallback)((function(e){a.data&&a.mutate(function(){var t=Object(f.a)(w.a.mark((function t(a){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Je.markRead(e,{isRead:!0});case 2:return n=t.sent,t.abrupt("return",null===a||void 0===a?void 0:a.map((function(t){return t.id===e?n:t})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{revalidate:!1,optimisticData:a.data.map((function(t){return t.id===e?Object(Oe.a)(Object(Oe.a)({},t),{},{isRead:!0}):t}))})}),[a]);return Object(m.jsxs)("div",{className:"container mx-auto p-12",children:[Object(m.jsx)("div",{className:"mb-10",children:Object(m.jsx)("h1",{className:"text-3xl",children:"Notifications"})}),!a.data&&Object(m.jsx)("h3",{className:"text-3xl text-center my-12 mx-auto",children:"Loading..."}),0===(null===(e=a.data)||void 0===e?void 0:e.length)&&Object(m.jsx)("h3",{className:"text-3xl text-center my-12 mx-auto",children:"Your notifications will be displayed here."}),null===(t=a.data)||void 0===t?void 0:t.map((function(e){return Object(m.jsxs)("div",{className:j()("grid grid-cols-12 p-10 bg-input rounded-3xl mb-4",e.isRead?"":hs.a.unread),children:[Object(m.jsx)("div",{className:"xl:col-span-10",children:JSON.stringify(e)}),Object(m.jsx)("div",{className:"flex xl:justify-end xl:col-span-2 items-center",children:!e.isRead&&Object(m.jsx)(Pe,{type:"button",className:"ml-3",variant:"filled",onClick:function(){return r(e.id)},children:"Mark as read"})})]},e.id)}))]})}function ps(){Object(n.useEffect)((function(){var e=new URL(window.location.href),t="transactionHashes";e.searchParams.has(t)&&(e.searchParams.delete(t),window.history.replaceState(null,"",e))}));var e=Le().auth,t=Ke.send,a=Ke.stream,r=Ke.account,s=Ke.profile,c=Ke.streams,i=Ke.myStreams,o=Ke.authorize,d=Ke.notifications;return Object(m.jsxs)(l.a,{basename:S,children:[Object(m.jsx)(Lt,{}),Object(m.jsxs)(u.d,{children:[Object(m.jsx)(Ft,{exact:!0,redirect:Object(m.jsx)(u.a,{to:t.path}),allowed:!e.signedIn,path:o.path,children:Object(m.jsx)($r,{})}),Object(m.jsx)(Ft,{exact:!0,redirect:Object(m.jsx)(u.a,{to:o.path}),allowed:e.signedIn,path:t.path,children:Object(m.jsx)(_a,{})}),Object(m.jsx)(Ft,{exact:!0,redirect:Object(m.jsx)(u.a,{to:o.path}),allowed:e.signedIn,path:r.path,children:Object(m.jsx)(Xr,{})}),Object(m.jsx)(u.b,{exact:!0,path:a.path,children:Object(m.jsx)(os,{})}),Object(m.jsx)(Ft,{exact:!0,redirect:Object(m.jsx)(u.a,{to:o.path}),allowed:e.signedIn,path:i.path,children:Object(m.jsx)(Yr,{})}),Object(m.jsx)(Ft,{exact:!0,redirect:Object(m.jsx)(u.a,{to:o.path}),allowed:e.signedIn,path:c.path,children:Object(m.jsx)(Fn,{})}),Object(m.jsx)(Ft,{exact:!0,redirect:Object(m.jsx)(u.a,{to:o.path}),allowed:e.signedIn,path:s.path,children:Object(m.jsx)(ms,{})}),Object(m.jsx)(Ft,{exact:!0,redirect:Object(m.jsx)(u.a,{to:o.path}),allowed:e.signedIn,path:d.path,children:Object(m.jsx)(xs,{})})]})]})}a(416);var fs=function(){return Object(m.jsx)(Me,{children:Object(m.jsx)(ps,{})})},vs=document.getElementById("root");o.a.setAppElement(vs),c.a.render(Object(m.jsx)(fs,{}),vs)},44:function(e,t,a){e.exports={root:"styles_root__HhGTO",section:"styles_section__2ptdG",flex:"styles_flex__1MBbU",spaceBetween:"styles_spaceBetween__2D_fZ",buttonsWrapper:"styles_buttonsWrapper__g1-uh",title:"styles_title__2Qqzq"}},52:function(e,t,a){e.exports={root:"styles_root__3Kyti",wrapper:"styles_wrapper__P7W3S",balance:"styles_balance__o5yA-"}},53:function(e,t,a){e.exports={flexColumn:"styles_flexColumn__vggyT",withPaddings:"styles_withPaddings__3K5aA",title:"styles_title__284Zv",emptyState:"styles_emptyState__3rrQX"}},70:function(e,t,a){e.exports={root:"authorization_root__3Nfgj",name:"authorization_name__GjBzW",avatar:"authorization_avatar__1ISVb"}},71:function(e,t,a){e.exports={wrapper:"styles_wrapper__2vwX1",root:"styles_root__3L49I",logo:"styles_logo__1dFWz",left:"styles_left__fS0Yp",right:"styles_right__19YK4"}},72:function(e,t,a){e.exports={root:"styles_root__37pAo",label:"styles_label__1Z1u2",description:"styles_description__3HMUq",error:"styles_error__iK_dp",required:"styles_required__eL5Iv"}},73:function(e,t,a){e.exports={dropdownWrapper:"styles_dropdownWrapper__1mfn5",dropdownOpener:"styles_dropdownOpener__xnUU_",tokenOption:"styles_tokenOption__2nenl",withHover:"styles_withHover__17YXX",dropdownMenu:"styles_dropdownMenu__1M_bV"}},74:function(e,t,a){e.exports={progressBar:"styles_progressBar__WfqVp",streamed:"styles_streamed__2JSLG",progress:"styles_progress__1Vfwm",withdrawn:"styles_withdrawn__2eocI"}},88:function(e,t,a){e.exports={root:"styles_root__1_66R",radio:"styles_radio__3I1ek",radioActive:"styles_radioActive__2fx8l",text:"styles_text__21Txd"}},90:function(e,t,a){e.exports={root:"styles_root__2eQAJ",primary:"styles_primary__F4Fip",action:"styles_action__ZCYgS",simple:"styles_simple__2Db_y"}},91:function(e,t,a){e.exports={overlay:"styles_overlay__3d-7G",content:"styles_content__LPOGX",title:"styles_title__2BdZE",close:"styles_close__3grwe"}},92:function(e,t,a){e.exports={root:"styles_root__2b5hR",description:"styles_description__256I8",checkbox:"styles_checkbox__JfL1O",error:"styles_error__3vxG-"}},93:function(e,t,a){e.exports={wrapper:"styles_wrapper__TAkqw",speedInput:"styles_speedInput__pndxz",input:"styles_input__2-TTa",label:"styles_label__1NoFr"}},94:function(e,t,a){e.exports={root:"styles_root__3t5iM",progressBar:"styles_progressBar__3lFzN",status:"styles_status__3AWqs",symbol:"styles_symbol__1JkEV"}},95:function(e,t,a){e.exports={root:"styles_root__1Ickw",controls:"styles_controls__35vzk",flexCenter:"styles_flexCenter__3vowm",description:"styles_description__3Jnep"}}},[[417,1,2]]]);
//# sourceMappingURL=main.5a108a7e.chunk.js.map