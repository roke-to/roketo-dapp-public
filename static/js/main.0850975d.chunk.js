(this["webpackJsonproketo-dapp"]=this["webpackJsonproketo-dapp"]||[]).push([[0],{100:function(e,t,a){e.exports={dropdownWrapper:"styles_dropdownWrapper__1mfn5",dropdownOpener:"styles_dropdownOpener__xnUU_",tokenOption:"styles_tokenOption__2nenl",withHover:"styles_withHover__17YXX",dropdownMenu:"styles_dropdownMenu__1M_bV"}},101:function(e,t,a){e.exports={root:"styles_root__1Ickw",controls:"styles_controls__35vzk",name:"styles_name__26X88",comment:"styles_comment__z2oIA",withMarginRight:"styles_withMarginRight__20A25"}},11:function(e,t,a){e.exports={wrapper:"styles_wrapper__CegNU",root:"styles_root__1apvt",centeredFlex:"styles_centeredFlex__1HZSf",infoRow:"styles_infoRow__2vMrz",numericProgress:"styles_numericProgress__2AuoP",breadbrumbs:"styles_breadbrumbs__BUT8d",streamsLink:"styles_streamsLink__L0U7w",breadbrumb:"styles_breadbrumb__NNWx2",id:"styles_id__16P2T",stream:"styles_stream__3Fr_5",left:"styles_left__1kdhS",right:"styles_right__vZBRd",tile:"styles_tile__2fhhc",remaining:"styles_remaining__2iHJj",blockTitle:"styles_blockTitle__TMhpt",main:"styles_main__18lFE",closeBadge:"styles_closeBadge__oSZpP",tokenIcon:"styles_tokenIcon__2BgHM",buttons:"styles_buttons__kZcO7",divider:"styles_divider__hCiPy",speed:"styles_speed__3klLg",commentBody:"styles_commentBody__1ywdK",copyTitle:"styles_copyTitle__2hQ0e",copyButton:"styles_copyButton__10iJH",linkIcon:"styles_linkIcon__1XYWy",link:"styles_link__24b3y",infoTile:"styles_infoTile__2Te2a",blockHeader:"styles_blockHeader__1zEQa",sectionHeader:"styles_sectionHeader__2S7fb",dropdownOpener:"styles_dropdownOpener__374xe",infoTitle:"styles_infoTitle__wuj-6",font16:"styles_font16__3CMGR",name:"styles_name__16kMm",font14:"styles_font14__2T9bM",font12:"styles_font12__eO0Tl",streamID:"styles_streamID__2QzEw",grey:"styles_grey__3NsWF"}},117:function(e,t,a){e.exports={root:"styles_root__1_66R",radio:"styles_radio__3I1ek",radioActive:"styles_radioActive__2fx8l",text:"styles_text__21Txd"}},118:function(e,t,a){e.exports={root:"styles_root__HwxLP",dropdownWrapper:"styles_dropdownWrapper__32byB",dropdownMenu:"styles_dropdownMenu__1RS3q",dropdownInactive:"styles_dropdownInactive__34nZF"}},13:function(e,t,a){e.exports={wrapper:"styles_wrapper__waQWy",root:"styles_root__19PW7",centeredFlex:"styles_centeredFlex__idtVt",infoRow:"styles_infoRow__DynnT",numericProgress:"styles_numericProgress__3WX9j",breadbrumbs:"styles_breadbrumbs__3R-VX",streamsLink:"styles_streamsLink__z_oX2",breadbrumb:"styles_breadbrumb__35lMb",id:"styles_id__3U16x",stream:"styles_stream__15zYj",left:"styles_left__2Gn-B",right:"styles_right__2t6b3",tile:"styles_tile__2S_fe",remaining:"styles_remaining__2xbtE",blockTitle:"styles_blockTitle__AVORE",main:"styles_main__EZ9Ad",tokenIcon:"styles_tokenIcon__1ECAS",buttons:"styles_buttons__1knN9",divider:"styles_divider__LJnOh",speed:"styles_speed__16A6R",commentBody:"styles_commentBody__1f5OU",copyTitle:"styles_copyTitle__5Y0V9",copyButton:"styles_copyButton__LRE-Z",linkIcon:"styles_linkIcon__2jhgt",link:"styles_link__3w_CQ",infoTile:"styles_infoTile__3vchd",blockHeader:"styles_blockHeader__2hHfE",sectionHeader:"styles_sectionHeader__3bPFB",dropdownOpener:"styles_dropdownOpener__2WSze",infoTitle:"styles_infoTitle__1j4ai",font16:"styles_font16__1E8_k",font14:"styles_font14__34e9m",font12:"styles_font12__2Fhe5",streamID:"styles_streamID__bjGsg",grey:"styles_grey__1goqK"}},145:function(e,t,a){e.exports={root:"authorization_root__3Nfgj",name:"authorization_name__GjBzW",logoutButton:"authorization_logoutButton__2sCaP"}},146:function(e,t,a){e.exports={root:"styles_root__9Q_y8",arrow:"styles_arrow__dmtxI",rotate:"styles_rotate__3bkvh"}},147:function(e,t,a){e.exports={menu:"styles_menu__oG1pK",menuDivider:"styles_menuDivider__3rvtk",hidden:"styles_hidden__3JyX9"}},148:function(e,t,a){e.exports={root:"styles_root__2IVIz",sort:"styles_sort__2oMly",active:"styles_active__3vMTz"}},149:function(e,t,a){e.exports={root:"styles_root__12V-i",filtersWrapper:"styles_filtersWrapper__3lX2U",sortWithOrder:"styles_sortWithOrder__2gTJ0"}},150:function(e,t,a){e.exports={flexCenter:"styles_flexCenter__1ROiJ",name:"styles_name__HgeGm",nameLabel:"styles_nameLabel__1iFRt"}},151:function(e,t,a){e.exports={root:"styles_root__1_PXp",sort:"styles_sort__3sdm0",active:"styles_active__2U1h-"}},152:function(e,t,a){e.exports={root:"styles_root__1C2L3",filtersWrapper:"styles_filtersWrapper__3sIgz",sortWithOrder:"styles_sortWithOrder__2yZvk"}},153:function(e,t,a){e.exports={card:"styles_card__chYY0",title:"styles_title__cc9o3",finance:"styles_finance__wsZi_"}},154:function(e,t,a){e.exports={badge:"styles_badge__2AKuG",blue:"styles_blue__3vwgm",orange:"styles_orange__23CY5"}},155:function(e,t,a){e.exports={notAllowed:"styles_notAllowed__3rC0O",small:"styles_small__2wTWz",hasntPassedCliff:"styles_hasntPassedCliff__3QI54"}},156:function(e,t,a){e.exports={block:"styles_block__3xJQm",hint:"styles_hint__2cJLP",content:"styles_content__10idn"}},187:function(e,t,a){e.exports={defaultOverlay:"styles_defaultOverlay__3nR8o",defaultIcon:"styles_defaultIcon__hJLMj"}},188:function(e,t,a){e.exports={wrapper:"styles_wrapper__oqa_T",spinner:"styles_spinner__3Ptbo",spin:"styles_spin__1Vf_l"}},189:function(e,t,a){e.exports={root:"styles_root__3OdL8",linkButton:"styles_linkButton__oY6_t"}},190:function(e,t,a){e.exports={root:"styles_root__2s9Jd",pageLink:"styles_pageLink__3rg8i"}},191:function(e,t,a){e.exports={input:"styles_input__KeAvj",error:"styles_error__1dP_7"}},192:function(e,t,a){e.exports={profileForm:"ProfileForm_profileForm__6KCp0",loaderWrapper:"ProfileForm_loaderWrapper__1tIAk",label:"ProfileForm_label__3P7Uk",inputName:"ProfileForm_inputName__3fFmI"}},193:function(e,t,a){e.exports={textarea:"styles_textarea__1lPSs",error:"styles_error__3C3Rv"}},194:function(e,t,a){e.exports={formfield:"styles_formfield__2DZrP",textLimitCounter:"styles_textLimitCounter__2B7mB"}},196:function(e,t,a){e.exports={flexCenter:"styles_flexCenter__B0Jt1",name:"styles_name__25-53"}},197:function(e,t,a){e.exports={root:"styles_root__2iwP4",linkButton:"styles_linkButton__1laX_"}},21:function(e,t,a){e.exports={relative:"styles_relative__2QiFJ",controlButton:"styles_controlButton__1vq4p",statusPadded:"styles_statusPadded__3UL71",button:"styles_button__1UW_h",modalContent:"styles_modalContent__3f34e",modalOverlay:"styles_modalOverlay__ZnuwA",modalHeader:"styles_modalHeader__2-Oti",modalButtons:"styles_modalButtons__367QE",modalButton:"styles_modalButton__uHmah",modalSecondary:"styles_modalSecondary__1y73P",modalWarning:"styles_modalWarning__aeSV8",modalDanger:"styles_modalDanger__2FJKr",controlsMenu:"styles_controlsMenu__h4rsZ",dropdownOpener:"styles_dropdownOpener__KpUjE",notAllowed:"styles_notAllowed__AgwS0",start:"styles_start__AVZHt",active:"styles_active__1J1qI",pause:"styles_pause__AS7EK",stop:"styles_stop__IMPS5"}},22:function(e,t,a){e.exports={relative:"styles_relative__yWBD-",controlButton:"styles_controlButton__1sUCZ",statusPadded:"styles_statusPadded__3delP",button:"styles_button__18c-7",modalContent:"styles_modalContent__1ddyy",modalOverlay:"styles_modalOverlay__1UpG0",modalHeader:"styles_modalHeader__1wI_9",modalButtons:"styles_modalButtons__3ze2c",modalButton:"styles_modalButton__2LWw5",modalSecondary:"styles_modalSecondary__3V_0f",modalWarning:"styles_modalWarning__1UbkD",modalDanger:"styles_modalDanger__3abDR",controlsMenu:"styles_controlsMenu__2Z6nr",dropdownOpener:"styles_dropdownOpener__2fJW3",start:"styles_start__1Jd1k",active:"styles_active__1vNpj",pause:"styles_pause__jEqEC",stop:"styles_stop__19ozh"}},249:function(e,t,a){e.exports={layout:"styles_layout__2ac3i"}},259:function(e,t,a){e.exports={rotate:"styles_rotate__ZjzwB"}},26:function(e,t,a){e.exports={root:"styles_root__3FXzU",text:"styles_text__3Ccy_",status:"styles_status__2XG4U",grey:"styles_grey__6V1Y1",overlay:"styles_overlay__vPDRx",tooltip:"styles_tooltip__17_8O",innerStatus:"styles_innerStatus__294En",smaller:"styles_smaller__35jwv",speed:"styles_speed__2gSeJ",remained:"styles_remained__2GAOw",clock:"styles_clock__1TglA",progress:"styles_progress__lFlGb",streamed:"styles_streamed__3msIw",withdrawn:"styles_withdrawn__28DlC"}},260:function(e,t,a){e.exports={container:"styles_container__1AC1F",logo:"styles_logo__3ciI3"}},264:function(e,t,a){e.exports={error:"styles_error__sGMTb",maxWidth:"styles_maxWidth__2ZM3Z"}},265:function(e,t,a){e.exports={root:"styles_root__20iY_"}},27:function(e,t,a){e.exports={root:"styles_root__38B64",text:"styles_text__11atI",status:"styles_status__3b_ey",grey:"styles_grey__36o2c",overlay:"styles_overlay__3rasY",tooltip:"styles_tooltip__23VN9",innerStatus:"styles_innerStatus__132Fk",smaller:"styles_smaller__HXT1f",speed:"styles_speed__1i2og",remained:"styles_remained__2-6rd",clock:"styles_clock__2q7yf",progress:"styles_progress__YG-x-",streamed:"styles_streamed__2mtn0",withdrawn:"styles_withdrawn__SfaXK"}},28:function(e,t,a){e.exports={root:"styles_root__1XQku",dropdownOpener:"styles_dropdownOpener__3kQgF",dropdownMenu:"styles_dropdownMenu___vHNq",container:"styles_container__aPnlt",loader:"styles_loader__3dO2x",header:"styles_header__1d9ir",date:"styles_date__2TpB4",divider:"styles_divider__KqyfJ",notification:"styles_notification__3Zr3E",unread:"styles_unread__3ngZd",icon:"styles_icon__3IYnm",notificationBody:"styles_notificationBody__3G1w8",primaryText:"styles_primaryText__3lpJr",secondaryText:"styles_secondaryText__30aDU",time:"styles_time__1xidu",compact:"styles_compact__1AVk6",mainText:"styles_mainText__1Fr7u"}},304:function(e,t){},314:function(e,t){},332:function(e,t){},348:function(e,t,a){},36:function(e,t,a){e.exports={root:"styles_root__1zlKm",title:"styles_title__39adN",description:"styles_description__12RAl",form:"styles_form__1ud4S",row:"styles_row__Pz5Iu",rowItem:"styles_rowItem__TexQO",checkboxes:"styles_checkboxes__OfA8Y",submitError:"styles_submitError__1B7Gd",actionButtonsWrapper:"styles_actionButtonsWrapper__1E6yB",feeDisclaimer:"styles_feeDisclaimer__WNlqw",feeDisclaimerRow:"styles_feeDisclaimerRow__11c8e",amount:"styles_amount__1l7_V",subDescription:"styles_subDescription__1OTIx"}},48:function(e,t,a){e.exports={wrapper:"styles_wrapper__2vwX1",secondWrapper:"styles_secondWrapper__20xn3",root:"styles_root__3L49I",secondRoot:"styles_secondRoot__3T4F3",unshrinkable:"styles_unshrinkable__1q8kB",logo:"styles_logo__1dFWz",left:"styles_left__fS0Yp",right:"styles_right__19YK4",marginRight:"styles_marginRight__3EZCk"}},481:function(e,t,a){},482:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(38),c=a.n(s),i=a(47),o=a.n(i),l=(a(202),a(24)),u=a(29),d=a(4),m=a.n(d),j={root:{path:"/"},authorize:{path:"/authorize",title:"Authorize"},streams:{path:"/streams",title:"Streams"},stream:{path:"/streams/:id",title:"Stream"}};function b(e){return"".concat(window.location.origin,"/#/streams/").concat(e)}var p,f,h=a(7),_=a(0);!function(e){e.COLORED="colored",e.CURRENT_COLOR="current-color"}(f||(f={}));var O,v,x=(p={},Object(h.a)(p,f.COLORED,(function(e){var t=e.className;return Object(_.jsxs)("svg",{width:"85",height:"37",viewBox:"0 0 85 37",fill:"none",className:t,children:[Object(_.jsx)("path",{d:"M27.2243 21.6559L25.1382 26.3574C24.9976 26.6743 25.3083 27.0039 25.6314 26.8807L33.2506 23.9755C37.4638 22.3691 42.9334 16.8281 42.9334 13.7051C42.9334 10.8974 37.5108 4.89742 33.3857 3.5349L22.7464 0.0207055C22.3964 -0.0949031 22.0975 0.297465 22.3004 0.606068L24.4608 3.89078C24.7026 4.2583 24.4683 4.75193 24.0316 4.79531L11.5321 6.03692C11.1728 6.07261 11.0519 6.5378 11.3481 6.74504L14.751 9.12589C15.0895 9.36266 15.0825 9.86755 14.7377 10.0948L9.62698 13.4638C9.35407 13.6437 9.03165 13.7328 8.70543 13.7185L0.406475 13.3549C-0.00343963 13.337 -0.157883 13.8858 0.200859 14.0857L9.40222 19.2108C9.74603 19.4023 10.1494 19.456 10.5311 19.361L14.6051 18.3475C15.1342 18.2159 15.6933 18.3718 16.0787 18.7586L19.1812 21.8717C19.5854 22.2774 20.179 22.4277 20.7267 22.2631L26.291 20.5912C26.9277 20.3999 27.4946 21.0466 27.2243 21.6559Z",fill:"url(#paint0_linear_25_2458)"}),Object(_.jsx)("path",{d:"M40.6818 26.4196V36.3357C40.6818 36.6675 40.9498 36.9364 41.2804 36.9364H51.0314C51.362 36.9364 51.63 36.6675 51.63 36.3357V26.4213C51.63 26.0896 51.898 25.8207 52.2286 25.8207L64.6597 25.8207C64.8659 25.8207 65.0576 25.9271 65.167 26.1025L71.793 36.7182C71.9025 36.8935 72.0942 37 72.3004 37H84.4004C84.8768 37 85.1623 36.4688 84.9006 36.0694L76.5735 23.3575C76.5713 23.3541 76.5701 23.3502 76.5701 23.3462C76.5701 23.3349 76.5793 23.3257 76.5905 23.3256C80.5584 23.293 84.2732 19.6259 84.2732 13.0961C84.2732 5.84535 77.8859 1.84441 73.0585 1.84397L73.0559 1.84319V1.82211C73.0559 1.81792 73.0525 1.81451 73.0483 1.81451H41.2804C41.036 1.81451 40.8258 1.96149 40.7328 2.17217C41.1621 5.93024 44.6468 10.0091 52.2641 10.0091L67.8871 10.0098C69.5984 10.0098 71.8625 11.4284 71.8625 13.9989C71.8625 16.3234 70.5333 17.6246 69.1201 17.6254L52.2641 17.6254V17.6315C43.9975 17.6315 40.5981 22.4353 40.6889 26.4196H40.6818Z",fill:"#2B313B"}),Object(_.jsx)("defs",{children:Object(_.jsxs)("linearGradient",{id:"paint0_linear_25_2458",x1:"1.29563",y1:"14.7557",x2:"38.3082",y2:"14.3339",gradientUnits:"userSpaceOnUse",children:[Object(_.jsx)("stop",{offset:"0",stopColor:"#E61A11"}),Object(_.jsx)("stop",{offset:"0.554808",stopColor:"#E9712E"}),Object(_.jsx)("stop",{offset:"1",stopColor:"#FFD231"})]})})]})})),Object(h.a)(p,f.CURRENT_COLOR,(function(e){var t=e.className;return Object(_.jsxs)("svg",{viewBox:"0 0 57 25",fill:"none",className:t,children:[Object(_.jsx)("path",{d:"M17.9487 14.2217L16.5734 17.3093C16.4807 17.5174 16.6855 17.7338 16.8986 17.6529L21.9219 15.7451C24.6995 14.6901 28.3056 11.0512 28.3056 9.00033C28.3056 7.15649 24.7306 3.2162 22.0109 2.32141L14.9965 0.0135976C14.7657 -0.0623242 14.5687 0.195349 14.7025 0.398013L16.1268 2.55513C16.2862 2.79648 16.1317 3.12066 15.8438 3.14914L7.60302 3.96452C7.36611 3.98797 7.2864 4.29346 7.48169 4.42956L9.72523 5.99309C9.94834 6.14858 9.94376 6.48015 9.71643 6.62942L6.34698 8.84184C6.16706 8.95998 5.95449 9.01851 5.73941 9.00912L0.267985 8.77036C-0.00226772 8.75857 -0.104091 9.11902 0.132424 9.25024L6.1988 12.616C6.42547 12.7418 6.6914 12.777 6.94303 12.7147L9.629 12.049C9.97782 11.9626 10.3465 12.065 10.6006 12.319L12.646 14.3634C12.9125 14.6298 13.3038 14.7286 13.6649 14.6205L17.3334 13.5225C17.7532 13.3969 18.127 13.8216 17.9487 14.2217Z",fill:"currentColor"}),Object(_.jsx)("path",{d:"M26.8203 17.3502V23.8622C26.8203 24.0801 26.997 24.2567 27.215 24.2567H33.6438C33.8617 24.2567 34.0384 24.0801 34.0384 23.8622V17.3513C34.0384 17.1334 34.2151 16.9568 34.4331 16.9568L42.6288 16.9568C42.7647 16.9568 42.8911 17.0267 42.9632 17.1419L47.3317 24.1134C47.4039 24.2285 47.5302 24.2984 47.6662 24.2984H55.6437C55.9577 24.2984 56.1459 23.9496 55.9734 23.6873L50.4834 15.3392C50.482 15.337 50.4812 15.3344 50.4812 15.3318C50.4812 15.3244 50.4872 15.3184 50.4946 15.3183C53.1107 15.2969 55.5598 12.8886 55.5598 8.60041C55.5598 3.83876 51.3486 1.21128 48.166 1.211L48.1643 1.21048V1.19664C48.1643 1.19388 48.162 1.19165 48.1593 1.19165H27.215C27.0538 1.19165 26.9152 1.28817 26.8539 1.42653C27.137 3.89451 29.4344 6.57314 34.4564 6.57314L44.7565 6.5736C45.8848 6.5736 47.3775 7.50521 47.3775 9.19332C47.3775 10.7199 46.5012 11.5744 45.5694 11.5749L34.4564 11.5749V11.5789C29.0064 11.5789 26.7651 14.7336 26.825 17.3502H26.8203Z",fill:"currentColor"})]})})),p),y=function(e){var t=e.type,a=void 0===t?f.COLORED:t,n=e.className,r=x[a];return Object(_.jsx)(r,{className:n})},w=a(249),g=a.n(w),N=function(e){var t=e.children,a=e.className;return Object(_.jsx)("div",{className:m()(g.a.layout,a),children:t})},k=a(8),C=a(6),S=a(3),I=a.n(S),A=a(23),R={ACCOUNT_SUFFIX:"near",NEAR_NETWORK_ID:"mainnet",NEAR_NODE_URL:"https://rpc.mainnet.near.org",ROKETO_CONTRACT_NAME:"streaming.r-v2.near",WALLET_URL:"https://wallet.near.org",PUBLIC_URL:"",PRICE_ORACLE_CONTRACT_NAME:"priceoracle.near",PRICE_ORACLE_SOURCE_ID:"pythia.near",WNEAR_ID:"wrap.near",WEB_API_URL:"https://api.roke.to",COMMIT_HASH:null!==(O=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ROKETO_CONTRACT_NAME:"streaming.r-v2.near",REACT_APP_ROKETO_LEGACY_CONTRACT_NAME:"roketodapp.near",REACT_APP_WALLET_URL:"https://wallet.near.org",REACT_APP_NEAR_NETWORK_ID:"mainnet",REACT_APP_NEAR_ACCOUNT_SUFFIX:"near",REACT_APP_NEAR_NODE_URL:"https://rpc.mainnet.near.org",REACT_APP_PRICE_ORACLE_CONTRACT_NAME:"priceoracle.near",REACT_APP_PRICE_ORACLE_SOURCE_ID:"pythia.near",REACT_APP_WNEAR_ID:"wrap.near",REACT_APP_WEB_API_URL:"https://api.roke.to"}).COMMIT_HASH)&&void 0!==O?O:"development",BUILD_TIME:null!==(v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ROKETO_CONTRACT_NAME:"streaming.r-v2.near",REACT_APP_ROKETO_LEGACY_CONTRACT_NAME:"roketodapp.near",REACT_APP_WALLET_URL:"https://wallet.near.org",REACT_APP_NEAR_NETWORK_ID:"mainnet",REACT_APP_NEAR_ACCOUNT_SUFFIX:"near",REACT_APP_NEAR_NODE_URL:"https://rpc.mainnet.near.org",REACT_APP_PRICE_ORACLE_CONTRACT_NAME:"priceoracle.near",REACT_APP_PRICE_ORACLE_SOURCE_ID:"pythia.near",REACT_APP_WNEAR_ID:"wrap.near",REACT_APP_WEB_API_URL:"https://api.roke.to"}).BUILD_TIME)&&void 0!==v?v:null},L="200000000000000";function T(){return E.apply(this,arguments)}function E(){return(E=Object(k.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new A.keyStores.BrowserLocalStorageKeyStore,e.next=3,Object(A.connect)({nodeUrl:R.NEAR_NODE_URL,walletUrl:R.WALLET_URL,networkId:R.NEAR_NETWORK_ID,keyStore:t,headers:{}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e){return B.apply(this,arguments)}function B(){return B=Object(k.a)(I.a.mark((function e(t){var a,n,r,s,c,i,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){return(o=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.signOut();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return o.apply(this,arguments)},c=function(){return(c=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Roketo Token Streaming Service",e.next=3,t.requestSignIn(R.ROKETO_CONTRACT_NAME,"Roketo Token Streaming Service");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return c.apply(this,arguments)},e.next=6,t.getAccountId();case 6:return a=e.sent,e.next=9,t.account();case 9:if(n=e.sent,!a){e.next=14;break}return e.next=13,n.getAccountBalance();case 13:r=e.sent;case 14:return e.abrupt("return",{balance:r,account:n,signedIn:!!a,accountId:a,login:s,logout:i});case 15:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}var P=a(14),F=a(15),D=a(16),H=a.n(D),V=a(486),W={xYears:"{{count}} years",xMonths:"{{count}} months",xDays:"{{count}}d",xSeconds:"{{count}}s",xMinutes:"{{count}}m",xHours:"{{count}}h"},U={formatDistance:function(e,t){return W[e].replace("{{count}}",t)}};var Z="Initialized",q="Active",Y="Paused",z="Finished",K=function(e){return e.status===q};function J(e){return e.status===Z||e.status===Y}function X(e){return"object"===typeof(null===e||void 0===e?void 0:e.status)&&z in e.status}function G(e){return!e.cliff||Date.now()>e.cliff/1e6}function Q(e){if(J(e))return new H.a(0);var t,a=Object(V.a)(Date.now())-(t=e.last_action,Number(t)/1e3/1e3/1e3);return H.a.minimum(e.balance,Number(e.tokens_per_sec)*a)}var $=function(){function e(t){var a=t.contract,n=t.account;Object(P.a)(this,e),this.contract=void 0,this.account=void 0,this.contract=a,this.account=n}return Object(F.a)(e,[{key:"getAccount",value:function(){var e=Object(k.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.account.accountId){e.next=2;break}return e.abrupt("return",{active_incoming_streams:0,active_outgoing_streams:0,deposit:"0",inactive_incoming_streams:0,inactive_outgoing_streams:0,is_cron_allowed:!0,last_created_stream:"any",stake:"0",total_incoming:{},total_outgoing:{},total_received:{}});case 2:return e.prev=2,e.next=5,this.contract.get_account({account_id:this.account.accountId});case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{active_incoming_streams:0,active_outgoing_streams:0,deposit:"0",inactive_incoming_streams:0,inactive_outgoing_streams:0,is_cron_allowed:!0,last_created_stream:"any",stake:"0",total_incoming:{},total_outgoing:{},total_received:{}});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountIncomingStreams",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.from,n=t.limit,e.prev=1,e.next=4,this.contract.get_account_incoming_streams({account_id:this.account.accountId,from:a,limit:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountOutgoingStreams",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.from,n=t.limit,e.prev=1,e.next=4,this.contract.get_account_outgoing_streams({account_id:this.account.accountId,from:a,limit:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getStream",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.get_stream({stream_id:a});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDao",value:function(){var e=Object(k.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.get_dao();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createStream",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n,r,s,c,i,o,l,u,d,m,j,b,p,f;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.comment,n=t.deposit,r=t.receiverId,s=t.tokenAccountId,c=t.commissionOnCreate,i=t.tokensPerSec,o=t.cliffPeriodSec,l=t.delayed,u=void 0!==l&&l,d=t.isExpirable,m=t.isLocked,j=t.callbackUrl,b=t.handleTransferStream,p=new H.a(n).plus(c).toFixed(),f={description:JSON.stringify({comment:a}),balance:n,owner_id:this.account.accountId,receiver_id:r,token_name:s,tokens_per_sec:BigInt(i),cliff_period_sec:o,is_locked:m,is_auto_start_enabled:!u,is_expirable:d},e.abrupt("return",b(f,p,j));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startStream",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.start_stream({stream_id:a},L,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseStream",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.pause_stream({stream_id:a},L,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopStream",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamId,e.next=3,this.contract.stop_stream({stream_id:a},L,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.streamIds,e.next=3,this.contract.withdraw({stream_ids:a},L,"1");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(k.a)(I.a.mark((function e(t){var a,n,r,s,c,i,o,l,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=new A.Contract(a,R.ROKETO_CONTRACT_NAME,{viewMethods:["get_stats","get_dao","get_token","get_stream","get_account","get_account_incoming_streams","get_account_outgoing_streams","get_account_ft"],changeMethods:["start_stream","pause_stream","stop_stream","withdraw"]}),r=new $({contract:n,account:a}),s=r.getAccount(),c=r.getDao(),e.next=7,Promise.all([s,c]);case 7:return i=e.sent,o=Object(C.a)(i,2),l=o[0],u=o[1],e.abrupt("return",{api:r,dao:u,account:l});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ae,ne,re=a(51),se=a.n(re),ce=a(5),ie=3600,oe=86400,le=604800,ue=2419200,de=29030400;!function(e){e.Second="second",e.Minute="minute",e.Hour="hour",e.Day="day"}(ne||(ne={}));var me=(ae={},Object(h.a)(ae,ne.Hour,"/h"),Object(h.a)(ae,ne.Day,"/d"),Object(h.a)(ae,ne.Minute,"/m"),Object(h.a)(ae,ne.Second,"/s"),ae),je={signInButton:"signInButton",signOutButton:"signOutButton",availableForWithdrawalCaption:"availableForWithdrawalCaption",withdrawAllButton:"withdrawAllButton",createStreamButton:"createStreamButton",withdrawButton:"withdrawButton",withdrawTooltip:"withdrawTooltip",withdrawLoadingCaption:"withdrawLoadingCaption",streamProgressCaption:"streamProgressCaption",streamControlsDropdown:"streamControlsDropdown",streamStartButton:"streamStartButton",streamPauseButton:"streamPauseButton",streamStopButton:"streamStopButton",createStreamReceiverInput:"createStreamReceiverInput",createStreamAmountInput:"createStreamAmountInput",createStreamMonthsInput:"createStreamMonthsInput",createStreamDaysInput:"createStreamDaysInput",createStreamHoursInput:"createStreamHoursInput",createStreamMinutesInput:"createStreamMinutesInput",createStreamCommentInput:"createStreamCommentInput",createStreamDelayedCheckbox:"createStreamDelayedCheckbox",createStreamLockedCheckbox:"createStreamLockedCheckbox",createStreamCancelButton:"createStreamCancelButton",createStreamSubmitButton:"createStreamSubmitButton",openNotificationsButton:"openNotificationsButton",notificationsLoader:"notificationsLoader",notificationElement:"notificationElement",notificationPrimaryCaption:"notificationPrimaryCaption",notificationSecondaryCaption:"notificationSecondaryCaption"},be=(Object.keys(je).reduce((function(e,t){return Object(ce.a)(Object(ce.a)({},e),{},Object(h.a)({},t,'[data-testid="'.concat(je[t],'"]')))}),{}),function(){function e(t){Object(P.a)(this,e),this.tokenDecimals=void 0,this.MP=void 0,this.tokenDecimals=t,this.MP=Math.pow(10,t)}return Object(F.a)(e,[{key:"amount",value:function(e){var t=se()(e).divide(this.MP).value(),a=se()(t).format({mantissa:3,trimMantissa:!0,optionalMantissa:!0,average:!0});return 0===t?"0":0!==e&&t<.001?"<0.001":a}},{key:"toYocto",value:function(e){return se()(e).multiply(this.MP).format({mantissa:0})}},{key:"toHumanReadableValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return se()(e).divide(this.MP).format({mantissa:t,trimMantissa:!0,optionalMantissa:!0})}},{key:"tokensPerMeaningfulPeriod",value:function(t){var a,n=this,r=[1,60,ie,oe,le,ue,de],s=(a={1:"second"},Object(h.a)(a,60,"minute"),Object(h.a)(a,ie,"hour"),Object(h.a)(a,oe,"day"),Object(h.a)(a,le,"week"),Object(h.a)(a,ue,"month"),Object(h.a)(a,de,"year"),a),c=r.find((function(e){return se()(t).multiply(e).divide(n.MP).value()>.1}))||de,i=se()(t).multiply(c).divide(this.MP).value();return{formattedValue:e.formatSmartly(i),unit:s[c]}}}],[{key:"formatSmartly",value:function(e){return 0===e?"0":e<.001?"<0.001":se()(e).format({mantissa:3,trimMantissa:!0,optionalMantissa:!0,average:!0})}}]),e}()),pe=a(250),fe=a.n(pe);function he(e){return e===R.WNEAR_ID}var _e=function(){function e(t,a){var n=this;Object(P.a)(this,e),this.contract=void 0,this.tokenAccountId=void 0,this.account=void 0,this.transfer=function(){var e=Object(k.a)(I.a.mark((function e(t,a,r){var s,c,i,o,l,u,d,m;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.getIsRegistered(t.owner_id),n.getIsRegistered(t.receiver_id)]);case 2:return s=e.sent,c=Object(C.a)(s,2),i=c[0],o=c[1],l=[A.transactions.functionCall("ft_transfer_call",{receiver_id:R.ROKETO_CONTRACT_NAME,amount:new H.a(a).toFixed(),memo:"Roketo transfer",msg:fe.a.stringify({Create:{request:t}})},"100000000000000",1)],u=new H.a(0),d=A.utils.format.parseNearAmount("0.00125"),i||(l.unshift(A.transactions.functionCall("storage_deposit",{account_id:t.owner_id},"30000000000000",d)),u=u.plus(d)),o||(l.unshift(A.transactions.functionCall("storage_deposit",{account_id:t.receiver_id},"30000000000000",d)),u=u.plus(d)),he(n.tokenAccountId)&&l.unshift(A.transactions.functionCall("near_deposit",{},"30000000000000",new H.a(a).plus(u).toFixed())),m=n.account.signAndSendTransaction({receiverId:n.tokenAccountId,walletCallbackUrl:r,actions:l}),e.abrupt("return",m);case 14:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.tokenAccountId=a,this.account=t,this.contract=new A.Contract(t,a,{viewMethods:["ft_balance_of","ft_metadata","storage_balance_of"],changeMethods:["ft_transfer_call","storage_deposit","near_deposit"]})}return Object(F.a)(e,[{key:"getMetadata",value:function(){var e=Object(k.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.ft_metadata();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(k.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.account.accountId){e.next=2;break}return e.abrupt("return","0");case 2:return e.next=4,this.contract.ft_balance_of({account_id:this.account.accountId});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getIsRegistered",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.storage_balance_of({account_id:t});case 2:return a=e.sent,e.abrupt("return",a&&"0"!==a.total);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Oe(e){return ve.apply(this,arguments)}function ve(){return ve=Object(k.a)(I.a.mark((function e(t){var a,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=t.tokens,r={},e.next=4,Promise.all(Object.keys(n).map(function(){var e=Object(k.a)(I.a.mark((function e(t){var s,c,i,o,l,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new _e(a,t),e.next=3,Promise.all([s.getMetadata(),s.getBalance()]);case 3:c=e.sent,i=Object(C.a)(c,2),o=i[0],l=i[1],u=new be(o.decimals),r[t]={api:s,formatter:u,roketoMeta:n[t],meta:o,balance:l};case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}var xe=Math.pow(10,24),ye=Math.pow(10,18),we={"wrap.testnet":xe,"dai.fakes.testnet":ye,"wrap.near":xe,"dai.bridge.near":ye},ge=["get_assets","get_asset","get_price_data"],Ne=[],ke=function(e,t){return e.reduce((function(e,a){var n=Object(C.a)(a,2),r=n[0],s=n[1].reports.find((function(e){return e.oracle_id===t}));return s?Object(ce.a)(Object(ce.a)({},e),{},Object(h.a)({},r,s.price)):e}),{})},Ce=function(e,t){return function(a,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=e[a],c=t[a];if(!s||!c)return"0";var i=s.multiplier,o=s.decimals;return se()(n).multiply(c).multiply(Number(i)).divide(Math.pow(10,o)).format({mantissa:r,trimMantissa:!0})}},Se=function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n,r,s,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.account,n=new A.Contract(a,R.PRICE_ORACLE_CONTRACT_NAME,{viewMethods:ge,changeMethods:Ne}),e.next=4,n.get_assets({});case 4:return r=e.sent,s=ke(r,R.PRICE_ORACLE_SOURCE_ID),c=Ce(s,we),e.abrupt("return",{getPriceInUsd:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=r.a.createContext(null);function Ae(e){var t=e.children,a=Object(n.useState)(null),r=Object(C.a)(a,2),s=r[0],c=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(I.a.mark((function e(){var t,a,n,r,s,i,o,l;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,a=new A.WalletConnection(t,R.ROKETO_CONTRACT_NAME),e.next=6,M(a);case 6:return n=e.sent,e.next=9,Promise.all([ee({account:n.account}),Se({account:n.account})]);case 9:return r=e.sent,s=Object(C.a)(r,2),i=s[0],o=s[1],e.next=15,Oe({account:n.account,tokens:i.dao.tokens});case 15:l=e.sent,c({auth:n,near:t,roketo:i,priceOracle:o,walletConnection:a,tokens:l});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(_.jsx)(Ie.Provider,{value:s,children:s?t:null})}var Re=new Error("Near context is not found");function Le(){var e=Object(n.useContext)(Ie);if(!e)throw Re;return e}var Te,Ee,Me=a(17),Be=a(96),Pe=a.n(Be),Fe=["type","displayMode","disabled","link","children","className","onClick","testId"];!function(e){e.button="button",e.submit="submit"}(Te||(Te={})),function(e){e.primary="primary",e.simple="simple",e.secondary="secondary",e.action="action",e.invisible="invisible"}(Ee||(Ee={}));var De=function(e){var t,a=e.type,n=void 0===a?Te.button:a,r=e.displayMode,s=void 0===r?Ee.action:r,c=e.disabled,i=void 0!==c&&c,o=e.link,u=e.children,d=e.className,j=e.onClick,b=e.testId,p=Object(Me.a)(e,Fe),f=m()(Pe.a.root,(t={},Object(h.a)(t,Pe.a.primary,s===Ee.primary),Object(h.a)(t,Pe.a.secondary,s===Ee.secondary),Object(h.a)(t,Pe.a.action,s===Ee.action),Object(h.a)(t,Pe.a.simple,s===Ee.simple),t),d),O=Object(_.jsx)("button",Object(ce.a)(Object(ce.a)({type:n,className:f,onClick:j,disabled:i},p),{},{"data-testid":b,children:u}));return o?Object(_.jsx)(l.b,{to:o,children:O}):O},He=function(e){var t=e.className;return Object(_.jsx)("svg",{className:t,width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",children:Object(_.jsx)("path",{d:"M7.09 12.59L8.5 14L13.5 9L8.5 4L7.09 5.41L9.67 8H0V10H9.67L7.09 12.59ZM16 0H2C0.89 0 0 0.9 0 2V6H2V2H16V16H2V12H0V16C0 17.1 0.89 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:"currentColor"})})},Ve=a(145),We=a.n(Ve),Ue=function(){var e=Le().auth,t=e.login,a=e.logout;return e.signedIn?Object(_.jsx)("button",{type:"button",onClick:a,className:We.a.logoutButton,"data-testid":je.signOutButton,children:Object(_.jsx)(He,{})}):Object(_.jsxs)(De,{onClick:t,className:We.a.root,testId:je.signInButton,children:[Object(_.jsx)("span",{className:We.a.name,children:"Sign in with NEAR Wallet"}),Object(_.jsx)(He,{})]})},Ze={legacyStreams:{path:"/streams/legacy",title:"Streams (legacy)"},legacyStream:{path:"/streams/legacy/:id"}};function qe(e){return"".concat(window.location.origin,"/#/streams/legacy/").concat(e)}var Ye=a(71),ze=a.n(Ye),Ke=a(491),Je=a(488),Xe=function(e){var t=e.width,a=void 0===t?10:t,n=e.height,r=void 0===n?20:n,s=e.className;return Object(_.jsx)("svg",{className:s,width:a,height:r,viewBox:"0 0 10 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M10 15L10 11L8 11L8 15C8 16.65 6.65 18 5 18C3.35 18 2 16.65 2 15L2 11L-4.80825e-07 11L-6.55671e-07 15C-7.76314e-07 17.76 2.24 20 5 20C7.76 20 10 17.76 10 15ZM2 9L2 5C2 3.35 3.35 2 5 2C6.65 2 8 3.35 8 5L8 9L10 9L10 5C10 2.24 7.76 -9.79135e-08 5 -2.18557e-07C2.24 -3.392e-07 -9.79135e-08 2.24 -2.18557e-07 5L-3.93402e-07 9L2 9ZM6 6L6 14L4 14L4 6L6 6Z",fill:"currentColor"})})},Ge=(a(348),["icon","children","className","size","loading","disabled","loadingText","color","variant"]),Qe="main",$e="filled",et="outlined";function tt(e){var t=e.icon,a=e.children,n=e.className,r=e.size,s=e.loading,c=e.disabled,i=e.loadingText,o=e.color,u=void 0===o?"light":o,d=e.variant,j=void 0===d?"outlined":d,b=Object(Me.a)(e,Ge),p="",f="",h="";j===Qe?(p="Button--main",f="normal"===r?"px-5 py-4  rounded-2xl font-semibold":"big"===r?"px-12 py-6 rounded-3xl font-bold":""):j===et?(p="border-solid border font-semibold rounded-lg ",h="light"===u?"border-blue hover:bg-blue":"dark"===u?"border-border hover:bg-hover hover:border-hover":""):j===$e&&(p="bg-dark hover:bg-hover font-semibold rounded-lg active:bg-transparent");var O={disabled:s||c,className:m()("inline-flex items-center justify-center p-3  whitespace-nowrap",p,f,h,c?"Button--disabled":"","transition-all",n)},v=s?i:Object(_.jsxs)(_.Fragment,{children:[t?Object(_.jsx)("div",{className:"mr-2",children:t}):null,a]});return b.link?Object(_.jsx)(l.b,Object(ce.a)(Object(ce.a)(Object(ce.a)({},O),b),{},{children:v})):Object(_.jsx)("button",Object(ce.a)(Object(ce.a)(Object(ce.a)({},O),b),{},{type:"button"===b.type?"button":"submit",children:v}))}var at=a.p+"static/media/RUSSIANS_HACK.83d68466.gif",nt=a.p+"static/media/crab.3fbdb8f2.gif";function rt(e){var t=e.message,a=e.onRetry,n=e.className,s=r.a.useRef(Math.random());return Object(_.jsxs)("div",{className:m()("text-center",n),children:[s.current>.5?Object(_.jsx)("img",{src:at,className:"mx-auto",alt:"funny hackers gif with bird dancing around"}):Object(_.jsx)("img",{src:nt,className:"mx-auto",alt:"crab with a knife tries to hurt people"}),Object(_.jsx)("h1",{className:"text-4xl font-semibold mb-6 mt-10",children:"Something is broken."}),Object(_.jsx)("p",{className:"text-gray mb-4",children:"Finally we have something to fix"}),t&&Object(_.jsx)("code",{className:"p-4 border-special-inactive border block text-special-inactive text-xs mb-4",children:t}),Object(_.jsx)(tt,{variant:"outlined",color:"dark",className:"mt-10",onClick:a,type:"button",children:"Try again"}),Object(_.jsx)("p",{className:"text-xs text-gray mt-2",children:"(that probably wont help)"})]})}var st=function(e){var t=e.width,a=void 0===t?8:t,n=e.height,r=void 0===n?6:n,s=e.className;return Object(_.jsx)("div",{className:s,children:Object(_.jsx)("svg",{width:a,height:r,viewBox:"0 0 8 6",fill:"none",children:Object(_.jsx)("path",{d:"M7.06 0.726562L4 3.7799L0.94 0.726562L0 1.66656L4 5.66656L8 1.66656L7.06 0.726562Z",fill:"currentColor"})})})},ct=a(146),it=a.n(ct),ot=["opened","className","children","onChange","testId"];function lt(e){var t=e.opened,a=e.className,n=e.children,r=e.onChange,s=e.testId,c=Object(Me.a)(e,ot),i=m()(it.a.arrow,Object(h.a)({},it.a.rotate,t));return Object(_.jsxs)("button",Object(ce.a)(Object(ce.a)({type:"button",onClick:function(){return r(!t)},className:m()(it.a.root,a),"data-testid":s},c),{},{children:[n,Object(_.jsx)(st,{className:i})]}))}var ut=a(50),dt=a(266),mt=a(255),jt={receiver:"",streamName:"",token:R.WNEAR_ID,speed:0,deposit:0,delayed:!1,comment:"",isLocked:!1,cliffDateTime:null},bt=function(e,t){if(e<=0)return"none";var a=t.formatter,n=t.meta,r=a.tokensPerMeaningfulPeriod(e),s=r.formattedValue,c=r.unit;return"".concat(s," ").concat(n.symbol," / ").concat(c)},pt=function(e,t){var a=new H.a(e),n=new H.a(t);return a.isEqualTo(0)||n.isEqualTo(0)?new H.a(0):a.dividedBy(n).multipliedBy(100)},ft=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return pt(e,t).dp(a)},ht=a(52),_t=a.n(ht),Ot=function(e){var t,a=e.total,n=e.streamed,r=e.withdrawn,s=e.className,c=e.cliffPercent,i=e.withBigCliffMark,o=void 0!==i&&i,l=ft(n,a),u=ft(r,n);return Object(_.jsxs)("div",{className:m()(_t.a.progressBar,s),children:[Object(_.jsx)("div",{className:m()(_t.a.progress,_t.a.streamed),style:{width:"".concat(l,"%")},children:Object(_.jsx)("div",{className:m()(_t.a.progress,_t.a.withdrawn),style:{width:"".concat(u,"%")}})}),"number"===typeof c&&Object(_.jsx)("div",{title:"Cliff",className:_t.a.cliffMarkContainer,style:{left:"".concat(Math.min(c,100),"%")},children:Object(_.jsx)("div",{className:m()(_t.a.cliffMark,(t={},Object(h.a)(t,_t.a.cliffMarkBig,o),Object(h.a)(t,_t.a.cliffMarkPassed,l.toNumber()>c),t))})})]})},vt=["tokenAccountId","className"];function xt(e){return Object(_.jsx)("svg",Object(ce.a)(Object(ce.a)({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20pt",height:"20pt",viewBox:"0 0 864.000000 864.000000",preserveAspectRatio:"xMidYMid meet"},e),{},{children:Object(_.jsx)("g",{transform:"translate(0.000000,864.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none",children:Object(_.jsx)("path",{d:"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z"})})}))}function yt(e){return Object(_.jsx)("svg",Object(ce.a)(Object(ce.a)({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20pt",height:"20pt",viewBox:"0 0 864.000000 864.000000",preserveAspectRatio:"xMidYMid meet"},e),{},{children:Object(_.jsx)("g",{transform:"translate(0.000000,864.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none",children:Object(_.jsx)("path",{d:"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z"})})}))}var wt={"wrap.testnet":xt,"wrap.near":xt};function gt(e){var t,a,n=e.tokenAccountId,r=e.className,s=Object(Me.a)(e,vt),c=null===(t=Le().tokens[n])||void 0===t||null===(a=t.meta)||void 0===a?void 0:a.icon;if(c)return Object(_.jsx)("img",Object(ce.a)({src:c,alt:n,className:r},s));var i=n in wt?wt[n]:yt;return Object(_.jsx)(i,Object(ce.a)({className:r},s))}function Nt(e){var t=e.tokenAccountId,a=e.size,n=void 0===a?8:a,r=e.className;return Object(_.jsx)("div",{className:m()("p-1 flex-shrink-0 rounded-full bg-black inline-flex items-center justify-center","w-".concat(n," h-").concat(n),r),children:Object(_.jsx)(gt,{className:"w-full h-full rounded-full",tokenAccountId:t})})}var kt="INITIALIZED",Ct="ACTIVE",St="PAUSED",It="FINISHED",At="INTERRUPTED",Rt="in",Lt="out",Tt="factory.bridge.near",Et=["get_account","get_stream","get_stream_history","get_status"],Mt=["create_stream","deposit","update_account","start_stream","pause_stream","stop_stream","change_auto_deposit","start_cron"],Bt=a(147),Pt=a.n(Bt),Ft=["children","className"];function Dt(e){var t=e.opened,a=e.children,n=e.className,s=e.onClose,c=r.a.useRef(null);return function(e,t){var a=function(a){var n=a.target;e.current&&n instanceof HTMLElement&&!e.current.contains(n)&&t()};r.a.useEffect((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}))}(c,(function(){t&&s()})),Object(_.jsx)("div",{ref:c,className:m()(Pt.a.menu,Object(h.a)({},Pt.a.hidden,!t),n),children:a})}function Ht(e){var t=e.children,a=e.className,n=Object(Me.a)(e,Ft);return Object(_.jsx)("div",Object(ce.a)(Object(ce.a)({className:a},n),{},{children:t}))}function Vt(){return Object(_.jsx)("div",{className:Pt.a.menuDivider})}function Wt(e){var t=r.a.useState(e),a=Object(C.a)(t,2),n=a[0],s=a[1];return{on:n,off:!n,toggle:function(){return s(!n)},turnOff:function(){return s(!1)},turnOn:function(){return s(!0)},setOn:s}}function Ut(){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(k.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new A.keyStores.BrowserLocalStorageKeyStore,e.next=3,Object(A.connect)({nodeUrl:R.NEAR_NODE_URL,walletUrl:R.WALLET_URL,networkId:R.NEAR_NETWORK_ID,keyStore:t,headers:{}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(e){var t=e.getAccountId();function a(){return(a=Object(k.a)(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"Roketo Token Streaming Service",t.next=3,e.requestSignIn("roketodapp.near","Roketo Token Streaming Service");case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function n(){return(n=Object(k.a)(I.a.mark((function t(){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signOut();case 2:window.location.reload();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{account:e.account(),signedIn:!!t,accountId:t,login:function(){return a.apply(this,arguments)},logout:function(){return n.apply(this,arguments)}}}var Yt=["ft_balance_of"],zt=["ft_transfer","ft_transfer_call"],Kt="roketodapp.near",Jt="200000000000000",Xt=1e9;function Gt(e){return e.status===It||e.status===At}function Qt(e){return e.status===Ct}var $t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any";return{account_id:e,dynamic_inputs:[],dynamic_outputs:[],static_streams:[],last_action:null,ready_to_withdraw:[],total_incoming:[],total_outgoing:[],total_received:[],is_external_update_enabled:!1,cron_task:null}};function ea(e){var t=e.contract,a=e.ft,n=e.walletConnection,r=e.account,s=e.operationalCommission,c=e.tokens,i=function(){var e=Object(k.a)(I.a.mark((function e(a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$t(a),e.prev=1,e.next=4,t.get_account({account_id:a});case 4:return r=e.sent,e.abrupt("return",r||n);case 8:e.prev=8,e.t0=e.catch(1),console.debug("[RoketoContractApi]: nearerror",e.t0);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return{getCurrentAccount:function(){return i(n.getAccountId())},updateAccount:function(){var e=Object(k.a)(I.a.mark((function e(a){var n,c,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.tokensWithoutStorage,c=void 0===n?0:n,e.next=3,t.update_account({account_id:r.accountId},Jt,new H.a(1e22).multipliedBy(c).plus(s).toFixed());case 3:return i=e.sent,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAccount:i,createStream:function(){var e=Object(k.a)(I.a.mark((function e(r){var s,i,o,l,u,d,m,j,b,p,f,h,_=arguments;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.deposit,i=r.receiverId,o=r.token,l=r.speed,u=r.description,d=r.isAutoStartEnabled,m=void 0===d||d,j=_.length>1&&void 0!==_[1]?_[1]:{},b=j.callbackUrl,f=c[o].commission_on_create,e.prev=3,"NEAR"!==o){e.next=10;break}return e.next=7,t.create_stream({args:{owner_id:n.getAccountId(),receiver_id:i,token_name:o,tokens_per_tick:l,description:u,is_auto_deposit_enabled:!1,is_auto_start_enabled:m},gas:Jt,amount:new H.a(s).plus(f).toFixed(),callbackUrl:b});case 7:p=e.sent,e.next=14;break;case 10:return h=a[o].contract,e.next=13,h.ft_transfer_call({args:{receiver_id:t.contractId,amount:new H.a(s).plus(f).toFixed(),memo:"Roketo transfer",msg:JSON.stringify({Create:{description:u,owner_id:n.getAccountId(),receiver_id:i,token_name:o,tokens_per_tick:l,balance:s,is_auto_deposit_enabled:!1,is_auto_start_enabled:m}})},gas:Jt,amount:1,callbackUrl:b});case 13:p=e.sent;case 14:return e.abrupt("return",p);case 17:throw e.prev=17,e.t0=e.catch(3),console.debug(e.t0),e.t0;case 21:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t){return e.apply(this,arguments)}}(),depositStream:function(){var e=Object(k.a)(I.a.mark((function e(n){var r,s,c,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.streamId,s=n.token,c=n.deposit,"NEAR"!==s){e.next=6;break}return e.next=4,t.deposit({stream_id:r},Jt,c);case 4:e.next=9;break;case 6:return i=a[s].contract,e.next=9,i.ft_transfer_call({receiver_id:t.contractId,amount:c,msg:JSON.stringify({Deposit:r})},Jt,1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pauseStream:function(){var e=Object(k.a)(I.a.mark((function e(a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.pause_stream({stream_id:n},Jt,s);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),startStream:function(){var e=Object(k.a)(I.a.mark((function e(a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.start_stream({stream_id:n},Jt,s);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),stopStream:function(){var e=Object(k.a)(I.a.mark((function e(a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.stop_stream({stream_id:n},Jt,s);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStream:function(){var e=Object(k.a)(I.a.mark((function e(a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,e.next=3,t.get_stream({stream_id:n});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getStatus:function(){var e=Object(k.a)(I.a.mark((function e(){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get_status({});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getStreamHistory:function(){var e=Object(k.a)(I.a.mark((function e(a){var n,r,s,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.streamId,r=a.from,s=a.to,e.next=3,t.get_stream_history({stream_id:n,from:r,to:s});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}var ta=function(e){var t={};return e.forEach((function(e){t[e.ticker]=e})),t};function aa(e){return na.apply(this,arguments)}function na(){return(na=Object(k.a)(I.a.mark((function e(t){var a,n,r,s,c,i,o,l,u;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.walletConnection,e.next=3,a.account();case 3:n=e.sent,e.next=6;break;case 6:return r=new A.Contract(n,Kt,{viewMethods:Et,changeMethods:Mt}),e.next=9,r.get_status({});case 9:return s=e.sent,c={},i=ta(s.tokens),s.tokens.forEach((function(e){c[e.ticker]={name:e.ticker,address:e.account_id,contract:new A.Contract(n,e.account_id,{viewMethods:Yt,changeMethods:zt})}})),o=ea({contract:r,ft:c,walletConnection:a,account:n,operationalCommission:s.operational_commission,tokens:i}),l=function(e){return s.tokens.find((function(t){return t.ticker===e}))},u=function(e){var t=l(e);return Boolean(null===t||void 0===t?void 0:t.account_id.endsWith(Tt))},e.abrupt("return",{api:o,status:s,tokenMeta:l,isBridged:u});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ra=Object(F.a)((function e(t){var a=t.ticker,n=t.metadata;Object(P.a)(this,e),this.ticker=void 0,this.metadata=void 0,this.ticker=a,this.metadata=n}));var sa=new ra({ticker:"NEAR",metadata:{spec:null,name:"Near Protocol",symbol:"NEAR",icon:"",reference:null,reference_hash:null,decimals:24}}),ca=function(){function e(t){var a=this,n=t.tokens,r=t.account;Object(P.a)(this,e),this.__tokens=void 0,this.__account=void 0,this.__contracts=void 0,this.tokens=void 0,this.__tokens=n,this.__account=r,this.__contracts={},this.tokens={},n&&r&&n.forEach((function(e){a.__contracts[e.ticker]=function(e,t){return new A.Contract(e,t,{viewMethods:["ft_balance_of","ft_metadata","storage_balance_of"],changeMethods:["ft_transfer","ft_transfer_call"]})}(r,e.account_id)}))}return Object(F.a)(e,[{key:"tickers",get:function(){return Object.keys(this.tokens)}},{key:"contract",value:function(e){return this.__contracts[e]}},{key:"get",value:function(e){return this.tokens[e]||new ra({ticker:e,metadata:{spec:null,name:e,symbol:e,icon:"",reference:null,reference_hash:null,decimals:24}})}},{key:"init",value:function(){var e=Object(k.a)(I.a.mark((function e(){var t=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.__tokens.map(function(){var e=Object(k.a)(I.a.mark((function e(a){var n,r,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NEAR"!==a.ticker){e.next=4;break}n=sa,e.next=15;break;case 4:if(a.account_id){e.next=8;break}n=new ra({ticker:a.ticker,metadata:{spec:null,name:a.ticker,symbol:a.ticker,icon:"",reference:null,reference_hash:null,decimals:24}}),e.next=15;break;case 8:return r=t.contract(a.ticker),e.next=11,r.ft_metadata();case 11:if(!((s=e.sent).decimals<8)){e.next=14;break}return e.abrupt("return");case 14:n=new ra({ticker:a.ticker,metadata:s});case 15:t.tokens[a.ticker]=n;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"balance",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("NEAR"!==t){e.next=5;break}return e.next=3,this.__account.getAccountBalance();case 3:return a=e.sent,e.abrupt("return",a.total);case 5:return n=this.contract(t),e.next=8,n.ft_balance_of({account_id:this.__account.accountId});case 8:return r=e.sent,e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ftStorageBalance",value:function(){var e=Object(k.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.contract(t),e.next=3,a.storage_balance_of({account_id:this.__account.accountId});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ia=r.a.createContext(null);function oa(e){var t=e.children,a=Object(n.useState)(null),r=Object(C.a)(a,2),s=r[0],c=r[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(k.a)(I.a.mark((function e(){var t,a,n,r,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut();case 2:return t=e.sent,a=new A.WalletConnection(t,R.ROKETO_CONTRACT_NAME),n=qt(a),e.next=7,aa({walletConnection:a});case 7:return r=e.sent,s=new ca({account:a.account(),tokens:r.status.tokens}),e.next=11,s.init();case 11:c({auth:n,near:t,roketo:r,walletConnection:a,tokens:s});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(_.jsx)(ia.Provider,{value:s,children:s?t:null})}var la,ua=new Error("Near context is not found");function da(){var e=Object(n.useContext)(ia);if(!e)throw ua;return e}var ma=(la={},Object(h.a)(la,kt,{label:"Initialized"}),Object(h.a)(la,Ct,{label:"Active"}),Object(h.a)(la,St,{label:"Paused"}),Object(h.a)(la,It,{label:"Finished"}),Object(h.a)(la,At,{label:"Finished"}),la);function ja(e){var t=e.stream,a=e.className,n=ma[t.status];return Object(_.jsx)("div",{className:m()(a),children:n.label})}var ba=a(22),pa=a.n(ba);function fa(){return Object(_.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object(_.jsx)("path",{d:"M1.66634 2.76016L5.17968 5.00016L1.66634 7.24016V2.76016ZM0.333008 0.333496V9.66683L7.66634 5.00016L0.333008 0.333496Z",fill:"currentColor"})})}function ha(){return Object(_.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object(_.jsx)("path",{d:"M0 9.66659H2.66667V0.333252H0V9.66659ZM5.33333 0.333252V9.66659H8V0.333252H5.33333Z",fill:"currentColor"})})}function _a(){return Object(_.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:Object(_.jsx)("path",{d:"M6.66667 1.33333V6.66667H1.33333V1.33333H6.66667ZM8 0H0V8H8V0Z",fill:"currentColor"})})}function Oa(e){var t=e.modalControl,a=e.onConfirm;return Object(_.jsxs)(o.a,{isOpen:t.on,onRequestClose:t.turnOff,className:pa.a.modalContent,overlayClassName:pa.a.modalOverlay,children:[Object(_.jsx)("h2",{className:pa.a.modalHeader,children:"Are you sure?"}),Object(_.jsx)("p",{children:"As a stream receiver, you will not be able to resume stream. Only stream owners can resume streams."}),Object(_.jsxs)("div",{className:pa.a.modalButtons,children:[Object(_.jsx)("button",{type:"button",onClick:t.turnOff,className:m()(pa.a.modalButton,pa.a.modalSecondary),children:"Cancel"}),Object(_.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:m()(pa.a.modalButton,pa.a.modalWarning),children:"Pause"})]})]})}function va(e){var t=e.modalControl,a=e.onConfirm;return Object(_.jsxs)(o.a,{isOpen:t.on,onRequestClose:t.turnOff,className:pa.a.modalContent,overlayClassName:pa.a.modalOverlay,children:[Object(_.jsx)("h2",{className:pa.a.modalHeader,children:"Stop stream"}),Object(_.jsx)("p",{children:"This action will completely shut down the stream. After that, it can't be turned on."}),Object(_.jsxs)("div",{className:pa.a.modalButtons,children:[Object(_.jsx)("button",{type:"button",onClick:t.turnOff,className:m()(pa.a.modalButton,pa.a.modalSecondary),children:"Cancel"}),Object(_.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:m()(pa.a.modalButton,pa.a.modalDanger),children:"Stop"})]})]})}function xa(e){var t,a=e.stream,r=e.className,s=da(),c=s.auth,i=s.roketo,o=Wt(!1),l=Wt(!1),u=Object(n.useState)(!1),d=Object(C.a)(u,2),j=d[0],b=d[1],p=Object(n.useState)(!1),f=Object(C.a)(p,2),O=f[0],v=f[1],x=c.accountId===a.owner_id,y=c.accountId===a.receiver_id,w=!x&&!y,g=function(){var e=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,i.api.pauseStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,i.api.startStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,i.api.stopStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Gt(a)||w)return Object(_.jsx)(ja,{className:r,stream:a});var A=O&&!j,R=a.status!==Ct&&x,L=a.status===Ct,T=(t={},Object(h.a)(t,pa.a.active,Qt(a)),Object(h.a)(t,pa.a.pause,function(e){return e.status===St}(a)),Object(h.a)(t,pa.a.stop,Gt(a)),t);return Object(_.jsxs)("div",{className:m()(pa.a.relative,r),children:[Object(_.jsx)(Oa,{modalControl:o,onConfirm:g}),Object(_.jsx)(va,{modalControl:l,onConfirm:S}),Object(_.jsx)(lt,{opened:A,onChange:v,className:m()(pa.a.dropdownOpener,T),children:j?"Loading...":Object(_.jsx)(ja,{stream:a,className:pa.a.statusPadded})}),Object(_.jsxs)(Dt,{onClose:function(){return v(!1)},opened:A,className:pa.a.controlsMenu,children:[R&&Object(_.jsx)(Ht,{children:Object(_.jsxs)("button",{type:"button",onClick:N,className:m()(pa.a.controlButton,pa.a.start),children:[Object(_.jsx)(fa,{}),Object(_.jsx)("span",{children:"Start"})," "]})}),L&&Object(_.jsx)(Ht,{children:Object(_.jsxs)("button",{type:"button",onClick:function(){v(!1),y?o.turnOn():g()},className:m()(pa.a.controlButton,pa.a.pause),children:[Object(_.jsx)(ha,{}),Object(_.jsx)("span",{children:"Pause"})]})}),(R||L)&&Object(_.jsx)(Vt,{}),Object(_.jsx)(Ht,{children:Object(_.jsxs)("button",{type:"button",onClick:function(){v(!1),l.turnOn()},className:m()(pa.a.controlButton,pa.a.stop),children:[Object(_.jsx)(_a,{}),Object(_.jsx)("span",{children:"Stop"})]})})]})]})}var ya="in",wa="out";function ga(e){var t=da().auth;return e.receiver_id===t.accountId?ya:e.owner_id===t.accountId?wa:null}var Na=a(18),ka=a(44),Ca=a(256),Sa=a(492),Ia=a(487);function Aa(e,t){return e.map((function(e){return Object(ce.a)(Object(ce.a)({},e),{},{direction:e.owner_id===t?Lt:e.receiver_id===t?Rt:null})}))}function Ra(){var e=da(),t=e.auth,a=e.roketo;return Object(ka.a)(["account",t.accountId],a.api.getCurrentAccount,{errorRetryInterval:250})}function La(e,t,a){if(!Qt(e))return e;var n=Object(Ca.a)(Date.now(),a);return Object(ce.a)(Object(ce.a)({},e),{},{available_to_withdraw:String(Math.min(Number(t)+Number(e.tokens_per_tick)*Xt*n,Number(e.balance)))})}var Ta={values:{},cachedAt:0};function Ea(e){var t=e.account,a=da(),s=a.auth,c=a.roketo,i=Object(n.useRef)(Ta),o=Object(n.useRef)(0),l=Object(ka.a)((function(){return!!t&&["streams",t.account_id,t.last_action]}),Object(k.a)(I.a.mark((function e(){var a,n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[].concat(Object(Na.a)((null===t||void 0===t?void 0:t.dynamic_inputs)||[]),Object(Na.a)((null===t||void 0===t?void 0:t.dynamic_outputs)||[]),Object(Na.a)((null===t||void 0===t?void 0:t.static_streams)||[])),e.next=3,Promise.all(a.map((function(e){return c.api.getStream({streamId:e})})));case 3:return n=e.sent,r=Aa(n,s.accountId).filter((function(e){return!Gt(e)})),i.current={values:r.reduce((function(e,t){return Object.assign(e,Object(h.a)({},t.id,t.available_to_withdraw))}),{}),cachedAt:Date.now()},o.current=29,e.abrupt("return",{inputs:r.filter((function(e){return e.direction===Rt})),outputs:r.filter((function(e){return e.direction===Lt}))});case 8:case"end":return e.stop()}}),e)}))));return r.a.useEffect((function(){var e=setTimeout((function(){if(!l.data||o.current<=0)l.mutate();else{o.current-=1;var e=function(e){return La(e,i.current.values[e.id],i.current.cachedAt)};l.mutate({inputs:l.data.inputs.map(e),outputs:l.data.outputs.map(e)},{revalidate:!1})}}),1e3);return function(){return clearTimeout(e)}}),[l]),l}var Ma={value:"",cachedAt:0};function Ba(e,t){if(function(e){return e.status===kt||e.status===St}(e))return null;var a=new H.a(e.tokens_per_tick).multipliedBy(1e6);return Number(e.timestamp_created)/1e6+t.dividedBy(a).toNumber()}function Pa(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=290304e5,n=t?new H.a(e.available_to_withdraw):new H.a(0),r=H.a.minimum(a,new H.a(e.balance).minus(n).dividedBy(e.tokens_per_tick).dividedBy(Xt).toFixed()).toNumber(),s=Object(Sa.a)({start:0,end:1e3*r});(s.days||s.weeks||s.months||s.years)&&(s.seconds=0);var c=Object(Ia.a)(s,{locale:U}),i=new H.a(e.balance),o=i.plus(e.tokens_total_withdrawn),l=new H.a(e.tokens_total_withdrawn),u=l.plus(n),d=o.minus(u),m=[l.dividedBy(o).toNumber(),u.dividedBy(o).toNumber()],j={left:o.minus(u).dividedBy(o).toNumber(),streamed:u.dividedBy(o).toNumber(),withdrawn:l.dividedBy(o).toNumber(),available:n.dividedBy(o).toNumber()};return{secondsLeft:r,progresses:m,isDead:Gt(e),percentages:j,timeLeft:c,streamEndInfo:Ba(e,i),progress:{full:o.toFixed(),withdrawn:l.toFixed(),streamed:u.toFixed(),left:d.toFixed(),available:n.toFixed()}}}function Fa(e){var t=e.className;return Object(_.jsx)("svg",{className:t,width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",children:Object(_.jsx)("path",{d:"M0.895051 11.6285C0.745051 11.6285 0.603384 11.5702 0.495051 11.4535C0.295051 11.2285 0.311718 10.8869 0.528384 10.6869L5.836 5.90328L0.495028 1.27828C0.270028 1.07828 0.261695 0.736613 0.461695 0.511613C0.661695 0.294947 1.00336 0.27828 1.22836 0.47828L6.97766 5.46995C7.23599 5.70328 7.23599 6.10328 6.97766 6.33662L1.26172 11.4869C1.15338 11.5869 1.02838 11.6285 0.895051 11.6285Z",fill:"currentColor"})})}var Da=a(13),Ha=a.n(Da),Va=a(94),Wa=(a(447),a(187)),Ua=a.n(Wa);function Za(e){var t=e.placement,a=void 0===t?"top":t,n=e.children,r=e.overlay,s=e.align,c=e.overlayClassName;return Object(_.jsx)(Va.a,{align:s,placement:a,overlay:r,overlayClassName:m()(Ua.a.defaultOverlay,c),children:n||Object(_.jsx)("span",{className:Ua.a.defaultIcon,children:"?"})})}function qa(e){console.assert(e,"Provide stream id to use stream methods")}function Ya(e){var t=da().tokens.get(e);return new be(t.metadata.decimals)}var za=["NEAR"];function Ka(e){var t=e.ticker,a=e.balance,n=e.className,r=Ya(t).amount(a);return Object(_.jsxs)("div",{className:m()("inline-flex items-center p-2 rounded-lg border",n),style:{borderColor:"#A7B0BE"},children:[Object(_.jsx)(Nt,{tokenAccountId:t,className:"mr-2"})," ",Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:"font-semibold",children:r})," ",Object(_.jsx)("span",{className:"text-gray",children:t})]}),Object(_.jsx)("div",{children:t})]})]})}function Ja(e){var t=da().auth,a=function(e){var t=da().roketo,a=r.a.useState(!1),n=Object(C.a)(a,2),s=n[0],c=n[1];function i(){return(i=Object(k.a)(I.a.mark((function e(a){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.tokensWithoutStorage,r=void 0===n?0:n,e.next=3,t.api.updateAccount({tokensWithoutStorage:r});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(k.a)(I.a.mark((function a(n){var r,s;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.token,s=n.deposit,qa(e),a.next=4,t.api.depositStream({token:r,deposit:s,streamId:e});case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function l(){return(l=Object(k.a)(I.a.mark((function a(){var n;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return qa(e),console.debug("pausing",e),a.next=4,t.api.pauseStream({streamId:e});case 4:n=a.sent,console.debug("pausing res",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function u(){return(u=Object(k.a)(I.a.mark((function a(){var n;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return qa(e),console.debug("restarting",e),a.next=4,t.api.startStream({streamId:e});case 4:n=a.sent,console.debug("restarting res",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function d(){return(d=Object(k.a)(I.a.mark((function a(){var n;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return qa(e),console.debug("Stop called stopping",e),a.next=4,t.api.stopStream({streamId:e});case 4:n=a.sent,console.debug("stopping res",n);case 6:case"end":return a.stop()}}),a)})))).apply(this,arguments)}function m(e){return Object(k.a)(I.a.mark((function t(){var a=arguments;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s){t.next=2;break}return t.abrupt("return");case 2:return c(!0),t.prev=3,t.next=6,e.apply(void 0,a);case 6:return t.prev=6,c(!1),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[3,,6,9]])})))}return{loading:s,updateAllAndWithdraw:m((function(e){return i.apply(this,arguments)})),pause:m((function(){return l.apply(this,arguments)})),restart:m((function(){return u.apply(this,arguments)})),stop:m((function(){return d.apply(this,arguments)})),deposit:m((function(e){return o.apply(this,arguments)}))}}(),s=Object(ka.b)().mutate,c=Wt(!1),i=function(){var e=da(),t=e.roketo,a=e.tokens,r=Ra(),s=Ea({account:r.data}),c=Object(n.useMemo)((function(){var e={};return r.data&&s.data&&(r.data.ready_to_withdraw.forEach((function(t){var a=Object(C.a)(t,2),n=a[0],r=a[1];e[n]=e[n]||0,e[n]+=Number(r)})),s.data.inputs.forEach((function(t){e[t.ticker]=e[t.ticker]||0,e[t.ticker]+=Number(t.available_to_withdraw)}))),e}),[r.data,s.data]),i=Object(ka.a)((function(){c.NEAR;var e=Object(Me.a)(c,za),t=Object.keys(e);return t.sort(),JSON.stringify(t)}),(function(e){var t=JSON.parse(e);return Promise.all(t.map(function(){var e=Object(k.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=Boolean,e.next=4,a.ftStorageBalance(t);case 4:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.abrupt("return",{ticker:e.t0,hasStorageBalance:e.t3});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),{refreshInterval:5e3}),o=!r.data||!s.data||!i.data,l=(i.data||[]).filter((function(e){return!e.hasStorageBalance})),u=l.filter((function(e){var a=e.ticker;return t.isBridged(a)})),d=0===u.length&&i.data;return{balances:Object.entries(c),loading:o,tokensRequireManualDeposit:u,notRegisteredTokens:l,isSafeToWithdraw:d}}(),l=i.balances,u=i.loading,d=i.isSafeToWithdraw,m=i.notRegisteredTokens;function j(){return(j=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.updateAllAndWithdraw({tokensWithoutStorage:m.length});case 2:s(["account",t.accountId]);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.setOn(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=Object(_.jsxs)(o.a,{isOpen:c.on,onRequestClose:c.turnOff,className:"ModalContent",overlayClassName:"ModalOverlay",children:[Object(_.jsx)("h2",{className:"text-2xl mb-6",children:"Restricted withdrawal"}),Object(_.jsxs)("p",{children:["Due to NEP-141 issues you are required to do storage deposit before withdrawing. You can do it by buying any amount of"," ",m.map((function(e){return e.ticker})).join(", ")," ","tokens at any DEX"]})]}),f=u?function(){}:function(){d?function(){j.apply(this,arguments)}():function(){b.apply(this,arguments)}()};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Za,{placement:"bottom",align:{offset:[0,20]},overlay:Object(_.jsxs)("div",{className:"text-left",children:[Object(_.jsx)("p",{className:"mb-4 text-gray",children:"Move all received tokens to your wallet. With Roketo you can only withdraw from all your legacy streams simultaneously."}),Object(_.jsx)("div",{className:"text-left",children:u?Object(_.jsx)("p",{className:"font-semibold text-center",children:"Loading balances..."}):l.length?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("p",{className:"font-semibold mb-2",children:"Available balances:"}),Object(_.jsx)("div",{children:l.map((function(e){var t=Object(C.a)(e,2),a=t[0],n=t[1];return Object(_.jsx)(Ka,{ticker:a,balance:n,className:"w-full mb-2"},a)}))})]}):Object(_.jsx)("p",{className:"font-semibold text-center",children:"You have nothing to withdraw"})})]}),children:Object(_.jsx)(De,Object(ce.a)(Object(ce.a)({},e),{},{onClick:f,displayMode:Ee.action}))}),c.on?p:null]})}function Xa(e){var t=e.stream,a=Ya(t.ticker),n=Pa(t).progress,r=n.streamed,s=n.withdrawn,c=n.full;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:Ha.a.numericProgress,children:[Object(_.jsx)(Nt,{tokenAccountId:t.ticker,className:Ha.a.tokenIcon}),Object(_.jsx)("span",{children:"".concat(t.ticker," ").concat(a.amount(r)," of ").concat(a.amount(c))})]}),Object(_.jsx)(Ot,{total:c,streamed:r,withdrawn:s})]})}function Ga(e){var t=e.stream,a=Pa(t).isDead,n=ga(t);return a?null:Object(_.jsxs)("div",{className:Ha.a.buttons,children:[Object(_.jsx)(xa,{stream:t}),n===ya&&t.status===Ct&&"0"!==t.available_to_withdraw&&Object(_.jsx)(Ja,{children:"Withdraw all"})]})}function Qa(e){var t=e.stream,a=Ya(t.ticker);return Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:Ha.a.blockTitle,children:"Speed"}),Object(_.jsx)("div",{className:Ha.a.speed,children:bt(Number(t.tokens_per_tick)*Xt,{formatter:a,meta:{symbol:t.ticker}})})]})}function $a(e){var t=e.stream,a="";try{a=JSON.parse(t.description).comment}catch(n){a=t.description}return""===a?null:Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:Ha.a.blockTitle,children:"Comment"}),Object(_.jsx)("div",{className:Ha.a.commentBody,children:a})]})}function en(e){var t=e.stringToCopy;return Object(_.jsx)("button",{type:"button",className:Ha.a.copyButton,onClick:function(){return ze()(t)},children:Object(_.jsx)(Xe,{className:Ha.a.linkIcon})})}function tn(e){var t=qe(e.stream.id);return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:m()(Ha.a.blockTitle,Ha.a.copyTitle),children:["Public link to view the stream",Object(_.jsx)(en,{stringToCopy:t})]}),Object(_.jsx)("div",{className:Ha.a.link,children:t})]})}function an(e){var t=e.title,a=e.children;return Object(_.jsxs)("div",{className:Ha.a.infoRow,children:[Object(_.jsx)("span",{className:Ha.a.infoTitle,children:t}),a]})}function nn(e){var t=e.stream,a=ga(t),r=da().tokens,s=Pa(t),c=s.streamEndInfo,i=s.timeLeft,o=s.progress,l=o.streamed,u=o.left,d=o.full,j=Ya(t.ticker),b=r.get(t.ticker).metadata,p=ft(l,d).toNumber(),f=ft(u,d).toNumber(),h=Number(t.available_to_withdraw),O=Object(n.useState)(!1),v=Object(C.a)(O,2),x=v[0],y=v[1];return Object(_.jsxs)("div",{className:m()(Ha.a.tile,Ha.a.infoTile),children:[Object(_.jsx)("div",{className:Ha.a.blockHeader,children:"Stream info"}),Object(_.jsx)(an,{title:"Sender",children:Object(_.jsx)("span",{className:Ha.a.font16,children:a===wa?"You":t.owner_id})}),Object(_.jsx)(an,{title:"Receiver",children:Object(_.jsx)("span",{className:Ha.a.font16,children:a===ya?"You":t.receiver_id})}),Object(_.jsx)(an,{title:"Amount",children:Object(_.jsxs)("span",{className:Ha.a.font14,children:[j.amount(d),"\xa0",Object(_.jsx)("span",{className:Ha.a.font12,children:b.symbol})]})}),Object(_.jsx)(an,{title:"Stream Created",children:Object(_.jsx)("span",{className:Ha.a.font14,children:Object(Ke.a)(new Date(Number(t.timestamp_created)/1e6),"PP 'at' p")})}),null!==c&&Object(_.jsx)(an,{title:Object(Je.a)(c)?"Stream Ended":"Stream Ends",children:Object(_.jsx)("span",{className:Ha.a.font14,children:Object(Ke.a)(new Date(c),"PP 'at' p")})}),Object(_.jsx)(an,{title:"Token",children:Object(_.jsxs)("span",{className:Ha.a.font14,children:[b.name,",\xa0",Object(_.jsx)("span",{className:Ha.a.font12,children:b.symbol})]})}),Object(_.jsx)("div",{className:Ha.a.divider}),Object(_.jsx)(lt,{className:Ha.a.dropdownOpener,opened:x,onChange:function(e){y(e)},children:Object(_.jsx)("h3",{className:Ha.a.sectionHeader,children:"Other info"})}),x&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(an,{title:"Stream ID",children:Object(_.jsxs)("div",{className:Ha.a.centeredFlex,children:[Object(_.jsx)("span",{className:m()(Ha.a.font14,Ha.a.streamID),children:t.id}),Object(_.jsx)(en,{stringToCopy:t.id})]})}),Object(_.jsx)(an,{title:"Remaining",children:Object(_.jsx)("span",{className:Ha.a.font14,children:i||"Finished"})}),Object(_.jsx)(an,{title:"Tokens Transferred",children:Object(_.jsxs)("span",{className:Ha.a.font14,children:[j.amount(l),"\xa0",Object(_.jsxs)("span",{className:Ha.a.font12,children:[b.symbol," ",Object(_.jsxs)("span",{className:Ha.a.grey,children:["(",p,"%)"]})]})]})}),Object(_.jsx)(an,{title:"Tokens Left",children:Object(_.jsxs)("span",{className:Ha.a.font14,children:[j.amount(u),"\xa0",Object(_.jsxs)("span",{className:Ha.a.font12,children:[b.symbol," ",Object(_.jsxs)("span",{className:Ha.a.grey,children:["(",f,"%)"]})]})]})}),Object(_.jsx)(an,{title:"Tokens Available",children:Object(_.jsxs)("span",{className:Ha.a.font14,children:[j.amount(h),"\xa0",Object(_.jsx)("span",{className:Ha.a.font12,children:b.symbol})]})})]})]})}function rn(){var e=Object(u.h)().id,t=function(e,t){var a=da().roketo,s=Object(n.useRef)(Ma),c=Object(n.useRef)(0),i=Object(ka.a)((function(){return!!t&&["stream",e,t.account_id,t.last_action]}),Object(k.a)(I.a.mark((function t(){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.api.getStream({streamId:e});case 2:return n=t.sent,s.current={value:n.available_to_withdraw,cachedAt:Date.now()},c.current=9,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),{errorRetryInterval:2e3,errorRetryCount:3}),o=i.data||{balance:null,available_to_withdraw:null,status:null},l=o.balance===o.available_to_withdraw;return r.a.useEffect((function(){if(o.status===Ct&&!l){var e=setTimeout((function(){!i.data||c.current<=0?i.mutate():(c.current-=1,i.mutate(La(i.data,s.current.value,s.current.cachedAt),{revalidate:!1}))}),1e3);return function(){return clearTimeout(e)}}}),[o.status,l,i]),i}(e,Ra().data),a=t.data,s=t.error;return Object(_.jsx)("div",{className:Ha.a.root,children:Object(_.jsxs)(N,{children:[Object(_.jsxs)("div",{className:Ha.a.breadbrumbs,children:[Object(_.jsx)(l.b,{to:Ze.legacyStreams.path,className:Ha.a.streamsLink,children:"Streams (legacy)"}),Object(_.jsx)(Fa,{className:Ha.a.breadbrumb}),Object(_.jsx)("span",{className:Ha.a.id,children:e})]}),s&&Object(_.jsx)(rt,{className:"max-w-2xl mx-auto py-32",message:s.message,onRetry:function(){t.mutate()}}),!s&&!a&&Object(_.jsx)("div",{className:"py-32 text-center text-gray text-2xl",children:"Loading..."}),!s&&a&&Object(_.jsxs)("main",{className:Ha.a.stream,children:[Object(_.jsxs)("div",{className:Ha.a.left,children:[Object(_.jsxs)("div",{className:m()(Ha.a.tile,Ha.a.remaining),children:[Object(_.jsx)("span",{className:Ha.a.blockTitle,children:"Remaining"}),Object(_.jsx)("span",{children:Pa(a).timeLeft||"Finished"})]}),Object(_.jsxs)("div",{className:m()(Ha.a.tile,Ha.a.main),children:[Object(_.jsx)(Xa,{stream:a}),Object(_.jsx)(Ga,{stream:a}),Object(_.jsx)(Qa,{stream:a}),Object(_.jsx)("div",{className:Ha.a.divider}),Object(_.jsx)($a,{stream:a}),Object(_.jsx)(tn,{stream:a})]})]}),Object(_.jsx)("div",{className:Ha.a.right,children:Object(_.jsx)(nn,{stream:a})})]})]})})}var sn,cn=a(259),on=a.n(cn);!function(e){e.asc="ascending",e.desc="descending"}(sn||(sn={}));var ln=function(e){var t=e.width,a=void 0===t?24:t,n=e.height,r=void 0===n?24:n,s=e.type,c=void 0===s?sn.desc:s,i=e.className;return Object(_.jsx)("div",{className:m()(Object(h.a)({},on.a.rotate,c===sn.asc),i),children:Object(_.jsx)("svg",{width:a,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M3 18H9V16H3V18ZM3 6V8H21V6H3ZM3 13H15V11H3V13Z",fill:"#2B313B"})})})},un=a(117),dn=a.n(un);function mn(e){var t=e.active,a=e.label,n=e.value,r=e.onChange;return Object(_.jsxs)("label",{className:dn.a.root,children:[Object(_.jsx)("input",{type:"radio",className:"invisible w-0 h-0 absolute",checked:t,onChange:function(){return r(n)}}),Object(_.jsx)("div",{className:m()(dn.a.radio,Object(h.a)({},dn.a.radioActive,t))}),Object(_.jsx)("div",{className:dn.a.text,children:a})]})}var jn=a(118),bn=a.n(jn);function pn(e){var t=e.count,a=e.option;return Object(_.jsxs)("span",{children:[a," ",Object(_.jsx)("span",{className:"text-gray font-normal",children:t})]})}function fn(e){var t=e.label,a=e.options,r=e.renderOption,s=e.renderActive,c=e.active,i=e.onChange,o=e.className,l=e.isDisabled,u=Object(n.useState)(!1),d=Object(C.a)(u,2),j=d[0],b=d[1];return Object(_.jsxs)("div",{className:m()(bn.a.root,o),children:[t&&Object(_.jsx)("div",{className:"text-gray mr-2",children:t}),Object(_.jsxs)("div",{className:bn.a.dropdownWrapper,children:[Object(_.jsx)(lt,{className:m()(l&&bn.a.dropdownInactive,l&&"text-gray"),opened:!l&&j,onChange:b,children:s?s(c):c}),Object(_.jsx)(Dt,{opened:!l&&j,className:bn.a.dropdownMenu,onClose:function(){b(!1)},children:a.map((function(e){return Object(_.jsx)(mn,{label:r?r(e,c===e):e,active:c===e,value:e,onChange:i},JSON.stringify(e))}))})]})]})}var hn,_n=a(148),On=a.n(_n),vn=function(e){var t=e.directions,a=e.activeDirection,n=e.onDirectionClick,r=e.isInactive;return Object(_.jsx)("div",{className:On.a.root,children:t.map((function(e){return Object(_.jsx)(De,{className:m()(On.a.sort,Object(h.a)({},On.a.active,e===a)),onClick:function(){return n(e)},disabled:r,children:e},e)}))})};function xn(e){var t=e.options,a=Object(n.useMemo)((function(){return Object.keys(t)}),[t]),r=Object(n.useState)(a[0]),s=Object(C.a)(r,2),c=s[0],i=s[1];return Object(n.useMemo)((function(){var e=t[c];return{option:c,selectOption:i,options:t,optionsArray:a,currentFilterFunction:e}}),[t,c,a])}var yn="All",wn="Incoming",gn="Outgoing",Nn=(hn={ALL:"All"},Object(h.a)(hn,kt,"Initialized"),Object(h.a)(hn,Ct,"Active"),Object(h.a)(hn,St,"Paused"),hn);function kn(e){var t=Le().auth,a=Object(n.useMemo)((function(){var e;return e={},Object(h.a)(e,Nn.ALL,(function(){return!0})),Object(h.a)(e,Nn[kt],(function(e){return e.status===kt})),Object(h.a)(e,Nn[Ct],(function(e){return e.status===Ct})),Object(h.a)(e,Nn[St],(function(e){return e.status===St})),e}),[]),r=Object(n.useMemo)((function(){var e;return e={},Object(h.a)(e,yn,(function(){return!0})),Object(h.a)(e,wn,(function(e){return t.accountId===e.receiver_id})),Object(h.a)(e,gn,(function(e){return t.accountId===e.owner_id})),e}),[t.accountId]),s=xn({options:a}),c=xn({options:r}),i=function(e){var t=e.items,a=e.filters,r=Object(n.useState)(void 0),s=Object(C.a)(r,2),c=s[0],i=s[1],o=Object(n.useState)([]),l=Object(C.a)(o,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){var e=t,n=[];a.forEach((function(t){var a={};Object.keys(t.options).forEach((function(n){var r;a[n]=null===(r=e)||void 0===r?void 0:r.filter(t.options[n])}));var r={};Object.keys(a).forEach((function(e){r[e]=(a[e]||[]).length})),n.push(r),e=a[t.option]})),d(n),i(e)}),[t,a]),{filterCounts:u,filteredItems:c}}({items:e,filters:Object(n.useMemo)((function(){return[c,s]}),[c,s])});return{statusFilter:s,directionFilter:c,result:i}}var Cn=a(149),Sn=a.n(Cn);function In(e,t,a){return Number(t[a])-Number(e[a])}var An={bigBalanceFirst:{label:"With high amount",order:sn.desc,fn:function(e,t){return In(e,t,"balance")}},highSpeedFirst:{label:"With high speed",order:sn.desc,fn:function(e,t){return In(e,t,"tokens_per_tick")}},highSpeedLast:{label:"With low speed",order:sn.asc,fn:function(e,t){return-1*In(e,t,"tokens_per_tick")}},mostRecent:{label:"Most recent",order:sn.desc,fn:function(e,t){return In(e,t,"timestamp_created")}}};function Rn(e){var t=e.items,a=e.onFilterDone,r=e.className,s=kn(t),c=s.result.filteredItems,i=Object(n.useState)(An.mostRecent),o=Object(C.a)(i,2),l=o[0],u=o[1],d=Object.values(An),j=!t||0===t.length;return Object(n.useEffect)((function(){if(c){var e=Object(Na.a)(c);e.sort(l.fn),a(e)}else a(c)}),[c,a,l.fn]),Object(_.jsxs)("div",{className:m()(Sn.a.root,r),children:[Object(_.jsx)(vn,{directions:s.directionFilter.optionsArray,activeDirection:s.directionFilter.option,onDirectionClick:s.directionFilter.selectOption,isInactive:j}),Object(_.jsxs)("div",{className:Sn.a.filtersWrapper,children:[Object(_.jsx)(fn,{options:s.statusFilter.optionsArray,label:"Status:",active:s.statusFilter.option,onChange:s.statusFilter.selectOption,isDisabled:j,renderOption:function(e){var t=s.result.filterCounts[1];return Object(_.jsx)(pn,{option:e,count:t?t[e]:""},e)}}),Object(_.jsx)(fn,{options:d,label:"Show first:",active:l,onChange:u,isDisabled:j,renderOption:function(e){return Object(_.jsx)("span",{children:e.label})},renderActive:function(e){return Object(_.jsxs)("div",{className:Sn.a.sortWithOrder,children:[e.order&&Object(_.jsx)(ln,{type:e.order}),Object(_.jsx)("span",{children:e.label})]})}})]})]})}var Ln=a(188),Tn=a.n(Ln),En=function(e){var t=e.wrapperClassName,a=e.spinnerClassName,n=e.testId;return Object(_.jsx)("div",{className:m()(Tn.a.wrapper,t),"data-testid":n,children:Object(_.jsx)("div",{className:m()(Tn.a.spinner,a)})})},Mn=a(150),Bn=a.n(Mn),Pn=function(e){var t=e.name,a=e.label;return Object(_.jsxs)("div",{className:Bn.a.flexCenter,children:[Object(_.jsx)("span",{className:Bn.a.name,children:t}),a&&Object(_.jsx)("span",{className:Bn.a.nameLabel,children:a})]})};function Fn(e){var t=e.className;return Object(_.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:t,children:Object(_.jsx)("path",{d:"M8.99169 0.666504C4.39169 0.666504 0.666687 4.39984 0.666687 8.99984C0.666687 13.5998 4.39169 17.3332 8.99169 17.3332C13.6 17.3332 17.3334 13.5998 17.3334 8.99984C17.3334 4.39984 13.6 0.666504 8.99169 0.666504ZM9.00002 15.6665C5.31669 15.6665 2.33335 12.6832 2.33335 8.99984C2.33335 5.3165 5.31669 2.33317 9.00002 2.33317C12.6834 2.33317 15.6667 5.3165 15.6667 8.99984C15.6667 12.6832 12.6834 15.6665 9.00002 15.6665ZM9.41669 4.83317H8.16669V9.83317L12.5417 12.4582L13.1667 11.4332L9.41669 9.20817V4.83317Z",fill:"black"})})}var Dn=a(26),Hn=a.n(Dn),Vn={points:["tl","bc"],offset:[-24,10]},Wn=function(e){var t=e.stream,a=e.className,n=t.ticker,r=t.tokens_per_tick,s=Number(r)*Xt,c=Pa(t),i=c.progress,o=c.timeLeft,l=Ya(n),u=Number(l.amount(i.streamed)),d=Number(l.amount(i.withdrawn)),j=Number(l.amount(i.full)),b=be.formatSmartly(u),p=be.formatSmartly(d),f=ft(u,j,1),h=ft(d,u,1),O="".concat(b," of ").concat(j),v=l.tokensPerMeaningfulPeriod(s),x=v.formattedValue,y=v.unit;return Object(_.jsx)(Va.a,{overlayClassName:Hn.a.overlay,destroyTooltipOnHide:!0,align:Vn,placement:"bottom",overlay:Object(_.jsxs)("div",{className:m()(Hn.a.tooltip,Hn.a.text),children:[Object(_.jsxs)("div",{className:Hn.a.innerStatus,children:[Object(_.jsx)("span",{children:O})," ",Object(_.jsx)("span",{className:m()(Hn.a.grey,Hn.a.smaller),children:n})]}),Object(_.jsx)(Ot,{total:i.full,streamed:i.streamed,withdrawn:i.withdrawn}),Object(_.jsxs)("div",{className:m()(Hn.a.status,Hn.a.speed),children:[x," ",Object(_.jsxs)("span",{className:m()(Hn.a.grey,Hn.a.smaller),children:[n," / ",y]})]}),o&&Object(_.jsxs)("div",{className:Hn.a.remained,children:[Object(_.jsx)(Fn,{className:Hn.a.clock}),o]}),Object(_.jsxs)("div",{className:m()(Hn.a.progress,Hn.a.streamed),children:["Streamed: ",b," ",Object(_.jsx)("span",{className:m()(Hn.a.grey,Hn.a.smaller),children:"".concat(f,"%")})]}),Object(_.jsxs)("div",{className:m()(Hn.a.progress,Hn.a.withdrawn),children:["Withdrawn: ",p," ",Object(_.jsx)("span",{className:m()(Hn.a.grey,Hn.a.smaller),children:"".concat(h,"%")})]})]}),children:Object(_.jsxs)("div",{className:m()(Hn.a.root,Hn.a.text,a),children:[Object(_.jsxs)("div",{className:Hn.a.status,children:[Object(_.jsx)("span",{children:O})," ",Object(_.jsx)("span",{className:Hn.a.grey,children:n})]}),Object(_.jsx)(Ot,{total:i.full,streamed:i.streamed,withdrawn:i.withdrawn})]})})},Un=a(189),Zn=a.n(Un),qn=function(e){var t=e.onCLick;return Object(_.jsx)("button",{className:Zn.a.linkButton,type:"button",onClick:t,children:Object(_.jsx)(Xe,{})})},Yn=function(e){var t=e.className,a=e.stream,r=a.id,s=Object(n.useCallback)((function(e){e.preventDefault();var t=qe(r);ze()(t)}),[r]);return Object(_.jsxs)("div",{className:m()(Zn.a.root,t),children:[Object(_.jsx)(xa,{stream:a}),Object(_.jsx)(qn,{onCLick:s})]})},zn=a(97),Kn=a.n(zn),Jn=function(e){var t=e.stream,a=e.className,n=t.id,r=t.description,s="";try{s=JSON.parse(r).comment}catch(j){s=r}var c=ga(t)===ya,i=c?t.owner_id:t.receiver_id,o=c?void 0:"Sending",d=Object(u.f)(Ze.legacyStream.path,{id:n});return Object(_.jsxs)("div",{className:m()(Kn.a.root,a),children:[Object(_.jsx)(l.b,{to:d,className:Kn.a.name,children:Object(_.jsx)(Pn,{name:i,label:o})}),Object(_.jsx)(Wn,{stream:t,className:Kn.a.withMarginRight}),Object(_.jsx)(l.b,{to:d,className:"col-span-2 grow-0",children:Object(_.jsx)("p",{className:Kn.a.comment,children:s})}),Object(_.jsx)(Yn,{stream:t,className:m()(Kn.a.controls,"col-span-2 grow-0")})]})},Xn=a(53),Gn=a.n(Xn),Qn=function(e){var t=e.children;return Object(_.jsx)("div",{className:Gn.a.emptyState,children:t})},$n=function(e){var t,a=e.className,n=e.displayingStreams,r=e.onCreateStreamClick,s=Ea({account:Ra().data}).data,c=s||{},i=c.inputs,o=void 0===i?[]:i,l=c.outputs,u=void 0===l?[]:l,d=[].concat(Object(Na.a)(o),Object(Na.a)(u)).length,j=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;return s?s&&0===d?Object(_.jsxs)(Qn,{children:[Object(_.jsx)("div",{children:"You don't have any streams yet."}),Object(_.jsx)(De,{onClick:r,children:"Create First Stream"})]}):s&&0!==d&&0===j?Object(_.jsx)(Qn,{children:Object(_.jsx)("div",{children:"No streams matching your filters. Try selecting different ones"})}):Object(_.jsx)("div",{className:m()(Gn.a.container,a),children:Object(_.jsxs)("section",{className:Gn.a.flexColumn,children:[Object(_.jsxs)("div",{className:m()(Gn.a.withPaddings,"grid grid-cols-6 gap-x-10"),children:[Object(_.jsx)("h3",{className:Gn.a.title,children:"Wallet address"}),Object(_.jsx)("h3",{className:Gn.a.title,children:"Amount to stream"}),Object(_.jsx)("h3",{className:Gn.a.title,children:"Comment"})]}),null===n||void 0===n?void 0:n.map((function(e){return Object(_.jsx)(Jn,{stream:e,className:m()(Gn.a.withPaddings,"grid grid-cols-6 gap-x-10")},e.id)}))]})}):Object(_.jsx)(Qn,{children:Object(_.jsx)(En,{wrapperClassName:Gn.a.loader})})},er=a(63),tr=a.n(er),ar=function(){var e=Ea({account:Ra().data}).data||{},t=e.inputs,a=e.outputs,r=Object(n.useMemo)((function(){return(t||a)&&[].concat(Object(Na.a)(t||[]),Object(Na.a)(a||[]))}),[t,a]),s=Object(n.useState)([]),c=Object(C.a)(s,2),i=c[0],o=c[1],l=Object(n.useState)(!1),u=Object(C.a)(l,2),d=u[0],j=u[1],b=Object(n.useCallback)((function(){return j(!d)}),[j,d]);return Object(_.jsx)("div",{className:tr.a.root,children:Object(_.jsxs)(N,{children:[Object(_.jsxs)("section",{className:m()(tr.a.flex,tr.a.header),children:[Object(_.jsx)("h1",{className:tr.a.title,children:"Streams (legacy)"}),Object(_.jsx)("div",{className:m()(tr.a.flex,tr.a.buttonsWrapper),children:Object(_.jsx)(Ja,{children:"Withdraw all"})})]}),Object(_.jsx)(Rn,{items:r,onFilterDone:o,className:tr.a.streamFilters}),Object(_.jsx)($n,{displayingStreams:i,className:tr.a.section,onCreateStreamClick:b})]})})};var nr=function(e){var t,a;return null!==(t=null===(a=window)||void 0===a?void 0:a.matchMedia(e).matches)&&void 0!==t&&t};function rr(e){var t=Object(n.useState)((function(){return nr(e)})),a=Object(C.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){var t=window.matchMedia(e);function a(){s(nr(e))}return a(),t.addListener?t.addListener(a):t.addEventListener("change",a),function(){t.removeListener?t.removeListener(a):t.removeEventListener("change",a)}}),[e,s]),r}var sr,cr=function(e){var t=e.to,a=e.className,n=e.children,r=e.onClick;return Object(_.jsx)(l.b,{to:t,className:a,onClick:r,children:n})},ir=a(190),or=a.n(ir),lr=function(e){var t=e.pageRoutes,a=void 0===t?[]:t;return 0===a.length?null:Object(_.jsx)("ul",{className:or.a.root,children:a.map((function(e){return Object(_.jsx)("li",{className:or.a.pageLink,children:Object(_.jsx)(cr,{to:e.path,children:e.title})},e.path)}))})},ur=function(e){var t=e.width,a=void 0===t?17:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object(_.jsx)("div",{className:s,children:Object(_.jsx)("svg",{width:a,height:r,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M15.5 4.06667V2.16667C15.5 1.25 14.75 0.5 13.8333 0.5H2.16667C1.24167 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.24167 15.5 2.16667 15.5H13.8333C14.75 15.5 15.5 14.75 15.5 13.8333V11.9333C15.9917 11.6417 16.3333 11.1167 16.3333 10.5V5.5C16.3333 4.88333 15.9917 4.35833 15.5 4.06667ZM14.6667 5.5V10.5H8.83333V5.5H14.6667ZM2.16667 13.8333V2.16667H13.8333V3.83333H8.83333C7.91667 3.83333 7.16667 4.58333 7.16667 5.5V10.5C7.16667 11.4167 7.91667 12.1667 8.83333 12.1667H13.8333V13.8333H2.16667Z",fill:"#626F84"})})})},dr=function(e){var t=e.width,a=void 0===t?20:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object(_.jsx)("div",{className:s,children:Object(_.jsx)("svg",{width:a,height:r,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334ZM17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334Z",fill:"#626F84"})})})},mr=function(e){var t=e.width,a=void 0===t?17:t,n=e.height,r=void 0===n?16:n,s=e.className;return Object(_.jsx)("div",{className:s,children:Object(_.jsxs)("svg",{width:a,height:r,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(_.jsx)("path",{d:"M12.1667 12.1666L16.3333 7.99998L12.1667 3.83331L10.9917 5.00831L13.1417 7.16665H5.5V8.83331H13.1417L10.9917 10.9916L12.1667 12.1666Z",fill:"#626F84"}),Object(_.jsx)("path",{d:"M13.8333 13.8333H2.16667V2.16667H13.8333V3.83333H15.5V2.16667C15.5 1.25 14.7583 0.5 13.8333 0.5H2.16667C1.25 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.25 15.5 2.16667 15.5H13.8333C14.7583 15.5 15.5 14.75 15.5 13.8333V12.1667H13.8333V13.8333Z",fill:"#626F84"})]})})};function jr(e){var t=Le().tokens;return he(e)&&(t[e].meta.symbol="NEAR"),t[e]}function br(e){var t,a=e.tokenAccountId,n=e.className,r=e.mode,s=void 0===r?sr.CRYPTO:r,c=Le(),i=c.auth,o=c.priceOracle,l=jr(a),u=l.balance,d=l.formatter,m=l.meta,j=he(a)?(null===(t=i.balance)||void 0===t?void 0:t.available)||"0":u,b=d.amount(j),p=s===sr.USD,f=p?o.getPriceInUsd(a,b):b,h=p?"$":m.symbol;return Object(_.jsx)("span",{className:n,children:"Balance: ".concat(h," ").concat(f)})}!function(e){e.USD="USD",e.CRYPTO="CRYPTO",e.BOTH="BOTH"}(sr||(sr={}));var pr;!function(e){e.income="total_incoming",e.outcome="total_outgoing"}(pr||(pr={}));var fr=function(e){var t=e.type,a=e.period,n=e.className,r=Le(),s=r.roketo,c=r.priceOracle,i=r.tokens,o=s.account[t],l=Object.keys(o).reduce((function(e,t){var n=i[t].formatter,r=function(e,t){var a=new H.a(e);switch(t){case ne.Minute:return a.multipliedBy(60);case ne.Hour:return a.multipliedBy(ie);case ne.Day:return a.multipliedBy(oe);default:return a}}(o[t],a).toFixed(),s=n.toHumanReadableValue(r,3),l=c.getPriceInUsd(t,s);return e+Number(l)}),0);return Object(_.jsx)("div",{className:n,children:"".concat(l," $ ").concat(me[a])})},hr=a(73),_r=a.n(hr),Or=function(e){var t=e.className;return Object(_.jsxs)("div",{className:m()(_r.a.root,t),children:[Object(_.jsxs)("div",{className:_r.a.wrapper,children:[Object(_.jsx)(mr,{}),Object(_.jsx)(fr,{className:_r.a.balance,type:pr.outcome,period:ne.Hour})]}),Object(_.jsxs)("div",{className:_r.a.wrapper,children:[Object(_.jsx)(dr,{}),Object(_.jsx)(fr,{className:_r.a.balance,type:pr.income,period:ne.Hour})]}),Object(_.jsxs)("div",{className:_r.a.wrapper,children:[Object(_.jsx)(ur,{}),Object(_.jsx)(br,{className:_r.a.balance,tokenAccountId:R.WNEAR_ID,mode:sr.USD})]})]})},vr=a(74),xr={baseServer:new vr.ServerConfiguration(R.WEB_API_URL,{})},yr=function(){function e(){Object(P.a)(this,e),this.initialized=!1,this.token=null,this.authApiClient=new vr.AuthApi(vr.createConfiguration(Object(ce.a)({},xr)))}return Object(F.a)(e,[{key:"getToken",value:function(){return this.token||(this.token=this.getRefreshedToken()),this.token}},{key:"refreshToken",value:function(){this.token=this.getRefreshedToken()}},{key:"getRefreshedToken",value:function(){var e=Object(k.a)(I.a.mark((function e(){var t,a,n,r,s,c,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccountIdAndNear();case 3:if(t=e.sent,a=t.accountId,"roketoApiAccessToken",n="".concat("roketoApiAccessToken",":").concat(a),this.initialized){e.next=12;break}if(this.initialized=!0,!(r=localStorage[n]||null)||this.containsUnicode(r)){e.next=12;break}return e.abrupt("return",r);case 12:return delete localStorage[n],e.next=15,this.generateLoginParams();case 15:return s=e.sent,e.next=18,this.authApiClient.login(s);case 18:return c=e.sent,i=c.accessToken,localStorage[n]=i,e.abrupt("return",i);case 24:throw e.prev=24,e.t0=e.catch(0),this.token=null,e.t0;case 28:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountIdAndNear",value:function(){var e=Object(k.a)(I.a.mark((function e(){var t,a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,a=new A.WalletConnection(t,R.ROKETO_CONTRACT_NAME),n=a.getAccountId(),e.abrupt("return",{accountId:n,near:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"generateLoginParams",value:function(){var e=Object(k.a)(I.a.mark((function e(){var t,a,n,r,s,c,i,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountIdAndNear();case 2:return t=e.sent,a=t.accountId,n=t.near,e.next=7,n.config.keyStore.getKey(n.config.networkId,a);case 7:return r=e.sent,s=Date.now(),c=r.sign((new TextEncoder).encode(String(s))),i=c.signature,o=Array.from(i),e.abrupt("return",{accountId:a,timestamp:s,signature:o});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"containsUnicode",value:function(e){return e!==encodeURIComponent(e)}}]),e}(),wr=new yr,gr=function(){var e=Object(k.a)(I.a.mark((function e(t,a,n,r,s){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s.retryCount,!(t.message.startsWith("HTTP-Code: 401")&&c<=3)){e.next=5;break}return e.next=4,wr.refreshToken();case 4:r({retryCount:c});case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,s){return e.apply(this,arguments)}}(),Nr=vr.createConfiguration(Object(ce.a)(Object(ce.a)({},xr),{},{authMethods:{bearer:{tokenProvider:wr}}})),kr=new vr.UsersApi(Nr);function Cr(){var e=Le().auth;return Object(ka.a)(e.accountId?"user":null,(function(){return kr.findOne(e.accountId)}),{onErrorRetry:gr})}var Sr=vr.User,Ir=new vr.NotificationsApi(Nr);var Ar=a(191),Rr=a.n(Ar),Lr=["className","hasError"],Tr=function(e){var t=e.className,a=e.hasError,n=void 0!==a&&a,r=Object(Me.a)(e,Lr);return Object(_.jsx)("input",Object(ce.a)({className:m()(Rr.a.input,Object(h.a)({},Rr.a.error,n),t)},r))},Er=a(98),Mr=a.n(Er),Br=["children","isRequired","label","description","error","className"],Pr=function(e){var t=e.children,a=e.isRequired,n=void 0!==a&&a,r=e.label,s=e.description,c=e.error,i=e.className,o=Object(Me.a)(e,Br);return Object(_.jsxs)("div",Object(ce.a)(Object(ce.a)({className:m()(Mr.a.root,i)},o),{},{children:[r&&Object(_.jsx)("label",{className:m()(Mr.a.label,Object(h.a)({},Mr.a.required,n)),children:r}),t,s&&Object(_.jsx)("div",{className:Mr.a.description,children:s}),c&&Object(_.jsx)("div",{className:Mr.a.error,children:c})]}))},Fr=a(192),Dr=a.n(Fr),Hr="nameInput",Vr="emailInput";function Wr(){var e=Le().auth,t=Object(n.useState)(""),a=Object(C.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),i=Object(C.a)(c,2),o=i[0],l=i[1],u=Object(n.useState)(!1),d=Object(C.a)(u,2),m=d[0],j=d[1],b=Cr();Object(n.useEffect)((function(){var e,t,a,n;s(null!==(e=null===(t=b.data)||void 0===t?void 0:t.name)&&void 0!==e?e:""),l(null!==(a=null===(n=b.data)||void 0===n?void 0:n.email)&&void 0!==a?a:"")}),[b.data]);var p=Object(n.useRef)(null),f=Object(n.useCallback)(function(){var t=Object(k.a)(I.a.mark((function t(a){var n,r,s,c,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),b.data){t.next=3;break}return t.abrupt("return");case 3:return j(!0),s=null===(n=p.current)||void 0===n?void 0:n.nameInput.value,c=null===(r=p.current)||void 0===r?void 0:r.emailInput.value,i=b.data,t.next=9,b.mutate(Object(k.a)(I.a.mark((function t(){var a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a={name:s,email:c},t.next=4,kr.update(e.accountId,a);case 4:return t.abrupt("return",Object.assign(new Sr,i,a));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",i);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),{revalidate:!1,optimisticData:Object(ce.a)(Object(ce.a)({},b.data),{},{name:s}),rollbackOnError:!0});case 9:j(!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e.accountId,b]),h=b.isValidating||m;return Object(_.jsxs)("form",{className:Dr.a.profileForm,onSubmit:f,ref:p,children:[h&&Object(_.jsx)(En,{wrapperClassName:Dr.a.loaderWrapper}),Object(_.jsx)(Pr,{label:"User name",children:Object(_.jsx)(Tr,{placeholder:"Name",name:Hr,value:r,onChange:function(e){return s(e.target.value)},disabled:h})}),Object(_.jsx)(Pr,{label:"Email",description:"Email address is used for notifications",children:Object(_.jsx)(Tr,{placeholder:"Email",name:Vr,value:o,onChange:function(e){return l(e.target.value)},disabled:h})}),Object(_.jsx)(De,{type:Te.submit,disabled:h,children:"Save"})]})}var Ur=a(79),Zr=a.n(Ur),qr=function(){var e,t=Object(n.useState)(!1),a=Object(C.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),i=Object(C.a)(c,2),o=i[0],l=i[1],u=Le().auth,d=null!==(e=Cr().data)&&void 0!==e?e:{},m=d.name,j=d.email,b=u.accountId;return Object(_.jsxs)("div",{className:Zr.a.profile,children:[Object(_.jsxs)(lt,{onChange:s,className:Zr.a.dropdownOpener,opened:r,children:[Object(_.jsx)("span",{className:Zr.a.name,children:m||b}),o?Object(_.jsx)("svg",{className:Zr.a.avatar}):Object(_.jsx)("img",{className:Zr.a.avatar,src:"".concat(R.WEB_API_URL,"/users/").concat(b,"/avatar?email=").concat(j),alt:"",onError:function(){return l(!0)}})]}),Object(_.jsx)(Dt,{opened:r,onClose:function(){return s(!1)},className:Zr.a.dropdownMenu,children:Object(_.jsx)(Wr,{})})]})},Yr=a(140),zr=a(489),Kr=a(490),Jr="in",Xr="out";function Gr(e){var t=Le().auth;return e.receiver_id===t.accountId?Jr:e.owner_id===t.accountId?Xr:null}function Qr(e){var t=e.swr,a=e.revalidationPeriod,r=e.isEnabled,s=void 0===r||r,c=Object(n.useState)(a),i=Object(C.a)(c,2),o=i[0],l=i[1];Object(n.useEffect)((function(){if(s){var e=setTimeout((function(){o<=0?(l(a),t.mutate()):l((function(e){return e-1}))}),1e3);return function(){return clearTimeout(e)}}}),[t,o,a,s])}function $r(){var e=Le(),t=e.auth,a=e.roketo,n=Object(ka.a)(["streams",t.accountId,a.account.last_created_stream],Object(k.a)(I.a.mark((function e(){var t,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.api.getAccountIncomingStreams({from:0,limit:100});case 2:return t=e.sent,e.next=5,a.api.getAccountOutgoingStreams({from:0,limit:100});case 5:return n=e.sent,e.abrupt("return",{inputs:t,outputs:n});case 7:case"end":return e.stop()}}),e)}))));return Qr({swr:n,revalidationPeriod:30}),n}function es(e){if(J(e))return null;var t=new H.a(e.tokens_per_sec).dividedBy(1e3);return e.last_action/1e6+new H.a(e.balance).dividedBy(t).toNumber()}function ts(e){if(!e.cliff)return null;var t=es(e);return t?(e.cliff-e.timestamp_created)/1e6/(t-e.timestamp_created/1e6)*100:null}function as(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=290304e5,n=t?Q(e):new H.a(0),r=new H.a(e.balance),s=H.a.minimum(a,r.minus(n).dividedBy(e.tokens_per_sec).toFixed()).toNumber(),c=Object(Sa.a)({start:0,end:1e3*s});(c.days||c.weeks||c.months||c.years)&&(c.seconds=0);var i=Object(Ia.a)(c,{locale:U}),o=r.plus(e.tokens_total_withdrawn),l=new H.a(e.tokens_total_withdrawn),u=l.plus(n),d=o.minus(u),m=[l.dividedBy(o).toNumber(),u.dividedBy(o).toNumber()],j={left:o.minus(u).multipliedBy(100).dividedBy(o).toNumber(),streamed:u.multipliedBy(100).dividedBy(o).toNumber(),withdrawn:l.multipliedBy(100).dividedBy(o).toNumber(),available:n.multipliedBy(100).dividedBy(o).toNumber(),cliff:ts(e)};return{secondsLeft:s,progresses:m,isDead:X(e),percentages:j,timeLeft:i,streamEndTimestamp:es(e),cliffEndTimestamp:e.cliff?e.cliff/1e6:null,progress:{full:o.toFixed(),withdrawn:l.toFixed(),streamed:u.toFixed(),left:d.toFixed(),available:n.toFixed()}}}var ns=a(28),rs=a.n(ns);function ss(e){var t=e.className,a=e.withBadge;return Object(_.jsxs)("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[Object(_.jsx)("path",{d:"M15.375 17.5556H8.625M15.375 17.5556H21L19.4194 15.9944C19.2071 15.7848 19.0387 15.5358 18.9239 15.2619C18.809 14.9879 18.75 14.6943 18.75 14.3978V10.8889C18.7502 9.50993 18.3175 8.16482 17.5116 7.03876C16.7057 5.91271 15.5662 5.06107 14.25 4.60111V4.22222C14.25 3.63285 14.0129 3.06762 13.591 2.65087C13.169 2.23413 12.5967 2 12 2C11.4033 2 10.831 2.23413 10.409 2.65087C9.98705 3.06762 9.75 3.63285 9.75 4.22222V4.60111C7.12875 5.51667 5.25 7.98667 5.25 10.8889V14.3989C5.25 14.9967 5.00925 15.5711 4.58063 15.9944L3 17.5556H8.625H15.375ZM15.375 17.5556V18.6667C15.375 19.5507 15.0194 20.3986 14.3865 21.0237C13.7536 21.6488 12.8951 22 12 22C11.1049 22 10.2464 21.6488 9.61351 21.0237C8.98058 20.3986 8.625 19.5507 8.625 18.6667V17.5556H15.375Z",stroke:a?"#3E65F2":"#2B313B",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a&&Object(_.jsx)("circle",{cx:"19",cy:"5",r:"5",fill:"#D80A1F",stroke:"white",strokeWidth:"2"})]})}function cs(e){var t=e.className;return Object(_.jsxs)("svg",{className:t,width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[Object(_.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#F1F6FE"}),Object(_.jsx)("path",{d:"M22 14.9167V19.5M14.5 29.5V26.1667V29.5ZM14.5 26.1667V16.1667C14.5 15.7246 14.6756 15.3007 14.9882 14.9882C15.3007 14.6756 15.7246 14.5 16.1667 14.5H21.5833L22.4167 15.3333H29.5L27 20.3333L29.5 25.3333H22.4167L21.5833 24.5H16.1667C15.7246 24.5 15.3007 24.6756 14.9882 24.9882C14.6756 25.3007 14.5 25.7246 14.5 26.1667V26.1667Z",stroke:"#3E65F2",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}function is(e){var t=e.className;return Object(_.jsxs)("svg",{className:t,width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[Object(_.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#F2FCF5"}),Object(_.jsx)("path",{d:"M28.3128 19.7147L20.9824 15.0357C20.6368 14.815 20.235 14.6883 19.82 14.6692C19.405 14.6501 18.9923 14.7393 18.6262 14.9273C18.26 15.1153 17.9541 15.3949 17.7411 15.7364C17.5281 16.0779 17.4161 16.4683 17.417 16.866V26.2217C17.4169 26.6191 17.5296 27.0089 17.7429 27.3498C17.9562 27.6906 18.2622 27.9697 18.6282 28.1571C18.9942 28.3446 19.4065 28.4334 19.8211 28.4141C20.2358 28.3948 20.6371 28.2682 20.9824 28.0477L28.3128 23.3687C28.6268 23.1683 28.8843 22.8968 29.0624 22.5783C29.2405 22.2597 29.3337 21.904 29.3337 21.5428C29.3337 21.1815 29.2405 20.8258 29.0624 20.5073C28.8843 20.1888 28.6268 19.9173 28.3128 19.7169V19.7147Z",stroke:"#1EBA52",strokeWidth:"2.75",strokeLinecap:"round",strokeLinejoin:"round"})]})}function os(e){var t=e.className;return Object(_.jsxs)("svg",{className:t,width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",children:[Object(_.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#FFF7EE"}),Object(_.jsx)("path",{d:"M18.333 16.5V27.5M25.6663 16.5V27.5",stroke:"#FF8C19",strokeWidth:"3.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})}function ls(e){var t=e.className;return Object(_.jsxs)("svg",{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",className:t,children:[Object(_.jsx)("rect",{width:"44",height:"44",rx:"22",fill:"#FFEEF0"}),Object(_.jsx)("path",{d:"M20.5833 24.3833H23.9167V13.425H20.5833V24.3833ZM22.125 31.3C22.6806 31.3 23.1319 31.1264 23.4792 30.7792C23.8264 30.4319 24 29.9806 24 29.425C24 28.8972 23.8264 28.4458 23.4792 28.0708C23.1319 27.6958 22.6806 27.5083 22.125 27.5083C21.5694 27.5083 21.1181 27.6958 20.7708 28.0708C20.4236 28.4458 20.25 28.8972 20.25 29.425C20.25 29.9806 20.4236 30.4319 20.7708 30.7792C21.1181 31.1264 21.5694 31.3 22.125 31.3Z",fill:"#D80A1F"})]})}function us(e){var t=e.type,a=function(){switch(t){case"StreamStarted":case"StreamContinued":return is;case"StreamPaused":return os;case"StreamFinished":return cs;case"StreamIsDue":case"StreamCliffPassed":return ls;default:throw new Error("This should never happen")}}();return Object(_.jsx)(a,{className:rs.a.icon})}function ds(e){var t=e.children;return Object(_.jsx)("div",{className:rs.a.primaryText,"data-testid":je.notificationPrimaryCaption,children:t})}function ms(e){var t=e.children;return Object(_.jsx)("div",{className:rs.a.secondaryText,"data-testid":je.notificationSecondaryCaption,children:t})}function js(e){var t=e.notification,a=t.type,n=t.payload,r=Le().tokens,s=Gr(n),c=as(n,false),i=c.progress,o=i.full,l=i.streamed,u=i.left,d=c.timeLeft,m=r[n.token_account_id],j=m.meta.symbol,b=m.formatter;switch(a){case"StreamStarted":return Object(_.jsxs)("div",{className:rs.a.notificationBody,children:[Object(_.jsx)(ds,{children:s===Jr?Object(_.jsxs)(_.Fragment,{children:[n.owner_id," ",Object(_.jsx)("strong",{children:"started"})," a stream for you to receive."]}):Object(_.jsxs)(_.Fragment,{children:["You\u2019ve successfully ",Object(_.jsx)("strong",{children:"started"})," a stream to ",n.receiver_id,"."]})}),Object(_.jsxs)(ms,{children:["Total streaming amount: ",Object(_.jsxs)("strong",{children:[b.amount(o),"\xa0",j]})]}),Object(_.jsxs)(ms,{children:["Stream duration: ",Object(_.jsx)("strong",{children:d})]})]});case"StreamPaused":return Object(_.jsxs)("div",{className:rs.a.notificationBody,children:[Object(_.jsxs)(ds,{children:["The stream ",s===Jr?"from ".concat(n.owner_id):"to ".concat(n.receiver_id)," is ",Object(_.jsx)("strong",{children:"paused"}),"."]}),Object(_.jsxs)(ms,{children:["Already streamed: ",Object(_.jsxs)("strong",{children:[b.amount(l),"\xa0",j]})]}),Object(_.jsxs)(ms,{children:["Amount left: ",Object(_.jsxs)("strong",{children:[b.amount(u),"\xa0",j]})]})]});case"StreamFinished":return Object(_.jsxs)("div",{className:rs.a.notificationBody,children:[Object(_.jsxs)(ds,{children:["The stream ",s===Jr?"from ".concat(n.owner_id):"to ".concat(n.receiver_id)," has ",Object(_.jsx)("strong",{children:"ended"}),"."]}),Object(_.jsxs)(ms,{children:["Total amount streamed: ",Object(_.jsxs)("strong",{children:[b.amount(o),"\xa0",j]})]})]});case"StreamIsDue":return Object(_.jsxs)("div",{className:rs.a.notificationBody,children:[Object(_.jsxs)(ds,{children:["The stream from ",n.owner_id," is ",Object(_.jsx)("strong",{children:"due"}),"."]}),Object(_.jsxs)(ms,{children:["Available for withdrawal: ",Object(_.jsxs)("strong",{children:[b.amount(u),"\xa0",j]})]})]});case"StreamContinued":return Object(_.jsxs)("div",{className:rs.a.notificationBody,children:[Object(_.jsx)(ds,{children:s===Jr?Object(_.jsxs)(_.Fragment,{children:[n.owner_id," has ",Object(_.jsx)("strong",{children:"continued"})," the stream."]}):Object(_.jsxs)(_.Fragment,{children:["The stream to ",n.receiver_id," was ",Object(_.jsx)("strong",{children:"continued"}),"."]})}),Object(_.jsxs)(ms,{children:["Amount left: ",Object(_.jsxs)("strong",{children:[b.amount(u),"\xa0",j]})]}),Object(_.jsxs)(ms,{children:["Time left: ",Object(_.jsx)("strong",{children:d})]})]});case"StreamCliffPassed":return Object(_.jsxs)("div",{className:rs.a.notificationBody,children:[Object(_.jsxs)(ds,{children:["The stream ",s===Jr?"from ".concat(n.owner_id):"to ".concat(n.receiver_id)," has ",Object(_.jsx)("strong",{children:"passed the cliff period"}),"."]}),Object(_.jsxs)(ms,{children:["Available for withdrawal: ",Object(_.jsxs)("strong",{children:[b.amount(u),"\xa0",j]})]})]});default:throw new Error("This should never happen")}}function bs(){var e,t,a,s,c=rr("(max-width: 645px)"),i=Object(n.useState)(!1),o=Object(C.a)(i,2),d=o[0],b=o[1],p=function(){var e=Le().auth,t=Object(ka.a)(e.accountId?"notifications":null,Object(k.a)(I.a.mark((function e(){var t,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir.findAll();case 2:return t=e.sent,a=new Set(["StreamStarted","StreamPaused","StreamFinished","StreamIsDue","StreamContinued","StreamCliffPassed"]),e.abrupt("return",t.filter((function(e){return a.has(e.type)})));case 5:case"end":return e.stop()}}),e)}))),{onErrorRetry:gr});return Object(n.useEffect)((function(){setTimeout(t.mutate,5e3)}),[t]),t}(),f=Object(n.useCallback)((function(){b(!1),p.data&&p.mutate(function(){var e=Object(k.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir.markAllRead();case 2:return e.abrupt("return",null===t||void 0===t?void 0:t.map((function(e){return e.isRead?e:Object(ce.a)(Object(ce.a)({},e),{},{isRead:!0})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[p]),h=null!==(e=null===(t=p.data)||void 0===t?void 0:t.some((function(e){return!e.isRead})))&&void 0!==e&&e;return Object(_.jsxs)("div",{className:rs.a.root,children:[Object(_.jsx)(lt,{onChange:b,className:rs.a.dropdownOpener,opened:d,testId:je.openNotificationsButton,children:Object(_.jsx)(ss,{withBadge:h})}),Object(_.jsx)(Dt,{opened:d,onClose:f,className:m()(rs.a.dropdownMenu,c&&rs.a.compact),children:Object(_.jsxs)("div",{className:rs.a.container,children:[Object(_.jsx)("header",{className:rs.a.header,children:"Notifications"}),!p.data&&Object(_.jsx)(En,{wrapperClassName:rs.a.loader,testId:je.notificationsLoader}),0===(null===(a=p.data)||void 0===a?void 0:a.length)&&Object(_.jsx)("h3",{className:"text-3xl text-center my-12 mx-auto",children:"Your notifications will be displayed here."}),null===(s=p.data)||void 0===s?void 0:s.map((function(e,t,a){return Object(_.jsxs)(r.a.Fragment,{children:[0!==t&&Object(_.jsx)("div",{className:rs.a.divider}),(0===t||!Object(Yr.a)(a[t-1].createdAt,e.createdAt))&&Object(_.jsx)("div",{className:rs.a.date,children:Object(zr.a)(e.createdAt)?"Today":Object(Kr.a)(e.createdAt)?"Yesterday":Object(Ke.a)(e.createdAt,"PP")}),Object(_.jsxs)(l.b,{to:Object(u.f)(j.stream.path,{id:e.payload.id}),className:m()(rs.a.notification,!e.isRead&&rs.a.unread),onClick:f,"data-testid":je.notificationElement,children:[Object(_.jsx)(us,{type:e.type}),Object(_.jsx)(js,{notification:e}),Object(_.jsx)("div",{className:rs.a.time,children:Object(Ke.a)(new Date(e.createdAt),"HH:mm")})]})]},e.id)}))]})})]})}var ps,fs,hs,_s=a(48),Os=a.n(_s),vs=[j.streams],xs=function(){var e=Le().auth,t=!rr("(min-width: 1280px)"),a=function(){var e=Ea({account:Ra().data}).data;return e&&(e.inputs.length>0||e.outputs.length>0)}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("div",{className:Os.a.wrapper,children:Object(_.jsxs)(N,{className:Os.a.root,children:[Object(_.jsxs)("div",{className:Os.a.left,children:[Object(_.jsx)(l.b,{to:"/",className:Os.a.unshrinkable,children:Object(_.jsx)(y,{className:Os.a.logo})}),e.signedIn&&Object(_.jsx)(lr,{pageRoutes:a?[].concat(vs,[Ze.legacyStreams]):vs})]}),Object(_.jsxs)("div",{className:Os.a.right,children:[e.signedIn&&!t&&Object(_.jsx)(Or,{className:Os.a.marginRight}),e.signedIn&&Object(_.jsx)(qr,{}),e.signedIn&&!t&&Object(_.jsx)(bs,{}),!t&&Object(_.jsx)(Ue,{})]})]})}),e.signedIn&&t&&Object(_.jsx)("div",{className:Os.a.secondWrapper,children:Object(_.jsxs)(N,{className:Os.a.secondRoot,children:[Object(_.jsx)(Or,{className:Os.a.marginRight}),Object(_.jsxs)("div",{className:Os.a.right,children:[Object(_.jsx)(bs,{}),Object(_.jsx)(Ue,{})]})]})})]})},ys=a(260),ws=a.n(ys);function gs(){return Object(_.jsx)("div",{className:m()("py-4 px-6","absolute w-full pt-8","flex justify-center"),children:Object(_.jsx)(y,{className:ws.a.logo})})}function Ns(){return Object(u.i)(j.authorize.path)?Object(_.jsx)(gs,{}):Object(_.jsx)(xs,{})}function ks(e){var t=e.children,a=e.allowed,n=e.redirect,r=e.path,s=e.exact,c=void 0!==s&&s;return Object(_.jsx)(u.b,{exact:c,path:r,render:function(){return a?t:n}})}var Cs=["title","titleId"];function Ss(){return Ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ss.apply(this,arguments)}function Is(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function As(e,t){var a=e.title,r=e.titleId,s=Is(e,Cs);return n.createElement("svg",Ss({width:"auto",height:"auto",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,ps||(ps=n.createElement("path",{d:"M8.14141 20.601C7.50192 20.601 7.61064 20.3595 7.39007 19.7506L5.50977 13.5625L19.9838 4.97559",fill:"currentColor"})),fs||(fs=n.createElement("path",{d:"M8.14062 20.6012C8.63406 20.6012 8.85199 20.3755 9.12749 20.1078L11.7591 17.5488L8.47649 15.5693",fill:"#8E909C"})),hs||(hs=n.createElement("path",{d:"M8.47667 15.5697L16.4308 21.4463C17.3386 21.9471 17.9935 21.6877 18.2197 20.6037L21.4574 5.34624C21.7888 4.01726 20.9508 3.41429 20.0824 3.80854L1.07041 11.1395C-0.227316 11.66 -0.219585 12.3841 0.833894 12.7066L5.71279 14.2295L17.008 7.10352C17.5412 6.78015 18.0307 6.95384 17.629 7.31043",fill:"currentColor"})))}var Rs,Ls=n.forwardRef(As),Ts=(a.p,function(e){var t=e.className;return Object(_.jsx)("div",{className:t,children:Object(_.jsx)(Ls,{})})}),Es=["title","titleId"];function Ms(){return Ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ms.apply(this,arguments)}function Bs(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ps(e,t){var a=e.title,r=e.titleId,s=Bs(e,Es);return n.createElement("svg",Ms({width:"auto",height:"auto",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,Rs||(Rs=n.createElement("path",{d:"M7.57758 21.9092C16.5744 21.9092 21.4944 13.5154 21.4944 6.2365C21.4944 5.99809 21.4901 5.76075 21.4806 5.52449C22.4356 4.74696 23.2657 3.77667 23.9204 2.67212C23.044 3.11083 22.1009 3.40615 21.1115 3.53932C22.1214 2.85737 22.8966 1.77862 23.2624 0.492616C22.3174 1.12355 21.2708 1.58212 20.1565 1.8297C19.2639 0.759024 17.9932 0.0893555 16.5862 0.0893555C13.885 0.0893555 11.6946 2.55622 11.6946 5.59697C11.6946 6.02922 11.7376 6.44967 11.8215 6.85297C7.75628 6.62261 4.15156 4.4307 1.73908 1.09777C1.31902 1.91181 1.0768 2.8574 1.0768 3.86636C1.0768 5.77743 1.94032 7.46453 3.25344 8.4515C2.45096 8.42358 1.69712 8.1755 1.03824 7.76257C1.03752 7.78568 1.03752 7.80822 1.03752 7.83292C1.03752 10.5006 2.72352 12.7279 4.9616 13.2326C4.55059 13.3588 4.11816 13.4264 3.67184 13.4264C3.35715 13.4264 3.05056 13.3916 2.75256 13.3271C3.37526 15.5158 5.18096 17.1084 7.32176 17.1529C5.64768 18.6307 3.5388 19.5108 1.2468 19.5108C0.852482 19.5108 0.462934 19.4855 0.0800781 19.4345C2.2448 20.9971 4.8152 21.9089 7.57784 21.9089",fill:"currentColor"})))}var Fs,Ds=n.forwardRef(Ps),Hs=(a.p,function(e){var t=e.className;return Object(_.jsx)("div",{className:t,children:Object(_.jsx)(Ds,{})})}),Vs=["title","titleId"];function Ws(){return Ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Ws.apply(this,arguments)}function Us(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Zs(e,t){var a=e.title,r=e.titleId,s=Us(e,Vs);return n.createElement("svg",Ws({width:"auto",height:"auto",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,Fs||(Fs=n.createElement("path",{d:"M12.0001 0C5.3735 0 0 5.50144 0 12.2881C0 17.7173 3.43839 22.3234 8.2064 23.9482C8.80613 24.062 9.0263 23.6817 9.0263 23.3571C9.0263 23.0641 9.01518 22.0961 9.01001 21.0693C5.67157 21.8127 4.96712 19.6195 4.96712 19.6195C4.42125 18.1992 3.63473 17.8215 3.63473 17.8215C2.54596 17.0588 3.7168 17.0745 3.7168 17.0745C4.92181 17.1612 5.55632 18.3408 5.55632 18.3408C6.6266 20.2194 8.36359 19.6763 9.04836 19.3623C9.15607 18.5681 9.46706 18.026 9.81024 17.7191C7.14486 17.4084 4.34295 16.3548 4.34295 11.6463C4.34295 10.3047 4.81172 9.20855 5.57937 8.34801C5.45477 8.0385 5.04402 6.78869 5.69562 5.0961C5.69562 5.0961 6.70331 4.76584 8.9965 6.35568C9.95372 6.08341 10.9803 5.94687 12.0001 5.94219C13.0199 5.94687 14.0473 6.08341 15.0063 6.35568C17.2967 4.76584 18.303 5.0961 18.303 5.0961C18.9562 6.78869 18.5452 8.0385 18.4206 8.34801C19.1901 9.20855 19.6557 10.3047 19.6557 11.6463C19.6557 16.366 16.8484 17.4052 14.1762 17.7094C14.6067 18.0907 14.9902 18.8385 14.9902 19.985C14.9902 21.6291 14.9763 22.9524 14.9763 23.3571C14.9763 23.6841 15.1923 24.0673 15.8006 23.9466C20.566 22.32 24 17.7155 24 12.2881C24 5.50144 18.6273 0 12.0001 0ZM4.49443 17.5047C4.468 17.5657 4.3742 17.584 4.28876 17.5421C4.20172 17.502 4.15283 17.4188 4.18105 17.3575C4.20688 17.2947 4.30088 17.2772 4.38772 17.3193C4.47495 17.3594 4.52463 17.4434 4.49443 17.5047ZM5.0847 18.044C5.02747 18.0983 4.91559 18.0731 4.83968 17.9872C4.76119 17.9016 4.74648 17.787 4.80451 17.7318C4.86353 17.6775 4.97203 17.7029 5.05072 17.7886C5.12921 17.8753 5.14451 17.9891 5.0847 18.044ZM5.48965 18.734C5.41612 18.7863 5.2959 18.7373 5.22158 18.628C5.14805 18.5188 5.14805 18.3877 5.22317 18.3352C5.29769 18.2827 5.41612 18.3299 5.49144 18.4384C5.56476 18.5495 5.56476 18.6805 5.48965 18.734ZM6.1745 19.5332C6.10873 19.6075 5.96863 19.5876 5.86609 19.4862C5.76117 19.3871 5.73196 19.2465 5.79793 19.1722C5.8645 19.0978 6.00539 19.1187 6.10873 19.2193C6.21285 19.3181 6.24465 19.4598 6.1745 19.5332ZM7.05961 19.803C7.0306 19.8993 6.89567 19.943 6.75975 19.9021C6.62402 19.86 6.5352 19.7473 6.56262 19.65C6.59084 19.5531 6.72636 19.5076 6.86328 19.5513C6.9988 19.5932 7.08783 19.7052 7.05961 19.803ZM8.0669 19.9175C8.07028 20.0188 7.95502 20.1028 7.81235 20.1047C7.66887 20.1079 7.55282 20.0259 7.55123 19.9262C7.55123 19.8239 7.6639 19.7406 7.80738 19.7382C7.95006 19.7353 8.0669 19.8167 8.0669 19.9175ZM9.05645 19.8786C9.07354 19.9775 8.97438 20.0791 8.8327 20.1061C8.6934 20.1322 8.56443 20.0711 8.54674 19.973C8.52945 19.8717 8.6304 19.7702 8.7695 19.7439C8.91139 19.7187 9.03837 19.7781 9.05645 19.8786Z",fill:"currentColor"})))}var qs=n.forwardRef(Zs),Ys=(a.p,function(e){var t=e.className;return Object(_.jsx)("div",{className:t,children:Object(_.jsx)(qs,{})})}),zs=a.p+"static/media/Privacy_policy.d5afb133.pdf",Ks=a(54),Js=a.n(Ks),Xs=function(){return Object(_.jsx)("footer",{className:Js.a.root,children:Object(_.jsxs)(N,{className:Js.a.layout,children:[Object(_.jsxs)("section",{className:Js.a.section,children:[Object(_.jsx)(y,{className:Js.a.logo,type:f.CURRENT_COLOR}),Object(_.jsxs)("div",{className:Js.a.links,children:[Object(_.jsx)("a",{href:"https://www.roke.to/#page-top",target:"_blank",rel:"noreferrer",children:"About"}),Object(_.jsx)("a",{href:"https://www.roke.to/#how-work",target:"_blank",rel:"noreferrer",children:"Features"}),Object(_.jsx)("a",{href:"https://www.roke.to/#used-technologies",target:"_blank",rel:"noreferrer",children:"Docs"}),Object(_.jsx)("a",{href:"https://www.roke.to/#team",target:"_blank",rel:"noreferrer",children:"Team"}),Object(_.jsx)("a",{href:"https://www.roke.to/#blog",target:"_blank",rel:"noreferrer",children:"Blog"}),Object(_.jsx)("a",{href:"https://kikimora-labs.notion.site/Jobs-68acb030fcac42a18ae7c62a56779d5b",target:"_blank",rel:"noreferrer",children:"Jobs"})]})]}),Object(_.jsxs)("section",{className:Js.a.section,children:[Object(_.jsxs)("div",{className:Js.a.legal,children:[Object(_.jsx)("a",{href:zs,target:"_blank",rel:"noreferrer",children:"Privacy Policy"}),Object(_.jsx)("a",{href:"https://uploads-ssl.webflow.com/6136222580031d054842f5d6/617993de0d09ef005611beac_Cookie_Policy_of_Roketo.pdf",target:"_blank",rel:"noreferrer",children:"Cookie Policy"})]}),Object(_.jsxs)("div",{className:Js.a.socials,children:[Object(_.jsx)("a",{href:"https://twitter.com/roketostream",target:"_blank",rel:"noreferrer",children:Object(_.jsx)(Hs,{})}),Object(_.jsx)("a",{href:"https://t.me/roketochat",target:"_blank",rel:"noreferrer",children:Object(_.jsx)(Ts,{})}),Object(_.jsx)("a",{href:"https://github.com/roke-to",target:"_blank",rel:"noreferrer",children:Object(_.jsx)(Ys,{})})]})]}),Object(_.jsxs)("section",{className:Js.a.jurInfo,children:["ROKETO LABS LTD",Object(_.jsx)("br",{}),"Registered address: Intershore Chambers, Road Town, Tortola, British Virgin Islands",Object(_.jsx)("br",{}),"Registration number: 2089289",Object(_.jsx)("br",{}),"Build info: ",R.COMMIT_HASH," ",R.BUILD_TIME]})]})})},Gs=a(80),Qs=a.n(Gs),$s=function(e){var t=e.title,a=e.children,n=e.isOpen,r=void 0===n||n,s=e.onCloseModal;return Object(_.jsx)(o.a,{isOpen:r,onRequestClose:s,className:Qs.a.content,overlayClassName:Qs.a.overlay,bodyOpenClassName:Qs.a.bodyOverflowHidden,children:Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:Qs.a.close,onClick:s}),Object(_.jsx)("h2",{className:Qs.a.title,children:t}),Object(_.jsx)("div",{className:Qs.a.contentContainer,children:a})]})})},ec=a(61),tc=a(49),ac=a.n(tc);function nc(){var e,t=Le(),a=t.tokens,n=t.roketo,r=$r().data,s=(r||{}).inputs,c=(void 0===s?[]:s).filter(K),i={},o=[],l=[],u=Object(ec.a)(c);try{for(u.s();!(e=u.n()).done;){var d=e.value;if(G(d)){var m=d.token_account_id,j=Q(d);if("0"!==j.toFixed()&&l.push(d.id),i[m])i[m].available=i[m].available.plus(j);else{var b={available:j,tokenAccountId:m};o.push(b),i[m]=b}}}}catch(O){u.e(O)}finally{u.f()}var p=o.map((function(e){var t=a[e.tokenAccountId],n=t.formatter,r=t.meta.symbol,s=n.amount(e.available.toFixed());return{tokenAccountId:e.tokenAccountId,amount:s,symbol:r}})),f=r&&0!==p.length,h=r&&0===p.length;return Object(_.jsx)(Za,{placement:"bottom",align:{offset:[0,20]},overlay:Object(_.jsxs)("div",{className:ac.a.root,children:[Object(_.jsx)("p",{className:ac.a.description,children:"Move all received tokens to your wallet."}),Object(_.jsxs)("div",{className:ac.a.preparedTokensWrapper,"data-testid":je.withdrawTooltip,children:[!r&&Object(_.jsx)("p",{className:ac.a.description,"data-testid":je.withdrawLoadingCaption,children:"Loading..."}),f&&p.map((function(e){return Object(_.jsxs)("div",{className:ac.a.preparedToken,children:[Object(_.jsx)(Nt,{tokenAccountId:e.tokenAccountId}),Object(_.jsxs)("div",{className:ac.a.info,children:[Object(_.jsx)("span",{className:ac.a.amount,children:e.amount}),Object(_.jsx)("span",{className:ac.a.symbol,children:e.symbol})]})]},e.tokenAccountId)})),h&&Object(_.jsx)("p",{className:ac.a.description,children:"You have nothing to withdraw"})]})]}),children:Object(_.jsx)(De,{onClick:function(){l.length>0&&n.api.withdraw({streamIds:l})},testId:je.withdrawAllButton,displayMode:f?Ee.action:Ee.secondary,className:f?void 0:ac.a.notAllowed,children:"Withdraw tokens"})})}var rc,sc=a(151),cc=a.n(sc),ic=function(e){var t=e.directions,a=e.activeDirection,n=e.onDirectionClick,r=e.isInactive;return Object(_.jsx)("div",{className:cc.a.root,children:t.map((function(e){return Object(_.jsx)(De,{className:m()(cc.a.sort,Object(h.a)({},cc.a.active,e===a)),onClick:function(){return n(e)},disabled:r,children:e},e)}))})};function oc(e){var t=e.options,a=Object(n.useMemo)((function(){return Object.keys(t)}),[t]),r=Object(n.useState)(a[0]),s=Object(C.a)(r,2),c=s[0],i=s[1];return Object(n.useMemo)((function(){var e=t[c];return{option:c,selectOption:i,options:t,optionsArray:a,currentFilterFunction:e}}),[t,c,a])}var lc="All",uc="Incoming",dc="Outgoing",mc=(rc={ALL:"All"},Object(h.a)(rc,Z,"Initialized"),Object(h.a)(rc,q,"Active"),Object(h.a)(rc,Y,"Paused"),rc);function jc(e){var t=Le().auth,a=Object(n.useMemo)((function(){var e;return e={},Object(h.a)(e,mc.ALL,(function(){return!0})),Object(h.a)(e,mc[Z],(function(e){return e.status===Z})),Object(h.a)(e,mc[q],(function(e){return e.status===q})),Object(h.a)(e,mc[Y],(function(e){return e.status===Y})),e}),[]),r=Object(n.useMemo)((function(){var e;return e={},Object(h.a)(e,lc,(function(){return!0})),Object(h.a)(e,uc,(function(e){return t.accountId===e.receiver_id})),Object(h.a)(e,dc,(function(e){return t.accountId===e.owner_id})),e}),[t.accountId]),s=oc({options:a}),c=oc({options:r}),i=function(e){var t=e.items,a=e.filters,r=Object(n.useState)(void 0),s=Object(C.a)(r,2),c=s[0],i=s[1],o=Object(n.useState)([]),l=Object(C.a)(o,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){var e=t,n=[];a.forEach((function(t){var a={};Object.keys(t.options).forEach((function(n){var r;a[n]=null===(r=e)||void 0===r?void 0:r.filter(t.options[n])}));var r={};Object.keys(a).forEach((function(e){r[e]=(a[e]||[]).length})),n.push(r),e=a[t.option]})),d(n),i(e)}),[t,a]),{filterCounts:u,filteredItems:c}}({items:e,filters:Object(n.useMemo)((function(){return[c,s]}),[c,s])});return{statusFilter:s,directionFilter:c,result:i}}var bc=a(152),pc=a.n(bc);function fc(e,t,a){return Number(t[a])-Number(e[a])}var hc={bigBalanceFirst:{label:"With high amount",order:sn.desc,fn:function(e,t){return fc(e,t,"balance")}},highSpeedFirst:{label:"With high speed",order:sn.desc,fn:function(e,t){return fc(e,t,"tokens_per_sec")}},highSpeedLast:{label:"With low speed",order:sn.asc,fn:function(e,t){return-1*fc(e,t,"tokens_per_sec")}},mostRecent:{label:"Most recent",order:sn.desc,fn:function(e,t){return fc(e,t,"timestamp_created")}}};function _c(e){var t=e.items,a=e.onFilterDone,r=e.className,s=jc(t),c=s.result.filteredItems,i=Object(n.useState)(hc.mostRecent),o=Object(C.a)(i,2),l=o[0],u=o[1],d=Object.values(hc),j=!t||0===t.length;return Object(n.useEffect)((function(){if(c){var e=Object(Na.a)(c);e.sort(l.fn),a(e)}else a(c)}),[c,a,l.fn]),Object(_.jsxs)("div",{className:m()(pc.a.root,r),children:[Object(_.jsx)(ic,{directions:s.directionFilter.optionsArray,activeDirection:s.directionFilter.option,onDirectionClick:s.directionFilter.selectOption,isInactive:j}),Object(_.jsxs)("div",{className:pc.a.filtersWrapper,children:[Object(_.jsx)(fn,{options:s.statusFilter.optionsArray,label:"Status:",active:s.statusFilter.option,onChange:s.statusFilter.selectOption,isDisabled:j,renderOption:function(e){var t=s.result.filterCounts[1];return Object(_.jsx)(pn,{option:e,count:t?t[e]:""},e)}}),Object(_.jsx)(fn,{options:d,label:"Show first:",active:l,onChange:u,isDisabled:j,renderOption:function(e){return Object(_.jsx)("span",{children:e.label})},renderActive:function(e){return Object(_.jsxs)("div",{className:pc.a.sortWithOrder,children:[e.order&&Object(_.jsx)(ln,{type:e.order}),Object(_.jsx)("span",{children:e.label})]})}})]})]})}var Oc=a(56),vc=function(e){var t=e.width,a=void 0===t?20:t,n=e.height,r=void 0===n?20:n,s=e.className;return Object(_.jsx)("div",{className:s,children:Object(_.jsx)("svg",{width:a,height:r,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(_.jsx)("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z",fill:"#D80A1F"})})})},xc=["placeholder","description","isRequired","className","field","form","label"],yc=function(e){var t=e.placeholder,a=e.description,n=e.isRequired,r=e.className,s=e.field,c=e.form,i=e.label,o=Object(Me.a)(e,xc),l=c.errors[s.name];return Object(_.jsx)(Pr,{isRequired:n,className:r,description:a,label:i,error:l,children:Object(_.jsx)(Tr,Object(ce.a)(Object(ce.a)({required:n,hasError:Boolean(l),placeholder:t},s),o))})},wc=a(99),gc=a.n(wc),Nc=["description","className","hasError","disabled","value"],kc=function(e){var t=e.description,a=e.className,n=e.hasError,r=void 0!==n&&n,s=e.disabled,c=void 0!==s&&s,i=e.value,o=Object(Me.a)(e,Nc);return Object(_.jsxs)("label",{className:m()(gc.a.root,c&&gc.a.disabled,a),children:[Object(_.jsx)("input",Object(ce.a)(Object(ce.a)({type:"checkbox",className:m()(gc.a.checkbox,Object(h.a)({},gc.a.error,r)),disabled:c},o),{},{checked:!c&&Boolean(i)})),t&&Object(_.jsx)("div",{className:gc.a.description,children:t})]})},Cc=["description","isRequired","className","label","field","form"],Sc=function(e){var t=e.description,a=e.isRequired,n=e.className,r=e.label,s=e.field,c=e.form,i=Object(Me.a)(e,Cc),o=c.errors[s.name];return Object(_.jsx)(Pr,{isRequired:a,className:n,label:r,error:o,children:Object(_.jsx)(kc,Object(ce.a)(Object(ce.a)({description:t,required:a,hasError:Boolean(o)},s),i))})},Ic=a(193),Ac=a.n(Ic),Rc=["className","hasError"],Lc=function(e){var t=e.className,a=e.hasError,n=void 0!==a&&a,r=Object(Me.a)(e,Rc);return Object(_.jsx)("textarea",Object(ce.a)({className:m()(Ac.a.textarea,Object(h.a)({},Ac.a.error,n),t)},r))},Tc=a(194),Ec=a.n(Tc),Mc=["placeholder","description","isRequired","className","maxLength","field","label","form"],Bc=function(e){var t,a=e.placeholder,n=e.description,r=e.isRequired,s=e.className,c=e.maxLength,i=e.field,o=e.label,l=e.form,u=Object(Me.a)(e,Mc),d=l.errors[i.name];return Object(_.jsxs)(Pr,{isRequired:r,className:m()(Ec.a.formfield,s),description:n,label:o,error:d,children:[Object(_.jsx)(Lc,Object(ce.a)(Object(ce.a)({required:r,hasError:Boolean(d),placeholder:a,maxLength:c},i),u)),c&&Object(_.jsx)("span",{className:Ec.a.textLimitCounter,children:"".concat((null===i||void 0===i||null===(t=i.value)||void 0===t?void 0:t.length)||0,"/").concat(c)})]})};var Pc=/^[0-9]+$/,Fc=a(65),Dc=a.n(Fc),Hc=function(e){var t=e.className,a=e.value,n=e.onChange,r=e.label,s=e.testId;return Object(_.jsxs)("div",{className:m()(Dc.a.speedInput,t),children:[Object(_.jsx)(Tr,{placeholder:"0",value:a,onChange:n,className:Dc.a.input,"data-testid":s}),Object(_.jsx)("label",{className:Dc.a.label,children:r})]})},Vc=function(e){var t=e.form,a=e.field,r=e.label,s=e.deposit,c=e.className,i=e.isRequired,o=e.description,l=e.onSpeedChange,u=e.tokenAccountId,d=Le().tokens[u],j=d.formatter,b=t.errors[a.name],p=a.value,f=Object(n.useState)(0),h=Object(C.a)(f,2),O=h[0],v=h[1],x=Object(n.useState)(0),y=Object(C.a)(x,2),w=y[0],g=y[1],N=Object(n.useState)(0),k=Object(C.a)(N,2),S=k[0],I=k[1],A=Object(n.useState)(0),R=Object(C.a)(A,2),L=R[0],T=R[1],E=j.toYocto(s),M=function(e,t,a,n){return(Object(dt.a)(Object(mt.a)(new Date,e),new Date)+t)*oe+60*n+a*ie}(O,w,L,S),B=function(e,t){var a=new H.a(e).dividedToIntegerBy(t).toFixed();return"Infinity"!==a&&"NaN"!==a?a:"0"}(E,M),P=function(e){var t=Object(n.useRef)(e);return Object(n.useEffect)((function(){t.current=e}),[e]),t.current}(B);Object(n.useEffect)((function(){P!==B&&l(B)}),[B,l,P]);var F=function(e,t){return function(a){var n,r=a.target.value||"0";n=r,Pc.test(n)&&Number(r)<=t&&e(Number(r))}},D=bt(p,d),V=Object(_.jsxs)("div",{className:Dc.a.formLabel,children:[r,Object(_.jsx)("span",{className:m()(Dc.a.speed,Dc.a.label),children:"Streaming speed: ".concat(D)})]});return Object(_.jsx)(Pr,{isRequired:i,className:m()(Dc.a.formField,c),description:o,label:V,error:b,children:Object(_.jsxs)("div",{className:Dc.a.wrapper,children:[Object(_.jsx)(Hc,{value:O,onChange:F(v,12),label:"Months, max: 12",testId:je.createStreamMonthsInput}),Object(_.jsx)(Hc,{value:w,onChange:F(g,31),label:"Days, max: 31",testId:je.createStreamDaysInput}),Object(_.jsx)(Hc,{value:L,onChange:F(T,24),label:"Hours, max: 24",testId:je.createStreamHoursInput}),Object(_.jsx)(Hc,{value:S,onChange:F(I,60),label:"Minutes, max: 60",testId:je.createStreamMinutesInput})]})})},Wc=a(100),Uc=a.n(Wc),Zc=function(e){var t=e.token,a=e.onClick,n=e.className,r=m()(Uc.a.tokenOption,n),s=Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(Nt,{tokenAccountId:t.roketoMeta.account_id}),Object(_.jsx)("span",{children:"".concat(t.meta.name,", ").concat(t.meta.symbol)})]});return a?Object(_.jsx)("button",{type:"button",className:r,onClick:a,children:s}):Object(_.jsx)("div",{className:r,children:s})},qc=function(e){var t=e.form,a=e.label,r=e.field,s=e.className,c=e.isRequired,i=e.description,o=e.onTokenChoose,l=e.activeTokenAccountId,u=Le().tokens,d=Object(n.useState)(!1),m=Object(C.a)(d,2),j=m[0],b=m[1],p=Object.values(u),f=u[l],h=t.errors[r.name];return Object(_.jsx)(Pr,{isRequired:c,className:s,description:i,label:a,error:h,children:Object(_.jsxs)("div",{className:Uc.a.dropdownWrapper,children:[Object(_.jsx)(lt,{onChange:b,className:Uc.a.dropdownOpener,opened:j,children:Object(_.jsx)(Zc,{token:f})}),Object(_.jsx)(Dt,{opened:j,onClose:function(){return b(!1)},className:Uc.a.dropdownMenu,children:p.map((function(e){return Object(_.jsx)(Zc,{token:e,onClick:function(){return function(e){b(!1),o(e.roketoMeta.account_id)}(e)},className:Uc.a.withHover},e.meta.name)}))})]})})},Yc=a(263),zc=a.n(Yc),Kc=a(264),Jc=a.n(Kc),Xc=function(e){var t=e.form,a=e.label,n=e.field,r=e.className,s=e.onCliffDateTimeChange,c=t.errors[n.name];return Object(_.jsx)(Pr,{className:r,label:a,error:c,children:Object(_.jsx)(zc.a,{className:Jc.a.maxWidth,amPmAriaLabel:"Select AM/PM",calendarAriaLabel:"Toggle calendar",clearAriaLabel:"Clear value",dayAriaLabel:"Day",hourAriaLabel:"Hour",maxDetail:"second",minuteAriaLabel:"Minute",monthAriaLabel:"Month",nativeInputAriaLabel:"Date and time",onChange:s,secondAriaLabel:"Second",value:t.values[n.name],yearAriaLabel:"Year"})})},Gc=function(e){var t=e.tokenAccountId,a=e.className,n=Le().tokens[t],r=n.meta,s=n.formatter,c=n.roketoMeta;return r&&Object(_.jsx)("div",{className:a,children:"You will be charged \n        ".concat(s.amount(c.commission_on_create)," \n        ").concat(r.symbol," fee for the stream")})},Qc=a(36),$c=a.n(Qc),ei=function(e){var t=e.children,a=e.className;return Object(_.jsx)("div",{className:m()($c.a.row,a),children:t})},ti=function(e){var t=e.error;return Object(_.jsxs)("div",{className:$c.a.submitError,children:[Object(_.jsx)(vc,{}),Object(_.jsx)("span",{children:t})]})},ai=Object(_.jsxs)("div",{children:["Delayed start",Object(_.jsxs)("div",{className:$c.a.subDescription,children:["Select this if you want the stream not to start immediately,",Object(_.jsx)("br",{}),"you'll need to start it manually from stream page",Object(_.jsx)("br",{}),"(streams with cliff cannot be delayed)"]})]}),ni=Object(_.jsxs)("div",{children:["Uneditable stream",Object(_.jsxs)("div",{className:$c.a.subDescription,children:["If you select this field, you will not be able",Object(_.jsx)("br",{}),"to carry out any actions on the stream"]})]}),ri=function(e){var t=e.onFormCancel,a=e.onFormSubmit,r=Le(),s=r.near,c=r.auth,i=Object(n.useState)(null),o=Object(C.a)(i,2),l=o[0],u=o[1],d=function(e,t){return ut.d().shape({receiver:ut.e().required("Receiver is required").test("receiver-not-equal-owner","Receiver can not be the same as the owner",(function(e){return e!==t})).test("receiver-is-valida-address","Address does not exists",function(){var t=Object(k.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=Boolean,t.t1=a,!t.t1){t.next=7;break}return t.next=6,e.connection.provider.query({request_type:"view_account",finality:"final",account_id:a});case 6:t.t1=t.sent;case 7:return t.t2=t.t1,t.abrupt("return",(0,t.t0)(t.t2));case 11:return t.prev=11,t.t3=t.catch(0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),streamName:ut.e().max(100,"Stream name must be less or equal 100 symbols"),token:ut.e().required(),deposit:ut.c().required("Deposit is required").moreThan(0,"Deposit should be more than 0"),speed:ut.c().required("Stream duration is required").moreThan(0,"Choose stream duration"),autoStart:ut.a(),isLocked:ut.a(),comment:ut.e().max(80),cliffDateTime:ut.b().nullable().test("futureDate","Date cannot be in the past",(function(e){return!e||e>new Date}))})}(s,c.accountId);return Object(_.jsxs)("div",{className:$c.a.root,children:[Object(_.jsx)("h2",{className:$c.a.title,children:"Create Stream"}),Object(_.jsx)(Oc.b,{initialValues:jt,onSubmit:function(e){a(e).catch((function(e){return u(e)}))},validateOnBlur:!0,validationSchema:d,validateOnChange:!1,validateOnMount:!1,children:function(e){var a=e.values,n=e.handleSubmit,r=e.setFieldValue,s=e.setFieldTouched,c=e.validateField,i=a.token;return Object(_.jsxs)("form",{onSubmit:n,className:$c.a.form,children:[Object(_.jsxs)(ei,{children:[Object(_.jsx)(Oc.a,{isRequired:!0,name:"receiver",label:"Receiver:",component:yc,placeholder:"receiver.".concat(R.ACCOUNT_SUFFIX),className:$c.a.rowItem,"data-testid":je.createStreamReceiverInput}),Object(_.jsx)(Oc.a,{isRequired:!0,name:"token",label:"Token",activeTokenAccountId:a.token,onTokenChoose:function(){var e=Object(k.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("token",t,!1);case 2:return e.next=4,s("token",!0,!1);case 4:c("token");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),component:qc,className:$c.a.rowItem})]}),Object(_.jsxs)(ei,{className:$c.a.amount,children:[Object(_.jsx)(Oc.a,{isRequired:!0,name:"deposit",label:"Amount to stream:",component:yc,placeholder:"Amount to stream",className:$c.a.rowItem,description:Object(_.jsx)(br,{tokenAccountId:i,mode:sr.CRYPTO}),"data-testid":je.createStreamAmountInput}),Object(_.jsx)(Oc.a,{name:"cliffDateTime",label:"Cliff period",component:Xc,onCliffDateTimeChange:function(){var e=Object(k.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("cliffDateTime",t,!1);case 2:return e.next=4,s("cliffDateTime",!0,!1);case 4:c("cliffDateTime");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:$c.a.rowItem})]}),Object(_.jsx)(ei,{children:Object(_.jsx)(Oc.a,{tokenAccountId:i,isRequired:!0,name:"speed",label:"Stream duration:",deposit:a.deposit,component:Vc,onSpeedChange:function(){var e=Object(k.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r("speed",t,!1);case 2:return e.next=4,s("speed",!0,!1);case 4:c("speed");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),className:$c.a.rowItem})}),Object(_.jsx)(ei,{children:Object(_.jsx)(Oc.a,{maxLength:80,name:"comment",label:"Comment:",placeholder:"Enter comment",component:Bc,className:$c.a.rowItem,"data-testid":je.createStreamCommentInput})}),Object(_.jsxs)(ei,{className:$c.a.checkboxes,children:[Object(_.jsx)(Oc.a,{name:"delayed",disabled:Boolean(a.cliffDateTime),description:ai,type:"checkbox",component:Sc,"data-testid":je.createStreamDelayedCheckbox}),Object(_.jsx)(Oc.a,{name:"isLocked",description:ni,type:"checkbox",component:Sc,"data-testid":je.createStreamLockedCheckbox})]}),Object(_.jsx)(ei,{children:Object(_.jsx)(Gc,{tokenAccountId:i,className:$c.a.feeDisclaimer})}),Object(_.jsxs)("div",{className:$c.a.actionButtonsWrapper,children:[l&&Object(_.jsx)(ti,{error:l.message}),Object(_.jsx)(De,{displayMode:Ee.simple,onClick:t,testId:je.createStreamCancelButton,children:"Cancel"}),Object(_.jsx)(De,{type:Te.submit,displayMode:Ee.action,testId:je.createStreamSubmitButton,children:"Create"})]})]})}})]})},si=a(153),ci=a.n(si),ii=function(e){var t=e.title,a=e.total,n=e.streamed,r=void 0===n?0:n,s=e.withdrawn,c=void 0===s?0:s,i=e.withProgressBar,o=void 0===i||i,l=e.testId,u=r?"$ ".concat(r," of ").concat(a):"$ ".concat(a);return Object(_.jsxs)("div",{className:ci.a.card,children:[Object(_.jsx)("h3",{className:ci.a.title,children:t}),Object(_.jsx)("span",{className:ci.a.finance,"data-testid":l,children:u}),o&&Object(_.jsx)(Ot,{total:String(a),streamed:String(r),withdrawn:String(c)})]})},oi=new H.a(0),li=function(e,t,a){var n={total:oi,streamed:oi,withdrawn:oi},r=e.reduce((function(e,n){var r=n.token_account_id,s=t[r].formatter,c=as(n).progress,i=s.toHumanReadableValue(c.streamed,3),o=a.getPriceInUsd(r,i),l=s.toHumanReadableValue(c.full,3),u=a.getPriceInUsd(r,l),d=s.toHumanReadableValue(c.withdrawn,3),m=a.getPriceInUsd(r,d);return{total:e.total.plus(u),streamed:e.streamed.plus(o),withdrawn:e.withdrawn.plus(m)}}),n);return{total:Number(r.total.toFixed(0)),streamed:Number(r.streamed.toFixed(0)),withdrawn:Number(r.withdrawn.toFixed(0))}},ui=a(265),di=a.n(ui),mi=function(e){var t=e.className,a=Le(),n=a.tokens,r=a.priceOracle,s=$r().data||{},c=s.inputs,i=void 0===c?[]:c,o=s.outputs,l=void 0===o?[]:o,u=i.filter(K),d=l.filter(K),j=li(d,n,r),b=li(u,n,r),p=function(e,t,a){var n=e.reduce((function(e,n){var r=n.token_account_id,s=t[r].formatter,c=Q(n).toFixed(),i=s.toHumanReadableValue(c,3),o=a.getPriceInUsd(r,i);return e.plus(o)}),oi);return Number(n.toFixed(0))}(u,n,r);return Object(_.jsxs)("section",{className:m()(di.a.root,t),children:[Object(_.jsx)(ii,{title:"Sending",total:j.total,streamed:j.streamed,withdrawn:j.withdrawn}),Object(_.jsx)(ii,{title:"Receiving",total:b.total,streamed:b.streamed,withdrawn:b.withdrawn}),Object(_.jsx)(ii,{title:"Available for withdrawal",total:p,withProgressBar:!1,testId:je.availableForWithdrawalCaption})]})},ji=a(154),bi=a.n(ji);function pi(e){var t=e.isOrange,a=e.children,n=e.className;return Object(_.jsx)("span",{className:m()(bi.a.badge,t?bi.a.orange:bi.a.blue,n),children:a})}var fi,hi=a(196),_i=a.n(hi),Oi=function(e){var t=e.name,a=e.isOutgoing,n=e.isLocked;return Object(_.jsxs)("div",{className:_i.a.flexCenter,children:[Object(_.jsx)("span",{className:_i.a.name,children:t}),a&&Object(_.jsx)(pi,{children:"Sending"}),n&&Object(_.jsx)(pi,{isOrange:!0,children:"Locked"})]})},vi=a(27),xi=a.n(vi),yi={points:["tl","bc"],offset:[-24,10]},wi=function(e){var t=e.stream,a=e.className,n=t.token_account_id,r=t.tokens_per_sec,s=as(t),c=s.progress,i=s.timeLeft,o=s.percentages,l=jr(n),u=l.formatter,d=l.meta.symbol,j=Number(u.toHumanReadableValue(c.streamed,3)),b=Number(u.toHumanReadableValue(c.withdrawn,3)),p=Number(u.toHumanReadableValue(c.full,3)),f=be.formatSmartly(j),h=be.formatSmartly(b),O=ft(c.streamed,c.full,1),v=ft(c.withdrawn,c.streamed,1),x="".concat(f," of ").concat(p),y=u.tokensPerMeaningfulPeriod(r),w=y.formattedValue,g=y.unit;return Object(_.jsx)(Va.a,{overlayClassName:xi.a.overlay,destroyTooltipOnHide:!0,align:yi,placement:"bottom",overlay:Object(_.jsxs)("div",{className:m()(xi.a.tooltip,xi.a.text),children:[Object(_.jsxs)("div",{className:xi.a.innerStatus,children:[Object(_.jsx)("span",{children:x})," ",Object(_.jsx)("span",{className:m()(xi.a.grey,xi.a.smaller),children:d})]}),Object(_.jsx)(Ot,{total:c.full,streamed:c.streamed,withdrawn:c.withdrawn,cliffPercent:o.cliff}),Object(_.jsxs)("div",{className:m()(xi.a.status,xi.a.speed),children:[w," ",Object(_.jsxs)("span",{className:m()(xi.a.grey,xi.a.smaller),children:[d," / ",g]})]}),i&&Object(_.jsxs)("div",{className:xi.a.remained,children:[Object(_.jsx)(Fn,{className:xi.a.clock}),i]}),Object(_.jsxs)("div",{className:m()(xi.a.progress,xi.a.streamed),children:["Streamed: ",f," ",Object(_.jsx)("span",{className:m()(xi.a.grey,xi.a.smaller),children:"".concat(O,"%")})]}),Object(_.jsxs)("div",{className:m()(xi.a.progress,xi.a.withdrawn),children:["Withdrawn: ",h," ",Object(_.jsx)("span",{className:m()(xi.a.grey,xi.a.smaller),children:"".concat(v,"%")})]})]}),children:Object(_.jsxs)("div",{className:m()(xi.a.root,xi.a.text,a),children:[Object(_.jsxs)("div",{className:xi.a.status,children:[Object(_.jsx)("span",{"data-testid":je.streamProgressCaption,children:x})," ",Object(_.jsx)("span",{className:xi.a.grey,children:d})]}),Object(_.jsx)(Ot,{total:c.full,streamed:c.streamed,withdrawn:c.withdrawn,cliffPercent:o.cliff})]})})},gi=a(155),Ni=a.n(gi),ki=["stream","small"];function Ci(e){var t,a=e.stream,n=e.small,r=void 0!==n&&n,s=Object(Me.a)(e,ki),c=Le(),i=c.tokens,o=c.roketo,l=Q(a),u=as(a).percentages,d=u.cliff,j=u.streamed,b=i[a.token_account_id].formatter.amount(l.toFixed()),p=!d||j>d,f=Object(_.jsx)(De,Object(ce.a)(Object(ce.a)({disabled:0===Number(b),type:Te.button,displayMode:p?Ee.primary:Ee.secondary,className:m()((t={},Object(h.a)(t,Ni.a.notAllowed,!p),Object(h.a)(t,Ni.a.small,r),t)),onClick:p?function(e){e.preventDefault(),o.api.withdraw({streamIds:[a.id]})}:void 0,testId:je.withdrawButton},s),{},{children:"Withdraw"}));return p?f:Object(_.jsx)(Za,{placement:"bottom",align:{offset:[0,20]},overlay:Object(_.jsx)("div",{className:Ni.a.hasntPassedCliff,children:"Cliff period isn't passed yet."}),children:f})}function Si(e){var t=r.a.useState(e),a=Object(C.a)(t,2),n=a[0],s=a[1];return{on:n,off:!n,toggle:function(){return s(!n)},turnOff:function(){return s(!1)},turnOn:function(){return s(!0)},setOn:s}}var Ii=(fi={},Object(h.a)(fi,Z,{label:"Initialized"}),Object(h.a)(fi,q,{label:"Active"}),Object(h.a)(fi,Y,{label:"Paused"}),Object(h.a)(fi,z,{label:"Finished"}),fi);function Ai(e){var t=e.stream,a=e.className,n="string"===typeof t.status?Ii[t.status]:Ii[z];return Object(_.jsx)("div",{className:m()(a),children:n.label})}var Ri=a(21),Li=a.n(Ri);function Ti(){return Object(_.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object(_.jsx)("path",{d:"M1.66634 2.76016L5.17968 5.00016L1.66634 7.24016V2.76016ZM0.333008 0.333496V9.66683L7.66634 5.00016L0.333008 0.333496Z",fill:"currentColor"})})}function Ei(){return Object(_.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object(_.jsx)("path",{d:"M0 9.66659H2.66667V0.333252H0V9.66659ZM5.33333 0.333252V9.66659H8V0.333252H5.33333Z",fill:"currentColor"})})}function Mi(){return Object(_.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:Object(_.jsx)("path",{d:"M6.66667 1.33333V6.66667H1.33333V1.33333H6.66667ZM8 0H0V8H8V0Z",fill:"currentColor"})})}function Bi(e){var t=e.modalControl,a=e.onConfirm;return Object(_.jsxs)(o.a,{isOpen:t.on,onRequestClose:t.turnOff,className:Li.a.modalContent,overlayClassName:Li.a.modalOverlay,children:[Object(_.jsx)("h2",{className:Li.a.modalHeader,children:"Are you sure?"}),Object(_.jsx)("p",{children:"As a stream receiver, you will not be able to resume stream. Only stream owners can resume streams."}),Object(_.jsxs)("div",{className:Li.a.modalButtons,children:[Object(_.jsx)("button",{type:"button",onClick:t.turnOff,className:m()(Li.a.modalButton,Li.a.modalSecondary),children:"Cancel"}),Object(_.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:m()(Li.a.modalButton,Li.a.modalWarning),children:"Pause"})]})]})}function Pi(e){var t=e.modalControl,a=e.onConfirm;return Object(_.jsxs)(o.a,{isOpen:t.on,onRequestClose:t.turnOff,className:Li.a.modalContent,overlayClassName:Li.a.modalOverlay,children:[Object(_.jsx)("h2",{className:Li.a.modalHeader,children:"Stop stream"}),Object(_.jsx)("p",{children:"This action will completely shut down the stream. After that, it can't be turned on."}),Object(_.jsxs)("div",{className:Li.a.modalButtons,children:[Object(_.jsx)("button",{type:"button",onClick:t.turnOff,className:m()(Li.a.modalButton,Li.a.modalSecondary),children:"Cancel"}),Object(_.jsx)("button",{type:"button",onClick:function(){t.turnOff(),a()},className:m()(Li.a.modalButton,Li.a.modalDanger),children:"Stop"})]})]})}function Fi(e){var t,a=e.stream,r=e.className,s=Le(),c=s.auth,i=s.roketo,o=Si(!1),l=Si(!1),u=Object(n.useState)(!1),d=Object(C.a)(u,2),j=d[0],b=d[1],p=Object(n.useState)(!1),f=Object(C.a)(p,2),O=f[0],v=f[1],x=c.accountId===a.owner_id,y=c.accountId===a.receiver_id,w=!x&&!y,g=function(){var e=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,i.api.pauseStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,i.api.startStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,i.api.stopStream({streamId:a.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(X(a)||w)return Object(_.jsx)(Ai,{className:r,stream:a});var A=O&&!j,R=a.status!==q&&x,L=a.status===q&&!function(e){return Boolean(null===e||void 0===e?void 0:e.cliff)}(a),T=(t={},Object(h.a)(t,Li.a.active,K(a)),Object(h.a)(t,Li.a.pause,function(e){return e.status===Y}(a)),Object(h.a)(t,Li.a.stop,X(a)),t);return function(e){var t=e.is_locked,a=e.status;return t&&a!==Z}(a)?Object(_.jsx)("div",{className:m()(Li.a.relative,r),children:Object(_.jsx)("button",{type:"button",className:m()(Li.a.dropdownOpener,Li.a.notAllowed),children:Object(_.jsx)(Ai,{stream:a})})}):Object(_.jsxs)("div",{className:m()(Li.a.relative,r),children:[Object(_.jsx)(Bi,{modalControl:o,onConfirm:g}),Object(_.jsx)(Pi,{modalControl:l,onConfirm:S}),Object(_.jsx)(lt,{opened:A,onChange:v,className:m()(Li.a.dropdownOpener,T),testId:je.streamControlsDropdown,children:j?"Loading...":Object(_.jsx)(Ai,{stream:a,className:Li.a.statusPadded})}),Object(_.jsxs)(Dt,{onClose:function(){return v(!1)},opened:A,className:Li.a.controlsMenu,children:[R&&Object(_.jsx)(Ht,{children:Object(_.jsxs)("button",{type:"button",onClick:N,className:m()(Li.a.controlButton,Li.a.start),"data-testid":je.streamStartButton,children:[Object(_.jsx)(Ti,{}),Object(_.jsx)("span",{children:"Start"})," "]})}),L&&Object(_.jsx)(Ht,{children:Object(_.jsxs)("button",{type:"button",onClick:function(){v(!1),y?o.turnOn():g()},className:m()(Li.a.controlButton,Li.a.pause),"data-testid":je.streamPauseButton,children:[Object(_.jsx)(Ei,{}),Object(_.jsx)("span",{children:"Pause"})]})}),(R||L)&&Object(_.jsx)(Vt,{}),Object(_.jsx)(Ht,{children:Object(_.jsxs)("button",{type:"button",onClick:function(){v(!1),l.turnOn()},className:m()(Li.a.controlButton,Li.a.stop),"data-testid":je.streamStopButton,children:[Object(_.jsx)(Mi,{}),Object(_.jsx)("span",{children:"Stop"})]})})]})]})}var Di=a(197),Hi=a.n(Di),Vi=function(e){var t=e.onCLick;return Object(_.jsx)("button",{className:Hi.a.linkButton,type:"button",onClick:t,children:Object(_.jsx)(Xe,{})})},Wi=function(e){var t=e.className,a=e.stream,r=a.id,s=Object(n.useCallback)((function(e){e.preventDefault();var t=b(r);ze()(t)}),[r]),c=Gr(a)===Jr&&K(a);return Object(_.jsxs)("div",{className:m()(Hi.a.root,t),children:[c&&Object(_.jsx)(Ci,{stream:a,small:!0}),Object(_.jsx)(Fi,{stream:a}),Object(_.jsx)(Vi,{onCLick:s})]})},Ui=a(101),Zi=a.n(Ui),qi=function(e){var t=e.stream,a=e.className,n=t.id,r=t.description,s="";try{s=JSON.parse(r).comment}catch(d){s=r}var c=Gr(t)===Jr,i=c?t.owner_id:t.receiver_id,o=Object(u.f)(j.stream.path,{id:n});return Object(_.jsxs)("div",{className:m()(Zi.a.root,a),children:[Object(_.jsx)(l.b,{to:o,className:Zi.a.name,children:Object(_.jsx)(Oi,{name:i,isOutgoing:!c,isLocked:t.is_locked})}),Object(_.jsx)(wi,{stream:t,className:Zi.a.withMarginRight}),Object(_.jsx)(l.b,{to:o,className:"col-span-2 grow-0",children:Object(_.jsx)("p",{className:Zi.a.comment,children:s})}),Object(_.jsx)(Wi,{stream:t,className:m()(Zi.a.controls,"col-span-2 grow-0")})]})},Yi=a(55),zi=a.n(Yi),Ki=function(e){var t=e.children;return Object(_.jsx)("div",{className:zi.a.emptyState,children:t})},Ji=function(e){var t,a=e.className,n=e.displayingStreams,r=e.onCreateStreamClick,s=$r().data,c=s||{},i=c.inputs,o=void 0===i?[]:i,l=c.outputs,u=void 0===l?[]:l,d=[].concat(Object(Na.a)(o),Object(Na.a)(u)).length,j=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;return s?s&&0===d?Object(_.jsxs)(Ki,{children:[Object(_.jsx)("div",{children:"You don't have any streams yet."}),Object(_.jsx)(De,{onClick:r,children:"Create First Stream"})]}):s&&0!==d&&0===j?Object(_.jsx)(Ki,{children:Object(_.jsx)("div",{children:"No streams matching your filters. Try selecting different ones"})}):Object(_.jsx)("div",{className:m()(zi.a.container,a),children:Object(_.jsxs)("section",{className:zi.a.flexColumn,children:[Object(_.jsxs)("div",{className:m()(zi.a.withPaddings,"grid grid-cols-6 gap-x-10"),children:[Object(_.jsx)("h3",{className:zi.a.title,children:"Wallet address"}),Object(_.jsx)("h3",{className:zi.a.title,children:"Amount to stream"}),Object(_.jsx)("h3",{className:zi.a.title,children:"Comment"})]}),null===n||void 0===n?void 0:n.map((function(e){return Object(_.jsx)(qi,{stream:e,className:m()(zi.a.withPaddings,"grid grid-cols-6 gap-x-10")},e.id)}))]})}):Object(_.jsx)(Ki,{children:Object(_.jsx)(En,{wrapperClassName:zi.a.loader})})},Xi=a(66),Gi=a.n(Xi),Qi=Object(u.f)(j.streams.path),$i="".concat(window.location.origin,"/#").concat(Qi),eo=function(){var e=Le(),t=e.roketo,a=e.tokens,r=$r().data||{},s=r.inputs,c=r.outputs,i=Object(n.useMemo)((function(){return(s||c)&&[].concat(Object(Na.a)(s||[]),Object(Na.a)(c||[]))}),[s,c]),o=Object(n.useState)([]),l=Object(C.a)(o,2),u=l[0],d=l[1],j=Object(n.useState)(!1),b=Object(C.a)(j,2),p=b[0],f=b[1],h=Object(n.useCallback)((function(){return f(!p)}),[f,p]),O=function(){var e=Object(k.a)(I.a.mark((function e(n){var r,s,c,i,o,l,u,d,m,j,b,p;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.receiver,s=n.delayed,c=n.comment,i=n.deposit,o=n.speed,l=n.token,u=n.isLocked,d=n.cliffDateTime,m=a[l],j=m.formatter,b=m.api,p=m.roketoMeta,e.next=4,t.api.createStream({deposit:j.toYocto(i),comment:c,receiverId:r,tokenAccountId:l,commissionOnCreate:p.commission_on_create,tokensPerSec:o,delayed:!d&&s,callbackUrl:$i,handleTransferStream:b.transfer,isLocked:u,cliffPeriodSec:d?Math.floor((d.getTime()-Date.now())/1e3):void 0});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{className:Gi.a.root,children:Object(_.jsxs)(N,{children:[Object(_.jsxs)("section",{className:m()(Gi.a.flex,Gi.a.header),children:[Object(_.jsx)("h1",{className:Gi.a.title,children:"Streams"}),Object(_.jsxs)("div",{className:m()(Gi.a.flex,Gi.a.buttonsWrapper),children:[Object(_.jsx)(nc,{}),Object(_.jsx)(De,{onClick:h,testId:je.createStreamButton,children:"Create a stream"}),Object(_.jsx)($s,{isOpen:p,onCloseModal:h,children:Object(_.jsx)(ri,{onFormCancel:h,onFormSubmit:O})})]})]}),Object(_.jsx)(mi,{}),Object(_.jsx)(_c,{items:i,onFilterDone:d,className:Gi.a.streamFilters}),Object(_.jsx)(Ji,{displayingStreams:u,className:Gi.a.section,onCreateStreamClick:h})]})})},to=a(156),ao=a.n(to);function no(){return Object(_.jsx)("div",{className:"flex h-screen mx-3",children:Object(_.jsx)("div",{className:m()("lg:m-auto mx-auto my-auto lg:w-2/5 bg-gray-90 rounded-3xl p-5",ao.a.block),children:Object(_.jsxs)("div",{className:m()("my-24",ao.a.content),children:[Object(_.jsxs)("h1",{className:"text-3xl mb-4 font-semibold",children:[" ","Login via NEAR Network"," "]}),Object(_.jsx)("p",{className:m()("mb-4",ao.a.hint),children:"Click button below to login or create new account"}),Object(_.jsx)(Ue,{})]})})})}var ro=a(11),so=a.n(ro);function co(e){var t=e.className;return Object(_.jsx)("svg",{className:t,width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",children:Object(_.jsx)("path",{d:"M0.895051 11.6285C0.745051 11.6285 0.603384 11.5702 0.495051 11.4535C0.295051 11.2285 0.311718 10.8869 0.528384 10.6869L5.836 5.90328L0.495028 1.27828C0.270028 1.07828 0.261695 0.736613 0.461695 0.511613C0.661695 0.294947 1.00336 0.27828 1.22836 0.47828L6.97766 5.46995C7.23599 5.70328 7.23599 6.10328 6.97766 6.33662L1.26172 11.4869C1.15338 11.5869 1.02838 11.6285 0.895051 11.6285Z",fill:"currentColor"})})}function io(e){var t=e.stream,a=Le().tokens[t.token_account_id],n=a.meta,r=a.formatter,s=as(t),c=s.progress,i=c.streamed,o=c.withdrawn,l=c.full,u=s.percentages;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:so.a.numericProgress,children:[Object(_.jsx)(Nt,{tokenAccountId:t.token_account_id,className:so.a.tokenIcon}),Object(_.jsx)("span",{children:"".concat(n.symbol," ").concat(r.amount(i)," of ").concat(r.amount(l))})]}),Object(_.jsx)(Ot,{total:l,streamed:i,withdrawn:o,cliffPercent:u.cliff,withBigCliffMark:!0})]})}function oo(e){var t=e.stream,a=as(t).isDead,n=Gr(t);return a?null:Object(_.jsxs)("div",{className:so.a.buttons,children:[Object(_.jsx)(Fi,{stream:t}),n===Jr&&t.status===q&&Object(_.jsx)(Ci,{stream:t})]})}function lo(e){var t=e.stream,a=Le().tokens;return Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:so.a.blockTitle,children:"Speed"}),Object(_.jsx)("div",{className:so.a.speed,children:bt(Number(t.tokens_per_sec),a[t.token_account_id])})]})}function uo(e){var t=e.stream,a="";try{a=JSON.parse(t.description).comment}catch(n){a=t.description}return""===a?null:Object(_.jsxs)("div",{children:[Object(_.jsx)("span",{className:so.a.blockTitle,children:"Comment"}),Object(_.jsx)("div",{className:so.a.commentBody,children:a})]})}function mo(e){var t=e.stringToCopy;return Object(_.jsx)("button",{type:"button",className:so.a.copyButton,onClick:function(){return ze()(t)},children:Object(_.jsx)(Xe,{className:so.a.linkIcon})})}function jo(e){var t=b(e.stream.id);return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:m()(so.a.blockTitle,so.a.copyTitle),children:["Public link to view the stream",Object(_.jsx)(mo,{stringToCopy:t})]}),Object(_.jsx)("div",{className:so.a.link,children:t})]})}function bo(e){var t=e.title,a=e.children;return Object(_.jsxs)("div",{className:so.a.infoRow,children:[Object(_.jsx)("span",{className:so.a.infoTitle,children:t}),a]})}function po(e){var t=e.stream,a=Gr(t),r=Le().tokens,s=as(t),c=s.streamEndTimestamp,i=s.cliffEndTimestamp,o=s.timeLeft,l=s.progress,u=l.streamed,d=l.left,j=l.full,b=ft(u,j).toNumber(),p=ft(d,j).toNumber(),f=Q(t).toNumber(),h=r[t.token_account_id],O=h.meta,v=h.formatter,x=Object(n.useState)(!1),y=Object(C.a)(x,2),w=y[0],g=y[1];return Object(_.jsxs)("div",{className:m()(so.a.tile,so.a.infoTile),children:[Object(_.jsx)("div",{className:so.a.blockHeader,children:"Stream info"}),Object(_.jsx)(bo,{title:"Sender",children:Object(_.jsx)("span",{className:m()(so.a.font16,so.a.name),children:a===Xr?"You":t.owner_id})}),Object(_.jsx)(bo,{title:"Receiver",children:Object(_.jsx)("span",{className:m()(so.a.font16,so.a.name),children:a===Jr?"You":t.receiver_id})}),Object(_.jsx)(bo,{title:"Amount",children:Object(_.jsxs)("span",{className:so.a.font14,children:[v.amount(j),"\xa0",Object(_.jsx)("span",{className:so.a.font12,children:O.symbol})]})}),Object(_.jsx)(bo,{title:"Stream Created",children:Object(_.jsx)("span",{className:so.a.font14,children:Object(Ke.a)(new Date(Number(t.timestamp_created)/1e6),"PP 'at' p")})}),i&&Object(_.jsx)(bo,{title:Object(Je.a)(i)?"Cliff Period Ended":"Cliff Period Ends",children:Object(_.jsx)("span",{className:so.a.font14,children:Object(Ke.a)(i,"PP 'at' p")})}),c&&Object(_.jsx)(bo,{title:Object(Je.a)(c)?"Stream Ended":"Stream Ends",children:Object(_.jsx)("span",{className:so.a.font14,children:Object(Ke.a)(c,"PP 'at' p")})}),Object(_.jsx)(bo,{title:"Token",children:Object(_.jsxs)("span",{className:so.a.font14,children:[O.name,",\xa0",Object(_.jsx)("span",{className:so.a.font12,children:O.symbol})]})}),Object(_.jsx)("div",{className:so.a.divider}),Object(_.jsx)(lt,{className:so.a.dropdownOpener,opened:w,onChange:function(e){g(e)},children:Object(_.jsx)("h3",{className:so.a.sectionHeader,children:"Other info"})}),w&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(bo,{title:"Stream ID",children:Object(_.jsxs)("div",{className:so.a.centeredFlex,children:[Object(_.jsx)("span",{className:m()(so.a.font14,so.a.streamID),children:t.id}),Object(_.jsx)(mo,{stringToCopy:t.id})]})}),Object(_.jsx)(bo,{title:"Remaining",children:Object(_.jsx)("span",{className:so.a.font14,children:o||"Finished"})}),Object(_.jsx)(bo,{title:"Tokens Transferred",children:Object(_.jsxs)("span",{className:so.a.font14,children:[v.amount(u),"\xa0",Object(_.jsxs)("span",{className:so.a.font12,children:[O.symbol," ",Object(_.jsxs)("span",{className:so.a.grey,children:["(",b,"%)"]})]})]})}),t.timestamp_created!==t.last_action&&Object(_.jsx)(bo,{title:"Latest Withdrawal",children:Object(_.jsx)("span",{className:so.a.font14,children:Object(Ke.a)(new Date(Number(t.last_action)/1e6),"PP 'at' p")})}),Object(_.jsx)(bo,{title:"Tokens Left",children:Object(_.jsxs)("span",{className:so.a.font14,children:[v.amount(d),"\xa0",Object(_.jsxs)("span",{className:so.a.font12,children:[O.symbol," ",Object(_.jsxs)("span",{className:so.a.grey,children:["(",p,"%)"]})]})]})}),Object(_.jsx)(bo,{title:"Tokens Available",children:Object(_.jsxs)("span",{className:so.a.font14,children:[v.amount(f),"\xa0",Object(_.jsx)("span",{className:so.a.font12,children:O.symbol})]})})]})]})}function fo(){var e=Object(u.h)().id,t=function(e){var t,a=Le().roketo,n=Object(ka.a)((function(){return!!a.account&&["stream",e,a.account.last_created_stream]}),Object(k.a)(I.a.mark((function t(){var n;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.api.getStream({streamId:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),{errorRetryInterval:2e3,errorRetryCount:3});return Qr({swr:n,revalidationPeriod:10,isEnabled:(null===(t=n.data)||void 0===t?void 0:t.status)===q}),n}(e),a=t.data,n=t.error;return Object(_.jsx)("div",{className:so.a.root,children:Object(_.jsxs)(N,{children:[Object(_.jsxs)("div",{className:so.a.breadbrumbs,children:[Object(_.jsx)(l.b,{to:j.streams.path,className:so.a.streamsLink,children:"Streams"}),Object(_.jsx)(co,{className:so.a.breadbrumb}),Object(_.jsx)("span",{className:so.a.id,children:e})]}),n&&Object(_.jsx)(rt,{className:"max-w-2xl mx-auto py-32",message:n.message,onRetry:function(){t.mutate()}}),!n&&!a&&Object(_.jsx)("div",{className:"py-32 text-center text-gray text-2xl",children:"Loading..."}),!n&&a&&Object(_.jsxs)("main",{className:so.a.stream,children:[Object(_.jsxs)("div",{className:so.a.left,children:[Object(_.jsxs)("div",{className:m()(so.a.tile,so.a.remaining),children:[Object(_.jsx)("span",{className:so.a.blockTitle,children:"Remaining"}),Object(_.jsx)("span",{children:as(a).timeLeft||"Finished"})]}),Object(_.jsxs)("div",{className:m()(so.a.tile,so.a.main),children:[a.is_locked&&Object(_.jsx)(pi,{isOrange:!0,className:so.a.closeBadge,children:"Locked"}),Object(_.jsx)(io,{stream:a}),Object(_.jsx)(oo,{stream:a}),Object(_.jsx)(lo,{stream:a}),Object(_.jsx)("div",{className:so.a.divider}),Object(_.jsx)(uo,{stream:a}),Object(_.jsx)(jo,{stream:a})]})]}),Object(_.jsx)("div",{className:so.a.right,children:Object(_.jsx)(po,{stream:a})})]})]})})}var ho=a(81),_o=a.n(ho);function Oo(){return Object(_.jsxs)("div",{className:_o.a.root,children:[Object(_.jsxs)("div",{className:_o.a.big404,children:["4",Object(_.jsx)("span",{className:_o.a.big0,children:"0"}),"4"]}),Object(_.jsx)("div",{className:_o.a.pageNotFound,children:"Page not found"}),Object(_.jsxs)("div",{className:_o.a.weAreSorry,children:["We're sorry the page",Object(_.jsx)("br",{}),"you requested was not found."]}),Object(_.jsx)(De,{className:_o.a.backButton,displayMode:Ee.action,onClick:function(){return window.history.back()},children:"Back"})]})}var vo=["transactionHashes","errorCode","errorMessage"];function xo(){Object(n.useEffect)((function(){var e=new URL(window.location.href);vo.forEach((function(t){e.searchParams.has(t)&&e.searchParams.delete(t)})),window.history.replaceState(null,"",e)}));var e=Le().auth,t=j.root,a=j.stream,r=j.streams,s=j.authorize,c=Ze.legacyStream,i=Ze.legacyStreams;return Object(_.jsxs)(l.a,{basename:R.PUBLIC_URL,children:[Object(_.jsx)(Ns,{}),Object(_.jsxs)(u.d,{children:[Object(_.jsx)(ks,{exact:!0,redirect:Object(_.jsx)(u.a,{to:r.path}),allowed:!e.signedIn,path:t.path,children:Object(_.jsx)(u.a,{to:s.path})}),Object(_.jsx)(ks,{exact:!0,redirect:Object(_.jsx)(u.a,{to:r.path}),allowed:!e.signedIn,path:s.path,children:Object(_.jsx)(no,{})}),Object(_.jsx)(u.b,{exact:!0,path:c.path,children:Object(_.jsx)(rn,{})}),Object(_.jsx)(ks,{exact:!0,redirect:Object(_.jsx)(u.a,{to:s.path}),allowed:e.signedIn,path:i.path,children:Object(_.jsx)(ar,{})}),Object(_.jsx)(u.b,{exact:!0,path:a.path,children:Object(_.jsx)(fo,{})}),Object(_.jsx)(ks,{exact:!0,redirect:Object(_.jsx)(u.a,{to:s.path}),allowed:e.signedIn,path:r.path,children:Object(_.jsx)(eo,{})}),Object(_.jsx)(u.b,{render:Oo})]}),Object(_.jsx)(Xs,{})]})}a(481);var yo=function(){return Object(_.jsx)(Ae,{children:Object(_.jsx)(oa,{children:Object(_.jsx)(xo,{})})})},wo=document.getElementById("root");o.a.setAppElement(wo),c.a.render(Object(_.jsx)(yo,{}),wo)},49:function(e,t,a){e.exports={root:"styles_root__2_gZI",description:"styles_description__9SwXr",preparedTokensWrapper:"styles_preparedTokensWrapper__1n7o-",preparedToken:"styles_preparedToken__3wMsS",info:"styles_info__OjsX3",amount:"styles_amount__2Pqv4",symbol:"styles_symbol__HcQ7S",notAllowed:"styles_notAllowed__2nGW_"}},52:function(e,t,a){e.exports={progressBar:"styles_progressBar__WfqVp",streamed:"styles_streamed__2JSLG",progress:"styles_progress__1Vfwm",withdrawn:"styles_withdrawn__2eocI",cliffMarkContainer:"styles_cliffMarkContainer__n0scP",cliffMark:"styles_cliffMark__1jJk_",cliffMarkBig:"styles_cliffMarkBig__1-8_i",cliffMarkPassed:"styles_cliffMarkPassed__18H3L"}},53:function(e,t,a){e.exports={container:"styles_container__2hqfN",flexColumn:"styles_flexColumn__2kzF4",withPaddings:"styles_withPaddings__3uH1h",title:"styles_title__1uH5S",emptyState:"styles_emptyState__2YAVd",loader:"styles_loader__FohDd"}},54:function(e,t,a){e.exports={root:"styles_root__1wORt",layout:"styles_layout__3xx--",section:"styles_section__2r57z",logo:"styles_logo__w4rz3",links:"styles_links__2CP2p",legal:"styles_legal__1I5Mf",socials:"styles_socials__pFfwm",jurInfo:"styles_jurInfo__p5KY0"}},55:function(e,t,a){e.exports={container:"styles_container__2E2rA",flexColumn:"styles_flexColumn__vggyT",withPaddings:"styles_withPaddings__3K5aA",title:"styles_title__284Zv",emptyState:"styles_emptyState__3rrQX",loader:"styles_loader__xExeF"}},63:function(e,t,a){e.exports={root:"styles_root__14vNy",section:"styles_section__2FRx-",flex:"styles_flex__2TXuX",header:"styles_header__UtN1L",buttonsWrapper:"styles_buttonsWrapper__ANSH3",title:"styles_title__3qFk7",streamFilters:"styles_streamFilters__3D0RW"}},65:function(e,t,a){e.exports={wrapper:"styles_wrapper__TAkqw",speedInput:"styles_speedInput__pndxz",input:"styles_input__2-TTa",label:"styles_label__1NoFr",formLabel:"styles_formLabel__2w0iu",formField:"styles_formField__GA6eY",speed:"styles_speed__M079a"}},66:function(e,t,a){e.exports={root:"styles_root__2UE9y",section:"styles_section__2YjD4",flex:"styles_flex__5E-Gn",header:"styles_header__2fhvP",buttonsWrapper:"styles_buttonsWrapper__KUQAt",title:"styles_title__1SNWA",streamFilters:"styles_streamFilters__ZRc30"}},73:function(e,t,a){e.exports={root:"styles_root__3Kyti",wrapper:"styles_wrapper__P7W3S",balance:"styles_balance__o5yA-"}},79:function(e,t,a){e.exports={profile:"profile_profile__Dw7tT",dropdownOpener:"profile_dropdownOpener__rb_O7",name:"profile_name__2iGU9",avatar:"profile_avatar__20etB",dropdownMenu:"profile_dropdownMenu__2a3bk"}},80:function(e,t,a){e.exports={overlay:"styles_overlay__2aFDm",bodyOverflowHidden:"styles_bodyOverflowHidden__1QZAq",content:"styles_content__2Cjkl",title:"styles_title__1w-yg",close:"styles_close__1xZ3p"}},81:function(e,t,a){e.exports={root:"styles_root__17WVD",big404:"styles_big404__1ZrOC",big0:"styles_big0__1G3uC",pageNotFound:"styles_pageNotFound__2_Tlm",weAreSorry:"styles_weAreSorry__-XpXJ",backButton:"styles_backButton__2uRdQ"}},96:function(e,t,a){e.exports={root:"styles_root__2eQAJ",primary:"styles_primary__F4Fip",action:"styles_action__ZCYgS",simple:"styles_simple__2Db_y",secondary:"styles_secondary__3blHx"}},97:function(e,t,a){e.exports={root:"styles_root__gqzta",controls:"styles_controls__1VcAv",name:"styles_name__1n32K",comment:"styles_comment__1PgxT",withMarginRight:"styles_withMarginRight__2dPrt"}},98:function(e,t,a){e.exports={root:"styles_root__37pAo",label:"styles_label__1Z1u2",description:"styles_description__3HMUq",error:"styles_error__iK_dp",required:"styles_required__eL5Iv"}},99:function(e,t,a){e.exports={root:"styles_root__2b5hR",description:"styles_description__256I8",checkbox:"styles_checkbox__JfL1O",error:"styles_error__3vxG-",disabled:"styles_disabled__3pqPt"}}},[[482,1,2]]]);
//# sourceMappingURL=main.0850975d.chunk.js.map