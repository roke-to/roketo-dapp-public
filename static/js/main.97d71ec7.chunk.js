(this["webpackJsonproketo-dapp"]=this["webpackJsonproketo-dapp"]||[]).push([[0],{120:function(e,t,n){e.exports={root:"styles_root__9Q_y8",arrow:"styles_arrow__dmtxI",rotate:"styles_rotate__3bkvh"}},121:function(e,t,n){e.exports={menu:"styles_menu__oG1pK",menuDivider:"styles_menuDivider__3rvtk",hidden:"styles_hidden__3JyX9"}},122:function(e,t,n){e.exports={root:"styles_root__HwxLP",dropdownWrapper:"styles_dropdownWrapper__32byB",dropdownMenu:"styles_dropdownMenu__1RS3q"}},123:function(e,t,n){e.exports={root:"styles_root__1_PXp",sort:"styles_sort__3sdm0",active:"styles_active__2U1h-"}},124:function(e,t,n){e.exports={card:"styles_card__chYY0",title:"styles_title__cc9o3",finance:"styles_finance__wsZi_"}},125:function(e,t,n){e.exports={name:"styles_name__25-53",nameLabel:"styles_nameLabel__3d_tt"}},155:function(e,t,n){e.exports={root:"styles_root__2s9Jd",pageLink:"styles_pageLink__3rg8i"}},156:function(e,t,n){e.exports={defaultOverlay:"styles_defaultOverlay__3nR8o",defaultIcon:"styles_defaultIcon__hJLMj"}},157:function(e,t,n){e.exports={filtersWrapper:"styles_filtersWrapper__3sIgz",sortWithOrder:"styles_sortWithOrder__2yZvk"}},158:function(e,t,n){e.exports={input:"styles_input__KeAvj",error:"styles_error__1dP_7"}},159:function(e,t,n){e.exports={textarea:"styles_textarea__1lPSs",error:"styles_error__3C3Rv"}},16:function(e,t,n){e.exports={relative:"styles_relative__2QiFJ",controlButton:"styles_controlButton__1vq4p",statusPadded:"styles_statusPadded__3UL71",button:"styles_button__1UW_h",modalContent:"styles_modalContent__3f34e",modalOverlay:"styles_modalOverlay__ZnuwA",modalHeader:"styles_modalHeader__2-Oti",modalButtons:"styles_modalButtons__367QE",modalButton:"styles_modalButton__uHmah",modalSecondary:"styles_modalSecondary__1y73P",modalWarning:"styles_modalWarning__aeSV8",modalDanger:"styles_modalDanger__2FJKr",controlsMenu:"styles_controlsMenu__h4rsZ",dropdownOpener:"styles_dropdownOpener__KpUjE",start:"styles_start__AVZHt",pause:"styles_pause__AS7EK",stop:"styles_stop__IMPS5"}},160:function(e,t,n){e.exports={formfield:"styles_formfield__2DZrP",textLimitCounter:"styles_textLimitCounter__2B7mB"}},162:function(e,t,n){e.exports={root:"styles_root__2iwP4",linkButton:"styles_linkButton__1laX_"}},212:function(e,t,n){e.exports={layout:"styles_layout__2ac3i"}},216:function(e,t,n){e.exports={rotate:"styles_rotate__ZjzwB"}},222:function(e,t,n){e.exports={root:"styles_root__20iY_"}},223:function(e,t,n){e.exports={profileFormBusy:"profile_profileFormBusy__1a27V"}},224:function(e,t,n){e.exports={unread:"notifications_unread__1rtRf"}},25:function(e,t,n){e.exports={root:"styles_root__38B64",text:"styles_text__11atI",status:"styles_status__3b_ey",grey:"styles_grey__36o2c",overlay:"styles_overlay__3rasY",tooltip:"styles_tooltip__23VN9",innerStatus:"styles_innerStatus__132Fk",smaller:"styles_smaller__HXT1f",speed:"styles_speed__1i2og",remained:"styles_remained__2-6rd",clock:"styles_clock__2q7yf",streamed:"styles_streamed__2mtn0"}},265:function(e,t){},275:function(e,t){},293:function(e,t){},30:function(e,t,n){e.exports={root:"styles_root__1zlKm",title:"styles_title__39adN",description:"styles_description__12RAl",form:"styles_form__1ud4S",row:"styles_row__Pz5Iu",rowItem:"styles_rowItem__TexQO",submitError:"styles_submitError__1B7Gd",actionButtonsWrapper:"styles_actionButtonsWrapper__1E6yB",feeDisclaimer:"styles_feeDisclaimer__WNlqw",feeDisclaimerRow:"styles_feeDisclaimerRow__11c8e"}},418:function(e,t,n){},419:function(e,t,n){},420:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(38),c=n.n(s),i=n(41),o=n.n(i),l=(n(167),n(26)),u=n(19),d=n(2),j=n.n(d),m=n(0);function b(){return Object(m.jsx)("svg",{width:"17",height:"17",viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M1.35828 8.21811C1.35828 7.03631 1.88087 5.91501 2.78586 5.15499L6.96214 1.64773C7.70587 1.02314 8.79082 1.02314 9.53456 1.64773L13.7108 5.15499C14.6158 5.91501 15.1384 7.03631 15.1384 8.2181V12.4077C15.1384 14.0646 13.7953 15.4077 12.1384 15.4077H4.35827C2.70142 15.4077 1.35828 14.0646 1.35828 12.4077V8.21811Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}function h(){return Object(m.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("circle",{cx:"2.08925",cy:"2.03994",r:"2.03994",fill:"currentColor"}),Object(m.jsx)("circle",{cx:"11.1691",cy:"2.03994",r:"2.03994",fill:"currentColor"}),Object(m.jsx)("circle",{cx:"2.08925",cy:"11.1198",r:"2.03994",fill:"currentColor"}),Object(m.jsx)("circle",{cx:"11.1691",cy:"11.1198",r:"2.03994",fill:"currentColor"})]})}function p(e){var t=e.icon,n=e.children,a=e.className,r=e.to,s=e.onClick,c=Object(u.i)(r),i=c&&c.isExact;return Object(m.jsxs)(l.b,{to:r,className:j()(a,"text-white font-semibold","flex items-center px-5 py-4 rounded-xl ","group cursor-pointer whitespace-nowrap",i?"bg-hover":"","transition-all","hover:bg-hover"),onClick:s,children:[Object(m.jsx)("div",{className:j()("group-hover:text-blue",i?"text-blue":""),children:t}),Object(m.jsx)("div",{className:"ml-2",children:n})]})}var f={authorize:{path:"/authorize",title:"Authorize"},account:{path:"/account",title:"Account"},myStreams:{path:"/myStreams",title:"Streams"},stream:{path:"/streams/:id",title:"Stream"},profile:{path:"/profile",title:"Profile"},notifications:{path:"/notifications",title:"Notifications"}};function x(e){return"".concat(window.location.origin,"/#/streams/").concat(e)}var v=n.p+"static/media/logo_stream_with_text.831f0892.svg",O=n(5);function _(e){var t=r.a.useState(e),n=Object(O.a)(t,2),a=n[0],s=n[1];return{on:a,off:!a,toggle:function(){return s(!a)},turnOff:function(){return s(!1)},turnOn:function(){return s(!0)},setOn:s}}function w(){return Object(m.jsx)("svg",{fill:"none",width:"20",height:"20",viewBox:"0 0 45.973 45.973",children:Object(m.jsx)("path",{d:"M43.454,18.443h-2.437c-0.453-1.766-1.16-3.42-2.082-4.933l1.752-1.756c0.473-0.473,0.733-1.104,0.733-1.774\r c0-0.669-0.262-1.301-0.733-1.773l-2.92-2.917c-0.947-0.948-2.602-0.947-3.545-0.001l-1.826,1.815\r C30.9,6.232,29.296,5.56,27.529,5.128V2.52c0-1.383-1.105-2.52-2.488-2.52h-4.128c-1.383,0-2.471,1.137-2.471,2.52v2.607\r c-1.766,0.431-3.38,1.104-4.878,1.977l-1.825-1.815c-0.946-0.948-2.602-0.947-3.551-0.001L5.27,8.205\r C4.802,8.672,4.535,9.318,4.535,9.978c0,0.669,0.259,1.299,0.733,1.772l1.752,1.76c-0.921,1.513-1.629,3.167-2.081,4.933H2.501\r C1.117,18.443,0,19.555,0,20.935v4.125c0,1.384,1.117,2.471,2.501,2.471h2.438c0.452,1.766,1.159,3.43,2.079,4.943l-1.752,1.763\r c-0.474,0.473-0.734,1.106-0.734,1.776s0.261,1.303,0.734,1.776l2.92,2.919c0.474,0.473,1.103,0.733,1.772,0.733\r s1.299-0.261,1.773-0.733l1.833-1.816c1.498,0.873,3.112,1.545,4.878,1.978v2.604c0,1.383,1.088,2.498,2.471,2.498h4.128\r c1.383,0,2.488-1.115,2.488-2.498v-2.605c1.767-0.432,3.371-1.104,4.869-1.977l1.817,1.812c0.474,0.475,1.104,0.735,1.775,0.735\r c0.67,0,1.301-0.261,1.774-0.733l2.92-2.917c0.473-0.472,0.732-1.103,0.734-1.772c0-0.67-0.262-1.299-0.734-1.773l-1.75-1.77\r c0.92-1.514,1.627-3.179,2.08-4.943h2.438c1.383,0,2.52-1.087,2.52-2.471v-4.125C45.973,19.555,44.837,18.443,43.454,18.443z\r M22.976,30.85c-4.378,0-7.928-3.517-7.928-7.852c0-4.338,3.55-7.85,7.928-7.85c4.379,0,7.931,3.512,7.931,7.85\r C30.906,27.334,27.355,30.85,22.976,30.85z",stroke:"currentColor",strokeWidth:"5",strokeLinecap:"round"})})}function g(){return Object(m.jsxs)("svg",{fill:"none",viewBox:"0 0 612 612",width:"20",height:"20",children:[Object(m.jsx)("path",{strokeWidth:"40",strokeLinecap:"round",stroke:"currentColor",d:"M570.107,500.254c-65.037-29.371-67.511-155.441-67.559-158.622v-84.578c0-81.402-49.742-151.399-120.427-181.203\r C381.969,34,347.883,0,306.001,0c-41.883,0-75.968,34.002-76.121,75.849c-70.682,29.804-120.425,99.801-120.425,181.203v84.578\r c-0.046,3.181-2.522,129.251-67.561,158.622c-7.409,3.347-11.481,11.412-9.768,19.36c1.711,7.949,8.74,13.626,16.871,13.626\r h164.88c3.38,18.594,12.172,35.892,25.619,49.903c17.86,18.608,41.479,28.856,66.502,28.856\r c25.025,0,48.644-10.248,66.502-28.856c13.449-14.012,22.241-31.311,25.619-49.903h164.88c8.131,0,15.159-5.676,16.872-13.626\r C581.586,511.664,577.516,503.6,570.107,500.254z M484.434,439.859c6.837,20.728,16.518,41.544,30.246,58.866H97.32\r c13.726-17.32,23.407-38.135,30.244-58.866H484.434z M306.001,34.515c18.945,0,34.963,12.73,39.975,30.082\r c-12.912-2.678-26.282-4.09-39.975-4.09s-27.063,1.411-39.975,4.09C271.039,47.246,287.057,34.515,306.001,34.515z\r M143.97,341.736v-84.685c0-89.343,72.686-162.029,162.031-162.029s162.031,72.686,162.031,162.029v84.826\r c0.023,2.596,0.427,29.879,7.303,63.465H136.663C143.543,371.724,143.949,344.393,143.97,341.736z M306.001,577.485\r c-26.341,0-49.33-18.992-56.709-44.246h113.416C355.329,558.493,332.344,577.485,306.001,577.485z"}),Object(m.jsx)("path",{strokeWidth:"40",strokeLinecap:"round",stroke:"currentColor",d:"M306.001,119.235c-74.25,0-134.657,60.405-134.657,134.654c0,9.531,7.727,17.258,17.258,17.258\r c9.531,0,17.258-7.727,17.258-17.258c0-55.217,44.923-100.139,100.142-100.139c9.531,0,17.258-7.727,17.258-17.258\r C323.259,126.96,315.532,119.235,306.001,119.235z"})]})}var y=n(9),N=n(3),k=n.n(N),C=n(27),S="near",M="mainnet",I="https://rpc.mainnet.near.org",L="streaming.r-v2.near",A="https://wallet.near.org",B="",V="priceoracle.near",H="pythia.near",F="wrap.near",R="https://roketo-test-api.herokuapp.com",P="200000000000000";function D(){return T.apply(this,arguments)}function T(){return(T=Object(y.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new C.keyStores.BrowserLocalStorageKeyStore,e.next=3,Object(C.connect)({nodeUrl:I,walletUrl:A,networkId:M,keyStore:t,headers:{}});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return E.apply(this,arguments)}function E(){return E=Object(y.a)(k.a.mark((function e(t){var n,a,r,s,c,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){return(o=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.signOut();case 2:window.location.reload();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},i=function(){return o.apply(this,arguments)},c=function(){return(c=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Roketo Token Streaming Service",e.next=3,t.requestSignIn(L,"Roketo Token Streaming Service");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return c.apply(this,arguments)},e.next=6,t.getAccountId();case 6:return n=e.sent,e.next=9,t.account();case 9:if(a=e.sent,!n){e.next=14;break}return e.next=13,a.getAccountBalance();case 13:r=e.sent;case 14:return e.abrupt("return",{balance:r,account:a,signedIn:!!n,accountId:n,login:s,logout:i});case 15:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}var q=n(10),Z=n(11),z=n(15),U=n.n(z),Y=n(421),K={xYears:"{{count}} years",xMonths:"{{count}} months",xDays:"{{count}}d",xSeconds:"{{count}}s",xMinutes:"{{count}}m",xHours:"{{count}}h"},J={formatDistance:function(e,t){return K[e].replace("{{count}}",t)}};var G="Initialized",X="Active",Q="Paused",$="Finished",ee=function(e){return e.status===X};function te(e){return"object"===typeof(null===e||void 0===e?void 0:e.status)&&$ in e.status}function ne(e){if(function(e){return e.status===G||e.status===Q}(e))return new U.a(0);var t,n=Object(Y.a)(Date.now())-(t=e.last_action,Number(t)/1e3/1e3/1e3);return U.a.minimum(e.balance,Number(e.tokens_per_sec)*n)}var ae=function(){function e(t){var n=t.contract,a=t.account;Object(q.a)(this,e),this.contract=void 0,this.account=void 0,this.contract=n,this.account=a}return Object(Z.a)(e,[{key:"getAccount",value:function(){var e=Object(y.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.account.accountId){e.next=2;break}return e.abrupt("return",{active_incoming_streams:0,active_outgoing_streams:0,deposit:"0",inactive_incoming_streams:0,inactive_outgoing_streams:0,is_cron_allowed:!0,last_created_stream:"any",stake:"0",total_incoming:{},total_outgoing:{},total_received:{}});case 2:return e.prev=2,e.next=5,this.contract.get_account({account_id:this.account.accountId});case 5:return t=e.sent,e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",{active_incoming_streams:0,active_outgoing_streams:0,deposit:"0",inactive_incoming_streams:0,inactive_outgoing_streams:0,is_cron_allowed:!0,last_created_stream:"any",stake:"0",total_incoming:{},total_outgoing:{},total_received:{}});case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountIncomingStreams",value:function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.from,a=t.limit,e.prev=1,e.next=4,this.contract.get_account_incoming_streams({account_id:this.account.accountId,from:n,limit:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAccountOutgoingStreams",value:function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.from,a=t.limit,e.prev=1,e.next=4,this.contract.get_account_outgoing_streams({account_id:this.account.accountId,from:n,limit:a});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getStream",value:function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.streamId,e.next=3,this.contract.get_stream({stream_id:n});case 3:return a=e.sent,console.log("res",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDao",value:function(){var e=Object(y.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.get_dao();case 2:return t=e.sent,console.log("res",t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createStream",value:function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a,r,s,c,i,o,l,u,d,j,m,b,h,p;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.description,a=t.deposit,r=t.receiverId,s=t.tokenAccountId,c=t.commissionOnCreate,i=t.tokensPerSec,o=t.cliffPeriodSec,l=t.isAutoStart,u=void 0===l||l,d=t.isExpirable,j=t.isLocked,m=t.callbackUrl,b=t.handleTransferStream,h=new U.a(a).plus(c).toFixed(),p={description:n,balance:a,owner_id:this.account.accountId,receiver_id:r,token_name:s,tokens_per_sec:BigInt(i),cliff_period_sec:o,is_locked:j,is_auto_start_enabled:u,is_expirable:d},e.abrupt("return",b(p,h,m));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"startStream",value:function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.streamId,e.next=3,this.contract.start_stream({stream_id:n},P,"1");case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pauseStream",value:function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.streamId,e.next=3,this.contract.pause_stream({stream_id:n},P,"1");case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"stopStream",value:function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.streamId,e.next=3,this.contract.stop_stream({stream_id:n},P,"1");case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"withdraw",value:function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.streamIds,e.next=3,this.contract.withdraw({stream_ids:n},P,"1");case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function re(e){return se.apply(this,arguments)}function se(){return(se=Object(y.a)(k.a.mark((function e(t){var n,a,r,s,c,i,o,l,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=new C.Contract(n,L,{viewMethods:["get_stats","get_dao","get_token","get_stream","get_account","get_account_incoming_streams","get_account_outgoing_streams","get_account_ft"],changeMethods:["start_stream","pause_stream","stop_stream","withdraw"]}),r=new ae({contract:a,account:n}),s=r.getAccount(),c=r.getDao(),e.next=7,Promise.all([s,c]);case 7:return i=e.sent,o=Object(O.a)(i,2),l=o[0],u=o[1],e.abrupt("return",{api:r,dao:u,account:l});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ce,ie,oe=n(7),le=n(29),ue=n.n(le),de=60,je=3600,me=86400,be=604800,he=2419200,pe=29030400;!function(e){e.Second="second",e.Minute="minute",e.Hour="hour",e.Day="day"}(ie||(ie={}));var fe=(ce={},Object(oe.a)(ce,ie.Hour,"/h"),Object(oe.a)(ce,ie.Day,"/d"),Object(oe.a)(ce,ie.Minute,"/m"),Object(oe.a)(ce,ie.Second,"/s"),ce),xe=function(){function e(t){Object(q.a)(this,e),this.tokenDecimals=void 0,this.MP=void 0,this.tokenDecimals=t,this.MP=Math.pow(10,t)}return Object(Z.a)(e,[{key:"amount",value:function(e){var t=ue()(e).divide(this.MP).value(),n=ue()(t).format({mantissa:3,trimMantissa:!0,optionalMantissa:!0,average:!0});return 0===t?"0":0!==e&&t<.001?"<0.001":n}},{key:"toYocto",value:function(e){return ue()(e).multiply(this.MP).format({mantissa:0})}},{key:"toHumanReadableValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ue()(e).divide(this.MP).format({mantissa:t,trimMantissa:!0,optionalMantissa:!0})}},{key:"tokensPerMeaningfulPeriod",value:function(t){var n,a=this,r=[1,de,je,me,be,he,pe],s=(n={1:"second"},Object(oe.a)(n,de,"minute"),Object(oe.a)(n,je,"hour"),Object(oe.a)(n,me,"day"),Object(oe.a)(n,be,"week"),Object(oe.a)(n,he,"month"),Object(oe.a)(n,pe,"year"),n),c=r.find((function(e){return ue()(t).multiply(e).divide(a.MP).value()>.1}))||pe,i=ue()(t).multiply(c).divide(this.MP).value();return{formattedValue:e.formatSmartly(i),unit:s[c]}}}],[{key:"formatSmartly",value:function(e){return 0===e?"0":e<.001?"<0.001":ue()(e).format({mantissa:3,trimMantissa:!0,optionalMantissa:!0,average:!0})}}]),e}(),ve=n(211),Oe=n.n(ve);function _e(e){return e===F}var we=function(){function e(t,n){var a=this;Object(q.a)(this,e),this.contract=void 0,this.tokenAccountId=void 0,this.account=void 0,this.transfer=function(){var e=Object(y.a)(k.a.mark((function e(t,n,r){var s,c,i,o,l,u,d,j;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a.getIsRegistered(t.owner_id),a.getIsRegistered(t.receiver_id)]);case 2:return s=e.sent,c=Object(O.a)(s,2),i=c[0],o=c[1],l=[C.transactions.functionCall("ft_transfer_call",{receiver_id:L,amount:new U.a(n).toFixed(),memo:"Roketo transfer",msg:Oe.a.stringify({Create:{request:t}})},"100000000000000",1)],u=new U.a(0),d=C.utils.format.parseNearAmount("0.00125"),i||(l.unshift(C.transactions.functionCall("storage_deposit",{account_id:t.owner_id},"30000000000000",d)),u=u.plus(d)),o||(l.unshift(C.transactions.functionCall("storage_deposit",{account_id:t.receiver_id},"30000000000000",d)),u=u.plus(d)),_e(a.tokenAccountId)&&l.unshift(C.transactions.functionCall("near_deposit",{},"30000000000000",new U.a(n).plus(u).toFixed())),j=a.account.signAndSendTransaction({receiverId:a.tokenAccountId,walletCallbackUrl:r,actions:l}),e.abrupt("return",j);case 14:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.tokenAccountId=n,this.account=t,this.contract=new C.Contract(t,n,{viewMethods:["ft_balance_of","ft_metadata","storage_balance_of"],changeMethods:["ft_transfer_call","storage_deposit","near_deposit"]})}return Object(Z.a)(e,[{key:"getMetadata",value:function(){var e=Object(y.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.ft_metadata();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=Object(y.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.account.accountId){e.next=2;break}return e.abrupt("return","0");case 2:return e.next=4,this.contract.ft_balance_of({account_id:this.account.accountId});case 4:return t=e.sent,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getIsRegistered",value:function(){var e=Object(y.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.contract.storage_balance_of({account_id:t});case 2:return n=e.sent,e.abrupt("return",n&&"0"!==n.total);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function ge(e){return ye.apply(this,arguments)}function ye(){return ye=Object(y.a)(k.a.mark((function e(t){var n,a,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=t.tokens,r={},e.next=4,Promise.all(Object.keys(a).map(function(){var e=Object(y.a)(k.a.mark((function e(t){var s,c,i,o,l,u;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new we(n,t),e.next=3,Promise.all([s.getMetadata(),s.getBalance()]);case 3:c=e.sent,i=Object(O.a)(c,2),o=i[0],l=i[1],u=new xe(o.decimals),r[t]={api:s,formatter:u,roketoMeta:a[t],meta:o,balance:l};case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}var Ne=n(4),ke=Math.pow(10,24),Ce=Math.pow(10,18),Se={"wrap.testnet":ke,"dai.fakes.testnet":Ce,"wrap.near":ke,"dai.bridge.near":Ce},Me=["get_assets","get_asset","get_price_data"],Ie=[],Le=function(e,t){return e.reduce((function(e,n){var a=Object(O.a)(n,2),r=a[0],s=a[1].reports.find((function(e){return e.oracle_id===t}));return s?Object(Ne.a)(Object(Ne.a)({},e),{},Object(oe.a)({},r,s.price)):e}),{})},Ae=function(e,t){return function(n,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=e[n],c=t[n];if(!s||!c)return"0";var i=s.multiplier,o=s.decimals;return ue()(a).multiply(c).multiply(Number(i)).divide(Math.pow(10,o)).format({mantissa:r,trimMantissa:!0})}},Be=function(){var e=Object(y.a)(k.a.mark((function e(t){var n,a,r,s,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.account,a=new C.Contract(n,V,{viewMethods:Me,changeMethods:Ie}),e.next=4,a.get_assets({});case 4:return r=e.sent,s=Le(r,H),c=Ae(s,Se),e.abrupt("return",{getPriceInUsd:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=r.a.createContext(null);function He(e){var t=e.children,n=Object(a.useState)(null),r=Object(O.a)(n,2),s=r[0],c=r[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(y.a)(k.a.mark((function e(){var t,n,a,r,s,i,o,l;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,n=new C.WalletConnection(t,L),e.next=6,W(n);case 6:return a=e.sent,e.next=9,Promise.all([re({account:a.account}),Be({account:a.account})]);case 9:return r=e.sent,s=Object(O.a)(r,2),i=s[0],o=s[1],e.next=15,ge({account:a.account,tokens:i.dao.tokens});case 15:l=e.sent,c({auth:a,near:t,roketo:i,priceOracle:o,walletConnection:n,tokens:l});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(m.jsx)(Ve.Provider,{value:s,children:s?t:null})}var Fe=new Error("Near context is not found");function Re(){var e=Object(a.useContext)(Ve);if(!e)throw Fe;return e}var Pe=n(72),De=n(62),Te={baseServer:new De.ServerConfiguration(R,{})},We=function(){function e(){Object(q.a)(this,e),this.initialized=!1,this.token=null,this.authApiClient=new De.AuthApi(De.createConfiguration(Object(Ne.a)({},Te)))}return Object(Z.a)(e,[{key:"getToken",value:function(){return this.token||(this.token=this.getRefreshedToken()),this.token}},{key:"refreshToken",value:function(){this.token=this.getRefreshedToken()}},{key:"getRefreshedToken",value:function(){var e=Object(y.a)(k.a.mark((function e(){var t,n,a,r,s,c,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getAccountIdAndNear();case 3:if(t=e.sent,n=t.accountId,"roketoApiAccessToken",a="".concat("roketoApiAccessToken",":").concat(n),this.initialized){e.next=12;break}if(this.initialized=!0,!(r=localStorage[a]||null)||this.containsUnicode(r)){e.next=12;break}return e.abrupt("return",r);case 12:return delete localStorage[a],e.next=15,this.generateLoginParams();case 15:return s=e.sent,e.next=18,this.authApiClient.login(s);case 18:return c=e.sent,i=c.accessToken,localStorage[a]=i,e.abrupt("return",i);case 24:throw e.prev=24,e.t0=e.catch(0),this.token=null,e.t0;case 28:case"end":return e.stop()}}),e,this,[[0,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAccountIdAndNear",value:function(){var e=Object(y.a)(k.a.mark((function e(){var t,n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,n=new C.WalletConnection(t,L),a=n.getAccountId(),e.abrupt("return",{accountId:a,near:t});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"generateLoginParams",value:function(){var e=Object(y.a)(k.a.mark((function e(){var t,n,a,r,s,c,i,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAccountIdAndNear();case 2:return t=e.sent,n=t.accountId,a=t.near,e.next=7,a.config.keyStore.getKey(a.config.networkId,n);case 7:return r=e.sent,s=Date.now(),c=r.sign((new TextEncoder).encode(String(s))),i=c.signature,o=Array.from(i),e.abrupt("return",{accountId:n,timestamp:s,signature:o});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"containsUnicode",value:function(e){return e!==encodeURIComponent(e)}}]),e}(),Ee=new We,qe=function(){var e=Object(y.a)(k.a.mark((function e(t,n,a,r,s){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=s.retryCount,!(t.message.startsWith("HTTP-Code: 401")&&c<=3)){e.next=5;break}return e.next=4,Ee.refreshToken();case 4:r({retryCount:c});case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,s){return e.apply(this,arguments)}}(),Ze=De.createConfiguration(Object(Ne.a)(Object(Ne.a)({},Te),{},{authMethods:{bearer:{tokenProvider:Ee}}})),ze=new De.UsersApi(Ze);function Ue(){var e=Re().auth;return Object(Pe.a)(e.accountId?"user":null,(function(){return ze.findOne(e.accountId)}),{onErrorRetry:qe})}var Ye=new De.NotificationsApi(Ze);var Ke,Je=function(e){var t=e.width,n=void 0===t?18:t,a=e.height,r=void 0===a?18:a,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:n,height:r,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M7.09 12.59L8.5 14L13.5 9L8.5 4L7.09 5.41L9.67 8H0V10H9.67L7.09 12.59ZM16 0H2C0.89 0 0 0.9 0 2V6H2V2H16V16H2V12H0V16C0 17.1 0.89 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z",fill:"#2B313B"})})})},Ge=n(73),Xe=n.n(Ge),Qe=function(){var e,t=Re().auth,n=null!==(e=Ue().data)&&void 0!==e?e:{},a=n.name,r=n.email,s=t.accountId,c=t.login,i=t.logout;return t.signedIn?Object(m.jsxs)("div",{className:Xe.a.root,children:[Object(m.jsx)("span",{className:Xe.a.name,children:a||s}),Object(m.jsx)("img",{className:Xe.a.avatar,src:"".concat(R,"/users/").concat(s,"/avatar?email=").concat(r),alt:"user avatar"}),Object(m.jsx)("button",{type:"button",onClick:i,children:Object(m.jsx)(Je,{})})]}):Object(m.jsxs)("button",{type:"button",onClick:c,className:Xe.a.root,children:[Object(m.jsx)("span",{className:Xe.a.name,children:"Sign in with NEAR Wallet"}),Object(m.jsx)(Je,{})]})},$e=n.p+"static/media/dark-logo-stream.d340f193.svg",et=function(e){var t=e.className;return Object(m.jsx)("div",{className:t,children:Object(m.jsx)("img",{src:$e,alt:"Roketo logo"})})},tt=n(212),nt=n.n(tt),at=function(e){var t=e.children,n=e.className,a=j()("container mx-auto",nt.a.layout,n);return Object(m.jsx)("div",{className:a,children:t})},rt=function(e){var t=e.to,n=e.className,a=e.children,r=e.onClick;return Object(m.jsx)(l.b,{to:t,className:n,onClick:r,children:a})},st=n(155),ct=n.n(st),it=function(e){var t=e.pageRoutes,n=void 0===t?[]:t;return 0===n.length?null:Object(m.jsx)("ul",{className:ct.a.root,children:n.map((function(e){return Object(m.jsx)("li",{className:ct.a.pageLink,children:Object(m.jsx)(rt,{to:e.path,children:e.title})},e.path)}))})},ot=function(e){var t=e.width,n=void 0===t?17:t,a=e.height,r=void 0===a?16:a,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:n,height:r,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M15.5 4.06667V2.16667C15.5 1.25 14.75 0.5 13.8333 0.5H2.16667C1.24167 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.24167 15.5 2.16667 15.5H13.8333C14.75 15.5 15.5 14.75 15.5 13.8333V11.9333C15.9917 11.6417 16.3333 11.1167 16.3333 10.5V5.5C16.3333 4.88333 15.9917 4.35833 15.5 4.06667ZM14.6667 5.5V10.5H8.83333V5.5H14.6667ZM2.16667 13.8333V2.16667H13.8333V3.83333H8.83333C7.91667 3.83333 7.16667 4.58333 7.16667 5.5V10.5C7.16667 11.4167 7.91667 12.1667 8.83333 12.1667H13.8333V13.8333H2.16667Z",fill:"#626F84"})})})},lt=function(e){var t=e.width,n=void 0===t?20:t,a=e.height,r=void 0===a?16:a,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:n,height:r,viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334ZM17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334Z",fill:"#626F84"})})})},ut=function(e){var t=e.width,n=void 0===t?17:t,a=e.height,r=void 0===a?16:a,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsxs)("svg",{width:n,height:r,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M12.1667 12.1666L16.3333 7.99998L12.1667 3.83331L10.9917 5.00831L13.1417 7.16665H5.5V8.83331H13.1417L10.9917 10.9916L12.1667 12.1666Z",fill:"#626F84"}),Object(m.jsx)("path",{d:"M13.8333 13.8333H2.16667V2.16667H13.8333V3.83333H15.5V2.16667C15.5 1.25 14.7583 0.5 13.8333 0.5H2.16667C1.25 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.25 15.5 2.16667 15.5H13.8333C14.7583 15.5 15.5 14.75 15.5 13.8333V12.1667H13.8333V13.8333Z",fill:"#626F84"})]})})};function dt(e){var t=Re().tokens;return _e(e)&&(t[e].meta.symbol="NEAR"),t[e]}function jt(e){var t,n=e.tokenAccountId,a=e.className,r=e.mode,s=void 0===r?Ke.CRYPTO:r,c=Re(),i=c.auth,o=c.priceOracle,l=dt(n),u=l.balance,d=l.formatter,j=l.meta,b=_e(n)?(null===(t=i.balance)||void 0===t?void 0:t.available)||"0":u,h=d.amount(b),p=s===Ke.USD,f=p?o.getPriceInUsd(n,h):h,x=p?"$":j.symbol;return Object(m.jsx)("span",{className:a,children:"Balance: ".concat(f," ").concat(x)})}!function(e){e.USD="USD",e.CRYPTO="CRYPTO",e.BOTH="BOTH"}(Ke||(Ke={}));var mt;!function(e){e.income="total_incoming",e.outcome="total_outgoing"}(mt||(mt={}));var bt=function(e){var t=e.type,n=e.period,a=e.className,r=Re(),s=r.roketo,c=r.priceOracle,i=r.tokens,o=s.account[t],l=Object.keys(o).reduce((function(e,t){var a=i[t].formatter,r=function(e,t){var n=new U.a(e);switch(t){case ie.Minute:return n.multipliedBy(de);case ie.Hour:return n.multipliedBy(je);case ie.Day:return n.multipliedBy(me);default:return n}}(o[t],n).toFixed(),s=a.toHumanReadableValue(r,3),l=c.getPriceInUsd(t,s);return e+Number(l)}),0);return Object(m.jsx)("div",{className:a,children:"".concat(l," $ ").concat(fe[n])})},ht=n(54),pt=n.n(ht),ft=function(){return Object(m.jsxs)("div",{className:pt.a.root,children:[Object(m.jsxs)("div",{className:pt.a.wrapper,children:[Object(m.jsx)(ut,{}),Object(m.jsx)(bt,{className:pt.a.balance,type:mt.outcome,period:ie.Hour})]}),Object(m.jsxs)("div",{className:pt.a.wrapper,children:[Object(m.jsx)(lt,{}),Object(m.jsx)(bt,{className:pt.a.balance,type:mt.income,period:ie.Hour})]}),Object(m.jsxs)("div",{className:pt.a.wrapper,children:[Object(m.jsx)(ot,{}),Object(m.jsx)(jt,{className:pt.a.balance,tokenAccountId:F,mode:Ke.USD})]})]})},xt=n(74),vt=n.n(xt),Ot=[f.myStreams,f.account],_t=function(){return Object(m.jsx)("div",{className:vt.a.wrapper,children:Object(m.jsxs)(at,{className:vt.a.root,children:[Object(m.jsxs)("div",{className:vt.a.left,children:[Object(m.jsx)(et,{className:vt.a.logo}),Object(m.jsx)(it,{pageRoutes:Ot})]}),Object(m.jsxs)("div",{className:vt.a.right,children:[Object(m.jsx)(ft,{}),Object(m.jsx)(Qe,{})]})]})})};function wt(){var e=Object(m.jsx)("div",{className:"flex justify-start items-center",children:Object(m.jsx)("img",{src:v,alt:"roketo logo"})});return Object(m.jsx)("div",{className:j()("py-4 px-6","absolute w-full pt-8","flex justify-center"),children:e})}function gt(){var e=_(!1),t=Object(m.jsxs)("ul",{className:"flex-col lg:flex-row flex justify-center ",children:[Object(m.jsx)("li",{className:"mb-2 lg:mr-2 lg:mb-0",children:Object(m.jsx)(p,{onClick:e.turnOff,to:f.account.path,icon:Object(m.jsx)(b,{}),children:f.account.title})}),Object(m.jsx)("li",{className:"mb-2 lg:mr-2 lg:mb-0",children:Object(m.jsx)(p,{onClick:e.turnOff,to:f.myStreams.path,icon:Object(m.jsx)(h,{}),children:f.myStreams.title})}),Object(m.jsx)("li",{className:"mb-2 lg:mr-2 lg:mb-0",children:Object(m.jsx)(p,{onClick:e.turnOff,to:f.profile.path,icon:Object(m.jsx)(w,{}),children:f.profile.title})}),Object(m.jsx)("li",{className:"mb-2 lg:mr-2 lg:mb-0",children:Object(m.jsx)(p,{onClick:e.turnOff,to:f.notifications.path,icon:Object(m.jsx)(g,{}),children:"Notifications"})})]}),n=Object(m.jsx)("div",{className:"flex justify-start items-center",children:Object(m.jsx)("img",{src:v,alt:"roketo logo"})});return Object(m.jsxs)("div",{className:"py-4 px-6 w-full pt-8",children:[Object(m.jsxs)("div",{className:j()("hidden lg:grid items-center grid-cols-3 gap-3 "),children:[n,t,Object(m.jsx)("div",{className:"flex justify-end",children:Object(m.jsx)(Qe,{})})]}),Object(m.jsxs)("div",{className:j()("lg:hidden"),children:[Object(m.jsxs)("div",{className:"flex justify-between",children:[n,Object(m.jsx)("button",{className:"p-1",onClick:e.toggle,type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(m.jsx)("div",{className:j()("burger-menu",e.on?"burger-menu--active":"")})})]}),Object(m.jsxs)("div",{className:j()(e.on?"block":"hidden","mt-4"),children:[t,Object(m.jsx)(Qe,{})]})]})]})}function yt(){var e=Object(u.i)(f.authorize.path);return Object(u.i)(f.myStreams.path)?Object(m.jsx)(_t,{}):e?Object(m.jsx)(wt,{}):Object(m.jsx)(gt,{})}function Nt(e){var t=e.children,n=e.allowed,a=e.redirect,r=e.path,s=e.exact,c=void 0!==s&&s;return Object(m.jsx)(u.b,{exact:c,path:r,render:function(){return n?t:a}})}var kt,Ct,St=n(17),Mt=n(91),It=n.n(Mt),Lt=function(e){var t=e.isOpen,n=void 0===t||t,a=e.title,r=e.children,s=e.onCloseModal;return Object(m.jsxs)(o.a,{isOpen:n,onRequestClose:s,className:It.a.content,overlayClassName:It.a.overlay,children:[Object(m.jsx)("span",{className:It.a.close,onClick:s}),Object(m.jsx)("h2",{className:It.a.title,children:a}),r]})},At=n(92),Bt=n.n(At);!function(e){e.button="button",e.submit="submit"}(kt||(kt={})),function(e){e.primary="primary",e.simple="simple",e.action="action",e.invisible="invisible"}(Ct||(Ct={}));var Vt=function(e){var t,n=e.type,a=void 0===n?kt.button:n,r=e.displayMode,s=void 0===r?Ct.action:r,c=e.disabled,i=void 0!==c&&c,o=e.link,u=e.children,d=e.className,b=e.onClick,h=j()(Bt.a.root,(t={},Object(oe.a)(t,Bt.a.primary,s===Ct.primary),Object(oe.a)(t,Bt.a.action,s===Ct.action),Object(oe.a)(t,Bt.a.simple,s===Ct.simple),t),d),p=Object(m.jsx)("button",{type:a,className:h,onClick:b,disabled:i,children:u});return o?Object(m.jsx)(l.b,{to:o,children:p}):p},Ht=n(43),Ft=n(118),Rt=(n(381),n(156)),Pt=n.n(Rt);function Dt(e){var t=e.placement,n=void 0===t?"top":t,a=e.children,r=e.overlay,s=e.align,c=e.overlayClassName;return Object(m.jsx)(Ft.a,{align:s,placement:n,overlay:r,overlayClassName:c||Pt.a.defaultOverlay,children:a||Object(m.jsx)("span",{className:Pt.a.defaultIcon,children:"?"})})}var Tt=n(423),Wt=n(422);function Et(e){var t=e.swr,n=e.revalidationPeriod,r=e.isEnabled,s=void 0===r||r,c=Object(a.useState)(n),i=Object(O.a)(c,2),o=i[0],l=i[1];Object(a.useEffect)((function(){if(s){var e=setTimeout((function(){o<=0?(l(n),t.mutate()):l((function(e){return e-1}))}),1e3);return function(){return clearTimeout(e)}}}),[t,o,n,s])}function qt(){var e=Re(),t=e.auth,n=e.roketo,a=Object(Pe.a)(["streams",t.accountId,n.account.last_created_stream],Object(y.a)(k.a.mark((function e(){var t,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.api.getAccountIncomingStreams({from:0,limit:100});case 2:return t=e.sent,e.next=5,n.api.getAccountOutgoingStreams({from:0,limit:100});case 5:return a=e.sent,e.abrupt("return",{inputs:t,outputs:a});case 7:case"end":return e.stop()}}),e)}))));return Et({swr:a,revalidationPeriod:30}),a}function Zt(e){var t=ne(e),n=U.a.minimum(290304e5,new U.a(e.balance).minus(t).dividedBy(e.tokens_per_sec).toFixed()).toNumber(),a=Object(Tt.a)({start:0,end:1e3*n});(a.days||a.weeks||a.months||a.years)&&(a.seconds=0);var r=Object(Wt.a)(a,{locale:J}),s=new U.a(e.balance).plus(e.tokens_total_withdrawn),c=new U.a(e.tokens_total_withdrawn),i=c.plus(t),o=s.minus(i),l=[c.dividedBy(s).toNumber(),i.dividedBy(s).toNumber()],u={left:s.minus(i).dividedBy(s).toNumber(),streamed:i.dividedBy(s).toNumber(),withdrawn:c.dividedBy(s).toNumber(),available:t.dividedBy(s).toNumber()};return{progresses:l,isDead:te(e),percentages:u,timeLeft:r,progress:{full:s.toFixed(),withdrawn:c.toFixed(),streamed:i.toFixed(),left:o.toFixed(),available:t.toFixed()}}}var zt=n(14),Ut=["tokenAccountId","className"];function Yt(e){return Object(m.jsx)("svg",Object(Ne.a)(Object(Ne.a)({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20pt",height:"20pt",viewBox:"0 0 864.000000 864.000000",preserveAspectRatio:"xMidYMid meet"},e),{},{children:Object(m.jsx)("g",{transform:"translate(0.000000,864.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none",children:Object(m.jsx)("path",{d:"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z"})})}))}function Kt(e){return Object(m.jsx)("svg",Object(Ne.a)(Object(Ne.a)({version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"20pt",height:"20pt",viewBox:"0 0 864.000000 864.000000",preserveAspectRatio:"xMidYMid meet"},e),{},{children:Object(m.jsx)("g",{transform:"translate(0.000000,864.000000) scale(0.100000,-0.100000)",fill:"#FFFFFF",stroke:"none",children:Object(m.jsx)("path",{d:"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z"})})}))}var Jt={"wrap.testnet":Yt,"wrap.near":Yt};function Gt(e){var t,n,a=e.tokenAccountId,r=e.className,s=Object(zt.a)(e,Ut),c=null===(t=Re().tokens[a])||void 0===t||null===(n=t.meta)||void 0===n?void 0:n.icon;if(c)return Object(m.jsx)("img",Object(Ne.a)({src:c,alt:a,className:r},s));var i=a in Jt?Jt[a]:Kt;return Object(m.jsx)(i,Object(Ne.a)({className:r},s))}function Xt(e){var t=e.tokenAccountId,n=e.size,a=void 0===n?8:n,r=e.className;return Object(m.jsx)("div",{className:j()("p-1 flex-shrink-0 rounded-full bg-black inline-flex items-center justify-center","w-".concat(a," h-").concat(a),r),children:Object(m.jsx)(Gt,{className:"w-full h-full rounded-full",tokenAccountId:t})})}function Qt(e){var t,n=e.children,a=Re(),r=a.tokens,s=a.roketo,c=(qt().data||{}).inputs,i=(void 0===c?[]:c).filter(ee),o={},l=[],u=[],d=Object(Ht.a)(i);try{for(d.s();!(t=d.n()).done;){var j=t.value,b=j.token_account_id,h=ne(j);if("0"!==h.toFixed()&&u.push(j.id),o[b])o[b].available=o[b].available.plus(h);else{var p={available:h,tokenAccountId:b};l.push(p),o[b]=p}}}catch(x){d.e(x)}finally{d.f()}var f=l.map((function(e){var t=r[e.tokenAccountId],n=t.formatter,a=t.meta.symbol,s=n.amount(e.available.toFixed());return{tokenAccountId:e.tokenAccountId,amount:s,symbol:a}}));return Object(m.jsx)(Dt,{placement:"bottom",align:{offset:[0,20]},overlay:Object(m.jsxs)("div",{className:"text-left",children:[Object(m.jsx)("p",{className:"mb-4 text-gray",children:"Move all received tokens to your wallet."}),Object(m.jsxs)("div",{className:"text-left",children:[0!==f.length&&f.map((function(e){return Object(m.jsxs)("div",{className:"inline-flex items-center p-2 rounded-lg bg-card2 w-full mb-2",children:[Object(m.jsx)(Xt,{tokenAccountId:e.tokenAccountId,className:"mr-2"})," ",Object(m.jsxs)("div",{children:[Object(m.jsx)("span",{className:"font-semibold",children:e.amount})," ",Object(m.jsx)("span",{className:"text-gray",children:e.symbol})]})]},e.tokenAccountId)})),0===f.length&&Object(m.jsx)("p",{className:"font-semibold text-center",children:"You have nothing to withdraw"})]})]}),children:Object(m.jsx)(Vt,{onClick:function(){u.length>0&&s.api.withdraw({streamIds:u})},children:n})})}var $t,en=n(216),tn=n.n(en);!function(e){e.asc="ascending",e.desc="descending"}($t||($t={}));var nn=function(e){var t=e.width,n=void 0===t?24:t,a=e.height,r=void 0===a?24:a,s=e.type,c=void 0===s?$t.desc:s,i=e.className;return Object(m.jsx)("div",{className:j()(Object(oe.a)({},tn.a.rotate,c===$t.asc),i),children:Object(m.jsx)("svg",{width:n,height:r,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M3 18H9V16H3V18ZM3 6V8H21V6H3ZM3 13H15V11H3V13Z",fill:"#2B313B"})})})},an=n(93),rn=n.n(an);function sn(e){var t=e.active,n=e.label,a=e.value,r=e.onChange;return Object(m.jsxs)("label",{className:rn.a.root,children:[Object(m.jsx)("input",{type:"radio",className:"invisible w-0 h-0 absolute",checked:t,onChange:function(){return r(a)}}),Object(m.jsx)("div",{className:j()(rn.a.radio,Object(oe.a)({},rn.a.radioActive,t))}),Object(m.jsx)("div",{className:rn.a.text,children:n})]})}var cn=function(e){var t=e.width,n=void 0===t?8:t,a=e.height,r=void 0===a?6:a,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:n,height:r,viewBox:"0 0 8 6",fill:"none",children:Object(m.jsx)("path",{d:"M7.06 0.726562L4 3.7799L0.94 0.726562L0 1.66656L4 5.66656L8 1.66656L7.06 0.726562Z",fill:"currentColor"})})})},on=n(120),ln=n.n(on),un=["opened","className","children","onChange"];function dn(e){var t=e.opened,n=e.className,a=e.children,r=e.onChange,s=Object(zt.a)(e,un),c=j()(ln.a.arrow,Object(oe.a)({},ln.a.rotate,t));return Object(m.jsxs)("button",Object(Ne.a)(Object(Ne.a)({type:"button",onClick:function(){return r(!t)},className:j()(ln.a.root,n)},s),{},{children:[a,Object(m.jsx)(cn,{className:c})]}))}var jn=n(121),mn=n.n(jn),bn=["children","className"];function hn(e){var t=e.opened,n=e.children,a=e.className,s=e.onClose,c=r.a.useRef(null);return function(e,t){var n=function(n){var a=n.target;e.current&&a instanceof HTMLElement&&!e.current.contains(a)&&t()};r.a.useEffect((function(){return document.addEventListener("click",n),function(){document.removeEventListener("click",n)}}))}(c,(function(){t&&s()})),Object(m.jsx)("div",{ref:c,className:j()(mn.a.menu,Object(oe.a)({},mn.a.hidden,!t),a),children:n})}function pn(e){var t=e.children,n=e.className,a=Object(zt.a)(e,bn);return Object(m.jsx)("div",Object(Ne.a)(Object(Ne.a)({className:n},a),{},{children:t}))}function fn(){return Object(m.jsx)("div",{className:mn.a.menuDivider})}var xn=n(122),vn=n.n(xn);function On(e){var t=e.count,n=e.option;return Object(m.jsxs)("span",{children:[n," ",Object(m.jsx)("span",{className:"text-gray font-normal",children:t})]})}function _n(e){var t=e.label,n=e.options,r=e.renderOption,s=e.renderActive,c=e.active,i=e.onChange,o=e.className,l=Object(a.useState)(!1),u=Object(O.a)(l,2),d=u[0],b=u[1];return Object(m.jsxs)("div",{className:j()(vn.a.root,o),children:[t&&Object(m.jsx)("div",{className:"text-gray mr-2",children:t}),Object(m.jsxs)("div",{className:vn.a.dropdownWrapper,children:[Object(m.jsx)(dn,{opened:d,onChange:b,children:s?s(c):c}),Object(m.jsx)(hn,{opened:d,className:vn.a.dropdownMenu,onClose:function(){b(!1)},children:n.map((function(e){return Object(m.jsx)(sn,{label:r?r(e,c===e):e,active:c===e,value:e,onChange:i})}))})]})]})}var wn,gn=n(123),yn=n.n(gn),Nn=function(e){var t=e.directions,n=e.activeDirection,a=e.onDirectionClick;return Object(m.jsx)("div",{className:yn.a.root,children:t.map((function(e){return Object(m.jsx)(Vt,{className:j()(yn.a.sort,Object(oe.a)({},yn.a.active,e===n)),onClick:function(){return a(e)},children:e},e)}))})};function kn(e){var t=e.options,n=Object(a.useMemo)((function(){return Object.keys(t)}),[t]),r=Object(a.useState)(n[0]),s=Object(O.a)(r,2),c=s[0],i=s[1];return Object(a.useMemo)((function(){var e=t[c];return{option:c,selectOption:i,options:t,optionsArray:n,currentFilterFunction:e}}),[t,c,n])}var Cn="All",Sn="Incoming",Mn="Outgoing",In=(wn={ALL:"All"},Object(oe.a)(wn,X,"Active"),Object(oe.a)(wn,Q,"Paused"),Object(oe.a)(wn,$,"Finished"),wn);function Ln(e){var t=Re().auth,n=Object(a.useMemo)((function(){var e;return e={},Object(oe.a)(e,In.ALL,(function(){return!0})),Object(oe.a)(e,In[X],(function(e){return e.status===X})),Object(oe.a)(e,In[Q],(function(e){return e.status===Q})),Object(oe.a)(e,In[$],te),e}),[]),r=Object(a.useMemo)((function(){var e;return e={},Object(oe.a)(e,Cn,(function(){return!0})),Object(oe.a)(e,Sn,(function(e){return t.accountId===e.receiver_id})),Object(oe.a)(e,Mn,(function(e){return t.accountId===e.owner_id})),e}),[t.accountId]),s=kn({options:n}),c=kn({options:r}),i=function(e){var t=e.items,n=e.filters,r=Object(a.useState)(void 0),s=Object(O.a)(r,2),c=s[0],i=s[1],o=Object(a.useState)([]),l=Object(O.a)(o,2),u=l[0],d=l[1];return Object(a.useEffect)((function(){var e=t,a=[];n.forEach((function(t){var n={};Object.keys(t.options).forEach((function(a){var r;n[a]=null===(r=e)||void 0===r?void 0:r.filter(t.options[a])}));var r={};Object.keys(n).forEach((function(e){r[e]=(n[e]||[]).length})),a.push(r),e=n[t.option]})),d(a),i(e)}),[t,n]),{filterCounts:u,filteredItems:c}}({items:e,filters:Object(a.useMemo)((function(){return[c,s]}),[c,s])});return{statusFilter:s,directionFilter:c,result:i}}var An=n(157),Bn=n.n(An);function Vn(e,t,n){return Number(t[n])-Number(e[n])}var Hn={bigBalanceFirst:{label:"With big balances",order:$t.desc,fn:function(e,t){return Vn(e,t,"balance")}},highSpeedFirst:{label:"With high speed",order:$t.desc,fn:function(e,t){return Vn(e,t,"tokens_per_sec")}},highSpeedLast:{label:"With low speed",order:$t.asc,fn:function(e,t){return-1*Vn(e,t,"tokens_per_sec")}},mostRecent:{label:"Most recent",order:$t.desc,fn:function(e,t){return Vn(e,t,"timestamp_created")}}};function Fn(e){var t=e.items,n=e.onFilterDone,r=e.className,s=Ln(t),c=s.result.filteredItems,i=Object(a.useState)(Hn.mostRecent),o=Object(O.a)(i,2),l=o[0],u=o[1],d=Object.values(Hn);return Object(a.useEffect)((function(){if(c){var e=Object(St.a)(c);e.sort(l.fn),n(e)}else n(c)}),[c,n,l.fn]),Object(m.jsxs)("div",{className:j()("md:flex",r),children:[Object(m.jsx)(Nn,{directions:s.directionFilter.optionsArray,activeDirection:s.directionFilter.option,onDirectionClick:s.directionFilter.selectOption}),Object(m.jsx)("div",{className:"flex-grow"}),Object(m.jsxs)("div",{className:Bn.a.filtersWrapper,children:[Object(m.jsx)(_n,{options:s.statusFilter.optionsArray,label:"Status:",active:s.statusFilter.option,onChange:s.statusFilter.selectOption,renderOption:function(e){var t=s.result.filterCounts[1];return Object(m.jsx)(On,{option:e,count:t?t[e]:""})}}),Object(m.jsx)(_n,{options:d,label:"Show first:",active:l,onChange:u,renderOption:function(e){return Object(m.jsx)("span",{children:e.label})},renderActive:function(e){return Object(m.jsxs)("div",{className:Bn.a.sortWithOrder,children:[e.order&&Object(m.jsx)(nn,{type:e.order}),Object(m.jsx)("span",{children:e.label})]})}})]})]})}var Rn=n(47),Pn=function(e){var t=e.width,n=void 0===t?20:t,a=e.height,r=void 0===a?20:a,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:n,height:r,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z",fill:"#D80A1F"})})})},Dn=n(75),Tn=n.n(Dn),Wn=["children","isRequired","label","description","error","className"],En=function(e){var t=e.children,n=e.isRequired,a=void 0!==n&&n,r=e.label,s=e.description,c=e.error,i=e.className,o=Object(zt.a)(e,Wn);return Object(m.jsxs)("div",Object(Ne.a)(Object(Ne.a)({className:j()(Tn.a.root,i)},o),{},{children:[r&&Object(m.jsx)("label",{className:j()(Tn.a.label,Object(oe.a)({},Tn.a.required,a)),children:r}),t,s&&Object(m.jsx)("div",{className:Tn.a.description,children:s}),c&&Object(m.jsx)("div",{className:Tn.a.error,children:c})]}))},qn=n(158),Zn=n.n(qn),zn=["className","hasError"],Un=function(e){var t=e.className,n=e.hasError,a=void 0!==n&&n,r=Object(zt.a)(e,zn);return Object(m.jsx)("input",Object(Ne.a)({className:j()(Zn.a.input,Object(oe.a)({},Zn.a.error,a),t)},r))},Yn=["placeholder","description","isRequired","className","field","form","label"],Kn=function(e){var t=e.placeholder,n=e.description,a=e.isRequired,r=e.className,s=e.field,c=e.form,i=e.label,o=Object(zt.a)(e,Yn),l=c.errors[s.name];return Object(m.jsx)(En,{isRequired:a,className:r,description:n,label:i,error:l,children:Object(m.jsx)(Un,Object(Ne.a)(Object(Ne.a)({required:a,hasError:Boolean(l),placeholder:t},s),o))})},Jn=n(159),Gn=n.n(Jn),Xn=["className","hasError"],Qn=function(e){var t=e.className,n=e.hasError,a=void 0!==n&&n,r=Object(zt.a)(e,Xn);return Object(m.jsx)("textarea",Object(Ne.a)({className:j()(Gn.a.textarea,Object(oe.a)({},Gn.a.error,a),t)},r))},$n=n(160),ea=n.n($n),ta=["placeholder","description","isRequired","className","maxLength","field","label","form"],na=function(e){var t,n=e.placeholder,a=e.description,r=e.isRequired,s=e.className,c=e.maxLength,i=e.field,o=e.label,l=e.form,u=Object(zt.a)(e,ta),d=l.errors[i.name];return Object(m.jsxs)(En,{isRequired:r,className:j()(ea.a.formfield,s),description:a,label:o,error:d,children:[Object(m.jsx)(Qn,Object(Ne.a)(Object(Ne.a)({required:r,hasError:Boolean(d),placeholder:n,maxLength:c},i),u)),c&&Object(m.jsx)("span",{className:ea.a.textLimitCounter,children:"".concat((null===i||void 0===i||null===(t=i.value)||void 0===t?void 0:t.length)||0,"/").concat(c)})]})},aa=n(94),ra=n.n(aa),sa=["description","className","hasError"],ca=function(e){var t=e.description,n=e.className,a=e.hasError,r=void 0!==a&&a,s=Object(zt.a)(e,sa);return Object(m.jsxs)("div",{className:j()(ra.a.root,n),children:[Object(m.jsx)("input",Object(Ne.a)({type:"checkbox",className:j()(ra.a.checkbox,Object(oe.a)({},ra.a.error,r))},s)),t&&Object(m.jsx)("span",{className:ra.a.description,children:t})]})},ia=["description","isRequired","className","label","field","form"],oa=function(e){var t=e.description,n=e.isRequired,a=e.className,r=e.label,s=e.field,c=e.form,i=Object(zt.a)(e,ia),o=c.errors[s.name];return Object(m.jsx)(En,{isRequired:n,className:a,label:r,error:o,children:Object(m.jsx)(ca,Object(Ne.a)(Object(Ne.a)({description:t,required:n,hasError:Boolean(o)},s),i))})};var la=/^[0-9]+$/,ua=n(48),da=n(225),ja=n(215),ma=n(55),ba=n.n(ma),ha=function(e){var t=e.className,n=e.value,a=e.onChange,r=e.label;return Object(m.jsxs)("div",{className:j()(ba.a.speedInput,t),children:[Object(m.jsx)(Un,{placeholder:"0",value:n,onChange:a,className:ba.a.input}),Object(m.jsx)("label",{className:ba.a.label,children:r})]})},pa=function(e){var t=e.form,n=e.field,r=e.label,s=e.deposit,c=e.className,i=e.isRequired,o=e.description,l=e.onSpeedChange,u=e.tokenAccountId,d=Re().tokens[u],b=d.formatter,h=t.errors[n.name],p=n.value,f=Object(a.useState)(0),x=Object(O.a)(f,2),v=x[0],_=x[1],w=Object(a.useState)(0),g=Object(O.a)(w,2),y=g[0],N=g[1],k=Object(a.useState)(0),C=Object(O.a)(k,2),S=C[0],M=C[1],I=Object(a.useState)(0),L=Object(O.a)(I,2),A=L[0],B=L[1],V=b.toYocto(s),H=function(e,t,n,a){return(Object(da.a)(Object(ja.a)(new Date,e),new Date)+t)*me+a*de+n*je}(v,y,A,S),F=function(e,t){var n=new U.a(e).dividedToIntegerBy(t).toFixed();return"Infinity"!==n&&"NaN"!==n?n:"0"}(V,H),R=function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){t.current=e}),[e]),t.current}(F);Object(a.useEffect)((function(){R!==F&&l(F)}),[F,l,R]);var P=function(e){return function(t){var n,a=t.target.value||"0";n=a,la.test(n)&&e(Number(a))}},D=function(e,t){if(e<=0)return"none";var n=t.formatter,a=t.meta,r=n.tokensPerMeaningfulPeriod(e),s=r.formattedValue,c=r.unit;return"".concat(s," ").concat(a.symbol," / ").concat(c)}(p,d),T=Object(m.jsxs)("div",{className:ba.a.formLabel,children:[r,Object(m.jsx)("span",{className:j()(ba.a.speed,ba.a.label),children:"Streaming speed: ".concat(D)})]});return Object(m.jsx)(En,{isRequired:i,className:c,description:o,label:T,error:h,children:Object(m.jsxs)("div",{className:ba.a.wrapper,children:[Object(m.jsx)(ha,{value:v,onChange:P(_),label:"Months"}),Object(m.jsx)(ha,{value:y,onChange:P(N),label:"Days"}),Object(m.jsx)(ha,{value:A,onChange:P(B),label:"Hours"}),Object(m.jsx)(ha,{value:S,onChange:P(M),label:"Minutes"})]})})},fa=n(76),xa=n.n(fa),va=function(e){var t=e.token,n=e.onClick,a=e.className;return Object(m.jsxs)("button",{type:"button",className:j()(xa.a.tokenOption,a),onClick:n,children:[Object(m.jsx)(Xt,{tokenAccountId:t.roketoMeta.account_id}),Object(m.jsx)("span",{children:"".concat(t.meta.name,", ").concat(t.meta.symbol)})]})},Oa=function(e){var t=e.form,n=e.label,r=e.field,s=e.className,c=e.isRequired,i=e.description,o=e.onTokenChoose,l=e.activeTokenAccountId,u=Re().tokens,d=Object(a.useState)(!1),j=Object(O.a)(d,2),b=j[0],h=j[1],p=Object.values(u),f=u[l],x=t.errors[r.name];return Object(m.jsx)(En,{isRequired:c,className:s,description:i,label:n,error:x,children:Object(m.jsxs)("div",{className:xa.a.dropdownWrapper,children:[Object(m.jsx)(dn,{onChange:h,className:xa.a.dropdownOpener,opened:b,children:Object(m.jsx)(va,{token:f})}),Object(m.jsx)(hn,{opened:b,onClose:function(){return h(!1)},className:xa.a.dropdownMenu,children:p.map((function(e){return Object(m.jsx)(va,{token:e,onClick:function(){return function(e){h(!1),o(e.roketoMeta.account_id)}(e)},className:xa.a.withHover})}))})]})})},_a=function(e){var t=e.tokenAccountId,n=e.className,a=Re().tokens[t],r=a.meta,s=a.formatter,c=a.roketoMeta;return r&&Object(m.jsx)("div",{className:n,children:"You will be charged \n        ".concat(s.amount(c.commission_on_create)," \n        ").concat(r.symbol," fee for that stream")})},wa={receiver:"",streamName:"",token:F,speed:0,deposit:0,autoStart:!0,comment:""},ga=n(30),ya=n.n(ga),Na=function(e){var t=e.children,n=e.className;return Object(m.jsx)("div",{className:j()(ya.a.row,n),children:t})},ka=function(e){var t=e.error;return Object(m.jsxs)("div",{className:ya.a.submitError,children:[Object(m.jsx)(Pn,{}),Object(m.jsx)("span",{children:t})]})},Ca=function(e){var t=e.onFormCancel,n=e.onFormSubmit,r=Re(),s=r.near,c=r.auth,i=Object(a.useState)(null),o=Object(O.a)(i,2),l=o[0],u=o[1],d=function(e,t){return ua.c().shape({receiver:ua.d().required("Receiver is a required").test("receiver-not-equal-owner","Receiver can not be the same as owner",(function(e){return e!==t})).test("receiver-is-valida-address","Address does not exists",function(){var t=Object(y.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,t.t0=Boolean,t.t1=n,!t.t1){t.next=7;break}return t.next=6,e.connection.provider.query({request_type:"view_account",finality:"final",account_id:n});case 6:t.t1=t.sent;case 7:return t.t2=t.t1,t.abrupt("return",(0,t.t0)(t.t2));case 11:return t.prev=11,t.t3=t.catch(0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()),streamName:ua.d().max(100,"Stream name must be less or equal 100 symbols"),token:ua.d().required(),deposit:ua.b().required().moreThan(0,"Deposit should be more than 0"),speed:ua.b().required().moreThan(0,"Choose stream duration"),autoStart:ua.a(),comment:ua.d().max(255)})}(s,c.accountId);return Object(m.jsxs)("div",{className:ya.a.root,children:[Object(m.jsx)("h2",{className:ya.a.title,children:"Create Stream"}),Object(m.jsx)("p",{className:ya.a.description,children:"Stream your tokens to the receiver directly"}),Object(m.jsx)(Rn.b,{initialValues:wa,onSubmit:function(e){n(e).catch((function(e){return u(e)}))},validationSchema:d,validateOnBlur:!1,validateOnChange:!1,validateOnMount:!1,children:function(e){var n=e.values,a=e.handleSubmit,r=e.setFieldValue,s=e.setFieldTouched,c=n.token;return Object(m.jsxs)("form",{onSubmit:a,className:ya.a.form,children:[Object(m.jsxs)(Na,{children:[Object(m.jsx)(Rn.a,{name:"streamName",label:"Stream name:",component:Kn,placeholder:"Stream name",className:ya.a.rowItem}),Object(m.jsx)(Rn.a,{isRequired:!0,name:"receiver",label:"Receiver:",component:Kn,placeholder:"receiver.".concat(S),className:ya.a.rowItem})]}),Object(m.jsxs)(Na,{children:[Object(m.jsx)(Rn.a,{isRequired:!0,name:"deposit",label:"Amount to stream:",component:Kn,placeholder:"Amount to stream",className:ya.a.rowItem,description:Object(m.jsx)(jt,{tokenAccountId:c,mode:Ke.CRYPTO})}),Object(m.jsx)(Rn.a,{isRequired:!0,name:"token",label:"Token",activeTokenAccountId:n.token,onTokenChoose:function(e){r("token",e,!1),s("token",!0,!1)},component:Oa,className:ya.a.rowItem})]}),Object(m.jsx)(Na,{children:Object(m.jsx)(Rn.a,{tokenAccountId:c,isRequired:!0,name:"speed",label:"Stream duration:",deposit:n.deposit,component:pa,onSpeedChange:function(e){r("speed",e,!1),s("speed",!0,!1)},className:ya.a.rowItem})}),Object(m.jsx)(Na,{children:Object(m.jsx)(Rn.a,{maxLength:255,name:"comment",label:"Comment:",placeholder:"Enter comment",component:na,className:ya.a.rowItem})}),Object(m.jsx)(Na,{children:Object(m.jsx)(Rn.a,{name:"autoStart",description:"Start stream immediately",type:"checkbox",component:oa,className:ya.a.rowItem})}),Object(m.jsx)(Na,{children:Object(m.jsx)(_a,{tokenAccountId:c,className:ya.a.feeDisclaimer})}),Object(m.jsxs)("div",{className:ya.a.actionButtonsWrapper,children:[l&&Object(m.jsx)(ka,{error:l.message}),Object(m.jsx)(Vt,{displayMode:Ct.simple,onClick:t,children:"Cancel"}),Object(m.jsx)(Vt,{type:kt.submit,displayMode:Ct.action,children:"Create"})]})]})}})]})},Sa=function(e,t){var n=new U.a(e),a=new U.a(t);return n.isEqualTo(0)||a.isEqualTo(0)?new U.a(0):n.dividedBy(a).multipliedBy(100)},Ma=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Sa(e,t).dp(n)},Ia=n(77),La=n.n(Ia),Aa=function(e){var t=e.total,n=e.streamed,a=e.withdrawn,r=e.className,s=Ma(n,t),c=Ma(a,n);return Object(m.jsx)("div",{className:j()(La.a.progressBar,r),children:Object(m.jsx)("div",{className:j()(La.a.progress,La.a.streamed),style:{width:"".concat(s,"%")},children:Object(m.jsx)("div",{className:j()(La.a.progress,La.a.withdrawn),style:{width:"".concat(c,"%")}})})})},Ba=n(124),Va=n.n(Ba),Ha=function(e){var t=e.title,n=e.total,a=e.streamed,r=e.withdrawn,s=e.withProgressBar,c=void 0===s||s,i=a?"$ ".concat(a," of ").concat(n):"".concat(n," $");return Object(m.jsxs)("div",{className:Va.a.card,children:[Object(m.jsx)("h3",{className:Va.a.title,children:t}),Object(m.jsx)("span",{className:Va.a.finance,children:i}),c&&Object(m.jsx)(Aa,{total:n,streamed:a||0,withdrawn:r||0})]})},Fa=new U.a(0),Ra=function(e,t,n){var a={total:Fa,streamed:Fa,withdrawn:Fa},r=e.reduce((function(e,a){var r=a.token_account_id,s=t[r].formatter,c=Zt(a).progress,i=s.toHumanReadableValue(c.streamed,3),o=n.getPriceInUsd(r,i),l=s.toHumanReadableValue(c.full,3),u=n.getPriceInUsd(r,l),d=s.toHumanReadableValue(c.withdrawn,3),j=n.getPriceInUsd(r,d);return{total:e.total.plus(u),streamed:e.streamed.plus(o),withdrawn:e.withdrawn.plus(j)}}),a);return{total:Number(r.total.toFixed(0)),streamed:Number(r.streamed.toFixed(0)),withdrawn:Number(r.withdrawn.toFixed(0))}},Pa=n(222),Da=n.n(Pa),Ta=function(e){var t=e.className,n=Re(),a=n.tokens,r=n.priceOracle,s=qt().data||{},c=s.inputs,i=void 0===c?[]:c,o=s.outputs,l=void 0===o?[]:o,u=i.filter(ee),d=l.filter(ee),b=Ra(d,a,r),h=Ra(u,a,r),p=function(e,t,n){var a=e.reduce((function(e,a){var r=a.token_account_id,s=t[r].formatter,c=ne(a).toFixed(),i=s.toHumanReadableValue(c,3),o=n.getPriceInUsd(r,i);return e.plus(o)}),Fa);return Number(a.toFixed(0))}(u,a,r);return Object(m.jsxs)("section",{className:j()(Da.a.root,t),children:[Object(m.jsx)(Ha,{title:"Sending",total:b.total,streamed:b.streamed,withdrawn:b.withdrawn}),Object(m.jsx)(Ha,{title:"Receiving",total:h.total,streamed:h.streamed,withdrawn:h.withdrawn}),Object(m.jsx)(Ha,{title:"Available for withdrawal",total:p,withProgressBar:!1})]})},Wa="in",Ea="out";function qa(e){var t=Re().auth;return e.receiver_id===t.accountId?Wa:Ea}var Za=n(125),za=n.n(Za),Ua=function(e){var t=e.name,n=e.label;return Object(m.jsxs)("div",{className:za.a.flexCenter,children:[Object(m.jsx)("span",{className:za.a.name,children:t}),n&&Object(m.jsx)("span",{className:za.a.nameLabel,children:n})]})};function Ya(e){var t=e.className;return Object(m.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",className:t,children:Object(m.jsx)("path",{d:"M8.99169 0.666504C4.39169 0.666504 0.666687 4.39984 0.666687 8.99984C0.666687 13.5998 4.39169 17.3332 8.99169 17.3332C13.6 17.3332 17.3334 13.5998 17.3334 8.99984C17.3334 4.39984 13.6 0.666504 8.99169 0.666504ZM9.00002 15.6665C5.31669 15.6665 2.33335 12.6832 2.33335 8.99984C2.33335 5.3165 5.31669 2.33317 9.00002 2.33317C12.6834 2.33317 15.6667 5.3165 15.6667 8.99984C15.6667 12.6832 12.6834 15.6665 9.00002 15.6665ZM9.41669 4.83317H8.16669V9.83317L12.5417 12.4582L13.1667 11.4332L9.41669 9.20817V4.83317Z",fill:"black"})})}var Ka,Ja=n(25),Ga=n.n(Ja),Xa={points:["tl","bc"],offset:[-24,10]},Qa=function(e){var t=e.stream,n=t.token_account_id,a=t.tokens_per_sec,r=Zt(t),s=r.progress,c=r.timeLeft,i=dt(n),o=i.formatter,l=i.meta.symbol,u=Number(o.toHumanReadableValue(s.streamed,3)),d=Number(o.toHumanReadableValue(s.withdrawn,3)),b=Number(o.toHumanReadableValue(s.full,3)),h=xe.formatSmartly(u),p="".concat((u/b*100).toFixed(1),"%"),f="".concat(h," of ").concat(b),x=o.tokensPerMeaningfulPeriod(a),v=x.formattedValue,O=x.unit;return Object(m.jsx)(Ft.a,{overlayClassName:Ga.a.overlay,destroyTooltipOnHide:!0,align:Xa,placement:"bottom",overlay:Object(m.jsxs)("div",{className:j()(Ga.a.tooltip,Ga.a.text),children:[Object(m.jsxs)("div",{className:Ga.a.innerStatus,children:[f," ",Object(m.jsx)("span",{className:j()(Ga.a.grey,Ga.a.smaller),children:l})]}),Object(m.jsx)(Aa,{total:b,streamed:u,withdrawn:d}),Object(m.jsxs)("div",{className:j()(Ga.a.status,Ga.a.speed),children:[v," ",Object(m.jsxs)("span",{className:j()(Ga.a.grey,Ga.a.smaller),children:[l," / ",O]})]}),c&&Object(m.jsxs)("div",{className:Ga.a.remained,children:[Object(m.jsx)(Ya,{className:Ga.a.clock}),c]}),Object(m.jsxs)("div",{className:Ga.a.streamed,children:["Streamed: ",h," ",Object(m.jsxs)("span",{className:j()(Ga.a.grey,Ga.a.smaller),children:["(",p,")"]})]})]}),children:Object(m.jsxs)("div",{className:j()(Ga.a.root,Ga.a.text),children:[Object(m.jsxs)("div",{className:Ga.a.status,children:[f,Object(m.jsx)("span",{className:Ga.a.grey,children:l})]}),Object(m.jsx)(Aa,{total:b,streamed:u,withdrawn:d})]})})},$a=n(71),er=n.n($a),tr=function(e){var t=e.width,n=void 0===t?10:t,a=e.height,r=void 0===a?20:a,s=e.className;return Object(m.jsx)("div",{className:s,children:Object(m.jsx)("svg",{width:n,height:r,viewBox:"0 0 10 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M10 15L10 11L8 11L8 15C8 16.65 6.65 18 5 18C3.35 18 2 16.65 2 15L2 11L-4.80825e-07 11L-6.55671e-07 15C-7.76314e-07 17.76 2.24 20 5 20C7.76 20 10 17.76 10 15ZM2 9L2 5C2 3.35 3.35 2 5 2C6.65 2 8 3.35 8 5L8 9L10 9L10 5C10 2.24 7.76 -9.79135e-08 5 -2.18557e-07C2.24 -3.392e-07 -9.79135e-08 2.24 -2.18557e-07 5L-3.93402e-07 9L2 9ZM6 6L6 14L4 14L4 6L6 6Z",fill:"black"})})})};function nr(e){var t=e.stream,n=Re(),a=n.tokens,r=n.roketo,s=ne(t),c=a[t.token_account_id].formatter.amount(s.toFixed());return Object(m.jsx)(Vt,{disabled:0===Number(c),type:kt.button,displayMode:Ct.primary,onClick:function(e){e.preventDefault(),r.api.withdraw({streamIds:[t.id]})},children:"Withdraw"})}var ar=(Ka={},Object(oe.a)(Ka,G,{label:"Initialized"}),Object(oe.a)(Ka,X,{label:"Active"}),Object(oe.a)(Ka,Q,{label:"Paused"}),Object(oe.a)(Ka,$,{label:"Finished"}),Ka);function rr(e){var t=e.stream,n=e.className,a="string"===typeof t.status?ar[t.status]:ar[$];return Object(m.jsx)("div",{className:j()(n),children:a.label})}var sr=n(16),cr=n.n(sr);function ir(){return Object(m.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object(m.jsx)("path",{d:"M1.66634 2.76016L5.17968 5.00016L1.66634 7.24016V2.76016ZM0.333008 0.333496V9.66683L7.66634 5.00016L0.333008 0.333496Z",fill:"currentColor"})})}function or(){return Object(m.jsx)("svg",{width:"8",height:"10",viewBox:"0 0 8 10",fill:"none",children:Object(m.jsx)("path",{d:"M0 9.66659H2.66667V0.333252H0V9.66659ZM5.33333 0.333252V9.66659H8V0.333252H5.33333Z",fill:"currentColor"})})}function lr(){return Object(m.jsx)("svg",{width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",children:Object(m.jsx)("path",{d:"M6.66667 1.33333V6.66667H1.33333V1.33333H6.66667ZM8 0H0V8H8V0Z",fill:"currentColor"})})}function ur(e){var t=e.modalControl,n=e.onConfirm;return Object(m.jsxs)(o.a,{isOpen:t.on,onRequestClose:t.turnOff,className:cr.a.modalContent,overlayClassName:cr.a.modalOverlay,children:[Object(m.jsx)("h2",{className:cr.a.modalHeader,children:"Are you sure?"}),Object(m.jsx)("p",{children:"As a stream receiver, you will not be able to resume stream. Only stream owners can resume streams."}),Object(m.jsxs)("div",{className:cr.a.modalButtons,children:[Object(m.jsx)("button",{type:"button",onClick:t.turnOff,className:j()(cr.a.modalButton,cr.a.modalSecondary),children:"Cancel"}),Object(m.jsx)("button",{type:"button",onClick:function(){t.turnOff(),n()},className:j()(cr.a.modalButton,cr.a.modalWarning),children:"Pause"})]})]})}function dr(e){var t=e.modalControl,n=e.onConfirm;return Object(m.jsxs)(o.a,{isOpen:t.on,onRequestClose:t.turnOff,className:cr.a.modalContent,overlayClassName:cr.a.modalOverlay,children:[Object(m.jsx)("h2",{className:cr.a.modalHeader,children:"Stop stream"}),Object(m.jsx)("p",{children:"This action will completely shut down the stream. After that, it can't be turned on."}),Object(m.jsxs)("div",{className:cr.a.modalButtons,children:[Object(m.jsx)("button",{type:"button",onClick:t.turnOff,className:j()(cr.a.modalButton,cr.a.modalSecondary),children:"Cancel"}),Object(m.jsx)("button",{type:"button",onClick:function(){t.turnOff(),n()},className:j()(cr.a.modalButton,cr.a.modalDanger),children:"Stop"})]})]})}function jr(e){var t=e.stream,n=e.className,r=Re(),s=r.auth,c=r.roketo,i=_(!1),o=_(!1),l=Object(a.useState)(!1),u=Object(O.a)(l,2),d=u[0],b=u[1],h=Object(a.useState)(!1),p=Object(O.a)(h,2),f=p[0],x=p[1],v=s.accountId===t.owner_id,w=s.accountId===t.receiver_id,g=!v&&!w,N=function(){var e=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,c.api.pauseStream({streamId:t.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,c.api.startStream({streamId:t.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.next=3,c.api.stopStream({streamId:t.id});case 3:b(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(te(t)||g)return Object(m.jsx)(rr,{className:n,stream:t});var M=f&&!d,I=t.status!==X&&v,L=t.status!==Q;return Object(m.jsxs)("div",{className:j()(cr.a.relative,n),children:[Object(m.jsx)(ur,{modalControl:i,onConfirm:N}),Object(m.jsx)(dr,{modalControl:o,onConfirm:S}),Object(m.jsx)(dn,{opened:M,onChange:x,className:cr.a.dropdownOpener,children:d?"Loading...":Object(m.jsx)(rr,{stream:t,className:cr.a.statusPadded})}),Object(m.jsxs)(hn,{onClose:function(){return x(!1)},opened:M,className:cr.a.controlsMenu,children:[I&&Object(m.jsx)(pn,{children:Object(m.jsxs)("button",{type:"button",onClick:C,className:j()(cr.a.controlButton,cr.a.start),children:[Object(m.jsx)(ir,{}),Object(m.jsx)("span",{children:"Start"})," "]})}),L&&Object(m.jsx)(pn,{children:Object(m.jsxs)("button",{type:"button",onClick:function(){x(!1),w?i.turnOn():N()},className:j()(cr.a.controlButton,cr.a.pause),children:[Object(m.jsx)(or,{}),Object(m.jsx)("span",{children:"Pause"})]})}),(I||L)&&Object(m.jsx)(fn,{}),Object(m.jsx)(pn,{children:Object(m.jsxs)("button",{type:"button",onClick:function(){x(!1),o.turnOn()},className:j()(cr.a.controlButton,cr.a.stop),children:[Object(m.jsx)(lr,{}),Object(m.jsx)("span",{children:"Stop"})]})})]})]})}var mr=n(162),br=n.n(mr),hr=function(e){var t=e.onCLick;return Object(m.jsx)("button",{className:br.a.linkButton,type:"button",onClick:t,children:Object(m.jsx)(tr,{})})},pr=function(e){var t=e.className,n=e.stream,r=n.id,s=Object(a.useCallback)((function(e){e.preventDefault();var t=x(r);er()(t)}),[r]),c=qa(n)===Wa&&ee(n);return Object(m.jsxs)("div",{className:j()(br.a.root,t),children:[c&&Object(m.jsx)(nr,{stream:n}),Object(m.jsx)(jr,{stream:n}),Object(m.jsx)(hr,{onCLick:s})]})},fr=n(95),xr=n.n(fr),vr=function(e){var t=e.stream,n=e.className,a=t.id,r=t.description,s=qa(t)===Wa,c=s?t.owner_id:t.receiver_id,i=s?void 0:"Send",o=Object(u.f)(f.stream.path,{id:a});return Object(m.jsxs)("div",{className:j()(xr.a.root,xr.a.flexCenter,n),children:[Object(m.jsx)(l.b,{to:o,children:Object(m.jsx)(Ua,{name:c,label:i})}),Object(m.jsx)(Qa,{stream:t}),Object(m.jsx)(l.b,{to:o,className:"col-span-2 grow-0",children:Object(m.jsx)("p",{className:xr.a.description,children:r})}),Object(m.jsx)(pr,{stream:t,className:j()(xr.a.controls,"col-span-2 grow-0")})]})},Or=n(56),_r=n.n(Or),wr=function(e){var t=e.children;return Object(m.jsx)("div",{className:_r.a.emptyState,children:t})},gr=function(e){var t=e.className,n=e.displayingStreams,a=e.onCreateStreamClick,r=qt().data,s=r||{},c=s.inputs,i=void 0===c?[]:c,o=s.outputs,l=void 0===o?[]:o,u=[].concat(Object(St.a)(i),Object(St.a)(l)).length,d=null===n||void 0===n?void 0:n.length;return Object(m.jsxs)("section",{className:j()(_r.a.flexColumn,t),children:[Object(m.jsxs)("div",{className:j()(_r.a.withPaddings,"grid grid-cols-6 gap-x-10"),children:[Object(m.jsx)("h3",{className:_r.a.title,children:"Name"}),Object(m.jsx)("h3",{className:_r.a.title,children:"Amount to stream"}),Object(m.jsx)("h3",{className:_r.a.title,children:"Comment"})]}),!r&&Object(m.jsx)(wr,{children:Object(m.jsx)("div",{children:"Loading..."})}),r&&0===u&&Object(m.jsxs)(wr,{children:[Object(m.jsx)("div",{children:"You dont have any streams yet."}),Object(m.jsx)(Vt,{onClick:a,children:"Create First Stream"})]}),r&&0!==u&&0===d&&Object(m.jsx)(wr,{children:Object(m.jsx)("div",{children:"No streams matching your filters. Try selecting different ones"})}),null===n||void 0===n?void 0:n.map((function(e){return Object(m.jsx)(vr,{stream:e,className:j()(_r.a.withPaddings,"grid grid-cols-6 gap-x-10")},e.id)}))]})},yr=n(46),Nr=n.n(yr),kr=Object(u.f)(f.myStreams.path),Cr="".concat(window.location.origin,"/#/").concat(kr),Sr=function(){var e=Re(),t=e.roketo,n=e.tokens,r=qt().data||{},s=r.inputs,c=r.outputs,i=Object(a.useMemo)((function(){return(s||c)&&[].concat(Object(St.a)(s||[]),Object(St.a)(c||[]))}),[s,c]),o=Object(a.useState)([]),l=Object(O.a)(o,2),u=l[0],d=l[1],b=Object(a.useState)(!1),h=Object(O.a)(b,2),p=h[0],f=h[1],x=Object(a.useCallback)((function(){return f(!p)}),[f,p]),v=function(){var e=Object(y.a)(k.a.mark((function e(a){var r,s,c,i,o,l,u,d,j,m;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.receiver,s=a.autoStart,c=a.comment,i=a.deposit,o=a.speed,l=a.token,u=n[l],d=u.formatter,j=u.api,m=u.roketoMeta,e.next=4,t.api.createStream({deposit:d.toYocto(i),description:c,receiverId:r,tokenAccountId:l,commissionOnCreate:m.commission_on_create,tokensPerSec:o,isAutoStart:s,callbackUrl:Cr,handleTransferStream:j.transfer});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("div",{className:Nr.a.root,children:Object(m.jsxs)(at,{children:[Object(m.jsxs)("section",{className:j()(Nr.a.flex,Nr.a.spaceBetween),children:[Object(m.jsx)("h1",{className:Nr.a.title,children:"Streams"}),Object(m.jsxs)("div",{className:j()(Nr.a.flex,Nr.a.buttonsWrapper),children:[Object(m.jsx)(Qt,{children:"Withdraw tokens"}),Object(m.jsx)(Vt,{onClick:x,children:"Create stream"}),Object(m.jsx)(Lt,{isOpen:p,onCloseModal:x,children:Object(m.jsx)(Ca,{onFormCancel:x,onFormSubmit:v})})]})]}),Object(m.jsx)(Ta,{className:Nr.a.section}),Object(m.jsx)(Fn,{items:i,onFilterDone:d}),Object(m.jsx)(gr,{displayingStreams:u,className:Nr.a.section,onCreateStreamClick:x})]})})};function Mr(e){var t=e.tokenAccountId,n=e.balance,a=e.period,r=void 0===a?"":a,s=e.showPeriod,c=void 0===s||s,i=e.className,o=dt(t),l=o.formatter,u=o.meta,d=function(e,t){switch(t){case"min":return e*de;case"hour":return e*je;case"day":return e*me;default:return e}}(Number(n),r);return Object(m.jsx)("div",{className:j()("w-full rounded-lg bg-input flex items-center width-full p-6",i),children:Object(m.jsxs)("div",{className:"w-full lg:flex items-center",children:[Object(m.jsxs)("div",{className:"flex items-center",children:[Object(m.jsx)("div",{className:"w-12 mr-4",children:Object(m.jsx)("span",{className:"flex-shrink-0 rounded-full bg-card2 inline-flex items-center justify-center w-12 h-12",children:Object(m.jsx)(Xt,{tokenAccountId:t})})}),Object(m.jsx)("div",{className:"",children:Object(m.jsx)("div",{className:"font-bold",children:u.symbol})})]}),Object(m.jsxs)("div",{className:"ml-auto lg:mt-0 mt-4",children:[Object(m.jsx)("span",{className:" text-3xl",children:l.amount(d)}),c?Object(m.jsx)("span",{children:""!==r?"/".concat(r):""}):""]})]})})}var Ir={sec:"/sec",min:"/min",hour:"/hour",day:"/day"};function Lr(e){var t=e.account,n=e.header,r=e.icon,s=e.tokensField,c=e.showPeriod,i=void 0===c||c,o=e.className,l=void 0!==t?t[s]:{},u=kn({options:Ir}),d=Object(a.useState)(!1),j=Object(O.a)(d,2),b=j[0],h=j[1],p=u.option;return Object(m.jsxs)("div",{className:o,children:[Object(m.jsxs)("h2",{className:"text-xl mb-6 flex items-center",children:[Object(m.jsx)("span",{className:"mr-3",children:r}),n,Object(m.jsx)("span",{className:"ml-2",children:i?Object(m.jsxs)("div",{className:"inline-flex items-center relative",children:[Object(m.jsx)(dn,{onChange:h,children:u.options[p]}),Object(m.jsx)(hn,{opened:b,className:"right-0",onClose:function(){return h(!1)},children:u.optionsArray.map((function(e){return Object(m.jsx)(pn,{children:Object(m.jsx)(sn,{label:e,active:p===e,value:e,onChange:u.selectOption})},e)}))})]}):""})]}),Object(m.jsx)("div",{children:Object.keys(l).filter((function(e){return"0"!==l[e]})).map((function(e){return Object(m.jsx)(Mr,{tokenAccountId:e,balance:l[e],period:p,showPeriod:i,className:"mb-4"},e)}))})]})}function Ar(){return Object(m.jsx)("svg",{width:"20",height:"24",viewBox:"0 0 20 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M10.0818 9.73921L10.0818 21.718M10.0818 21.718L18.5945 13.2589M10.0818 21.718L1.5691 13.2589M10.0823 4.3827L10.0823 1.78194",stroke:"#8DA6FF",strokeWidth:"2",strokeLinecap:"round"})})}function Br(){return Object(m.jsxs)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M8.23528 9.07894L1 1.8437M1 1.8437V9.07894M1 1.8437H8.23523",stroke:"#F56173",strokeWidth:"2",strokeLinecap:"round"}),Object(m.jsx)("path",{d:"M12.1637 6.27117C13.591 7.14282 14.5438 8.71519 14.5438 10.5101C14.5438 13.2512 12.3217 15.4733 9.58065 15.4733C7.78575 15.4733 6.21339 14.5205 5.34174 13.0931",stroke:"#F56173",strokeWidth:"2",strokeLinecap:"round"})]})}function Vr(){return Object(m.jsxs)("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M0.999991 1.84371L8.23523 9.07889M8.23523 9.07889V1.84371M8.23523 9.07889H1.00004",stroke:"#2EDDD9",strokeWidth:"2",strokeLinecap:"round"}),Object(m.jsx)("path",{d:"M12.1637 6.27124C13.5911 7.14289 14.5438 8.71524 14.5438 10.5101C14.5438 13.2512 12.3218 15.4733 9.58068 15.4733C7.7858 15.4733 6.21344 14.5205 5.3418 13.0931",stroke:"#2EDDD9",strokeWidth:"2",strokeLinecap:"round"})]})}function Hr(){var e=Re().roketo;return Object(m.jsxs)("div",{className:"container mx-auto p-12",children:[Object(m.jsx)("div",{className:"md:flex justify-between items-center mb-10",children:Object(m.jsx)("h1",{className:"text-3xl",children:"My Account"})}),Object(m.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[Object(m.jsx)(Lr,{icon:Object(m.jsx)(Vr,{}),header:"Receiving",account:null===e||void 0===e?void 0:e.account,tokensField:"total_incoming"},"AccountInputs"),Object(m.jsx)(Lr,{icon:Object(m.jsx)(Br,{}),header:"Sending",account:null===e||void 0===e?void 0:e.account,tokensField:"total_outgoing"},"AccountOutputs"),Object(m.jsx)(Lr,{icon:Object(m.jsx)(Ar,{}),header:"Withdrawn",account:null===e||void 0===e?void 0:e.account,tokensField:"total_received",showPeriod:!1},"AccountWithdrawn")]})]})}function Fr(){return Object(m.jsx)("div",{className:"flex h-screen mx-3",children:Object(m.jsx)("div",{className:"lg:m-auto mx-auto my-auto lg:w-2/5 bg-gray-90 rounded-3xl p-5",style:{backgroundColor:"#0D0B26"},children:Object(m.jsxs)("div",{className:"my-24 text-center",children:[Object(m.jsxs)("h1",{className:"text-3xl mb-4 font-semibold",children:[" ","Login via NEAR Network"," "]}),Object(m.jsx)("p",{className:"text-gray",children:"Click button below to login or create new account"}),Object(m.jsx)(Qe,{})]})})})}var Rr=n(424);function Pr(){return Object(m.jsxs)("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M12.1884 4.70767H13.2423C14.6173 4.70767 15.7319 5.82227 15.7319 7.1972V12.6244C15.7319 13.9994 14.6173 15.114 13.2423 15.114H7.81509C6.44016 15.114 5.32556 13.9994 5.32556 12.6244V11.5705",stroke:"currentColor",strokeWidth:"1.65968"}),Object(m.jsx)("rect",{x:"1.46289",y:"1.3735",width:"10.4063",height:"10.4063",rx:"2.48952",stroke:"currentColor",strokeWidth:"1.65968"})]})}function Dr(e){var t=e.stream,n=e.className,a=qa(t),r=dt(t.token_account_id),s=r.formatter,c=r.meta,i=s.tokensPerMeaningfulPeriod(t.tokens_per_sec);return Object(m.jsxs)("div",{className:j()("inline-flex items-center whitespace-nowrap",n),children:[a===Ea&&Object(m.jsx)(Br,{}),a===Wa&&Object(m.jsx)(Vr,{}),Object(m.jsxs)("span",{className:"ml-2",children:[Object(m.jsxs)("span",{children:["@",i.formattedValue]}),Object(m.jsxs)("span",{children:[" ",c.symbol," ","/",i.unit]})]})]})}function Tr(e){var t=e.label,n=e.children,a=e.className;return Object(m.jsxs)("div",{className:a,children:[Object(m.jsx)("div",{className:"text-gray text-sm",children:t}),Object(m.jsx)("div",{className:"font-semibold text-lg break-words select-all",children:n})]})}function Wr(e){var t=e.label,n=e.children,a=e.className;return Object(m.jsxs)("div",{className:j()("flex justify-between my-3",a),children:[Object(m.jsx)("div",{className:"text-gray text-sm",children:t}),Object(m.jsx)("div",{className:"text-sm text-right",children:n})]})}function Er(e){var t,n=e.stream,a=void 0===n?function(){return{balance:"1249999999999999990000",creator_id:"dcversus.testnet",description:"lol",id:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"any",is_expirable:!0,is_locked:!1,last_action:0x16e048c5be5e7600,owner_id:"dcversus.testnet",receiver_id:"dcversus2.testnet",status:"Active",timestamp_created:0x16e048c5be5e7600,token_account_id:"wrap.testnet",tokens_per_sec:"1111111111111",tokens_total_withdrawn:"0"}}():n,r=e.className,s=Zt(a),c=s.percentages,i=s.timeLeft,o=s.progress,l=o.full,u=o.streamed,d=o.left,b=o.available,h=qa(a),p=dt(a.token_account_id),f=p.meta,x=p.formatter,v=p.roketoMeta,O=new U.a(v.commission_coef.val).shiftedBy(v.commission_coef.pow).toNumber();return Object(m.jsxs)("div",{className:j()("pt-10 p-9 bg-input rounded-3xl",r),children:[Object(m.jsxs)("div",{className:"flex text-center justify-between",children:[h===Wa?Object(m.jsx)(Tr,{label:"Sender:",className:"w-1/2 mr-4",children:a.owner_id}):Object(m.jsx)(Tr,{label:"Receiver:",className:"w-1/2 mr-4",children:a.receiver_id}),Object(m.jsx)(Tr,{label:"Time Remaining:",className:"w-1/2",children:i||"Finished"})]}),Object(m.jsx)("div",{className:"border-t border-border mt-8 mb-9"}),Object(m.jsx)(Wr,{label:"Stream Created:",children:Object(Rr.a)(new Date(Number(a.timestamp_created)/1e6),"Yo MMM do")}),Object(m.jsx)(Wr,{label:"Token:",children:f.symbol}),Object(m.jsxs)(Wr,{label:"Total:",children:[x.amount(l)," ",f.symbol]}),Object(m.jsx)(Wr,{label:"Tokens Transferred:",children:Object(m.jsxs)("span",{children:[x.amount(u)," ",f.symbol," ",Object(m.jsxs)("span",{className:"text-gray",children:["(",ue()(c.streamed).format({output:"percent",mantissa:2}),")"]})]})}),Object(m.jsx)(Wr,{label:"Tokens Left:",children:Object(m.jsxs)("span",{children:[x.amount(d)," ",f.symbol," ",Object(m.jsxs)("span",{className:"text-gray",children:["(",ue()(c.left).format({output:"percent",mantissa:2}),")"]})]})}),Object(m.jsxs)(Wr,{label:"Tokens Available:",children:[x.amount(b)," ",f.symbol]}),Object(m.jsxs)(Wr,{label:"Stream update & withdrawal fee:",children:[x.amount(Number(b)*(O||0)/100)," ",f.symbol," ",Object(m.jsxs)("span",{className:"text-gray",children:["(",ue()(O||0).format({output:"percent",mantissa:2}),")"]})]}),Object(m.jsx)(Wr,{label:"Speed:",children:Object(m.jsx)(Dr,{stream:a})}),"in"===h?Object(m.jsx)(Wr,{label:"Latest Withdrawal:",children:Object(Rr.a)(new Date((t=a.last_action,Number(t)/1e3/1e3)),"MMM dd, Yo  H:m")}):"",Object(m.jsxs)(Wr,{label:"Stream ID:",children:[Object(m.jsx)("div",{className:"inline-block w-24 overflow-ellipsis overflow-hidden",children:a.id}),Object(m.jsx)("button",{type:"button",onClick:function(){return er()(a.id)},className:"hover:text-blue",children:Object(m.jsx)(Pr,{})})]})]})}var qr=n(96),Zr=[["#4743FB","#C750FF"],["#FFCC69","#FF8469"]];"linear-gradient(270deg, ".concat(Zr[0][0]," 0%, ").concat(Zr[0][1]," 100%)"),"linear-gradient(270deg, ".concat(Zr[1][0]," 0%, ").concat(Zr[1][1]," 100%)");function zr(e){var t=e.endColor,n=e.startColor,a=e.progressValue,r=e.idCSS,s=e.rotation,c="rotate(".concat(s,")");return Object(m.jsx)("svg",{style:{height:0},children:Object(m.jsx)("defs",{children:Object(m.jsxs)("linearGradient",{id:r,gradientTransform:c,children:[Object(m.jsx)("stop",{offset:"0%",stopColor:n}),a>0&&a<100?Object(m.jsx)("stop",{offset:"".concat(a,'%"'),stopColor:t}):null,Object(m.jsx)("stop",{offset:"100%",stopColor:t})]})})})}function Ur(e){var t=e.progresses,n=e.className;t.sort((function(e,t){return t-e}));return Object(m.jsx)("div",{className:j()(n),children:Object(m.jsxs)(qr.b,{circleRatio:.5,styles:Object(qr.c)({rotation:.75,pathColor:"#0D0B26",strokeLinecap:"round"}),value:1,minValue:0,maxValue:1,children:[Zr.map((function(e,t){return Object(m.jsx)(zr,{progressValue:0,idCSS:"__arcProgressBar_grad_".concat(t),rotation:90,startColor:e[0],endColor:e[1]},t)})),t.map((function(e,t){return Object(m.jsx)(qr.a,{circleRatio:.5,className:"absolute inset-0",value:e,styles:Object(qr.c)({rotation:.75,trailColor:"transparent",pathColor:"url(#__arcProgressBar_grad_".concat(t,")"),strokeLinecap:"round"}),minValue:0,maxValue:1},t)}))]})})}n(418);var Yr=["icon","children","className","size","loading","disabled","loadingText","color","variant"],Kr="main",Jr="filled",Gr="outlined";function Xr(e){var t=e.icon,n=e.children,a=e.className,r=e.size,s=e.loading,c=e.disabled,i=e.loadingText,o=e.color,u=void 0===o?"light":o,d=e.variant,b=void 0===d?"outlined":d,h=Object(zt.a)(e,Yr),p="",f="",x="";b===Kr?(p="Button--main",f="normal"===r?"px-5 py-4  rounded-2xl font-semibold":"big"===r?"px-12 py-6 rounded-3xl font-bold":""):b===Gr?(p="border-solid border font-semibold rounded-lg ",x="light"===u?"border-blue hover:bg-blue":"dark"===u?"border-border hover:bg-hover hover:border-hover":""):b===Jr&&(p="bg-dark hover:bg-hover font-semibold rounded-lg active:bg-transparent");var v={disabled:s||c,className:j()("inline-flex items-center justify-center p-3  whitespace-nowrap",p,f,x,c?"Button--disabled":"","transition-all",a)},O=s?i:Object(m.jsxs)(m.Fragment,{children:[t?Object(m.jsx)("div",{className:"mr-2",children:t}):null,n]});return h.link?Object(m.jsx)(l.b,Object(Ne.a)(Object(Ne.a)(Object(Ne.a)({},v),h),{},{children:O})):Object(m.jsx)("button",Object(Ne.a)(Object(Ne.a)(Object(Ne.a)({},v),h),{},{type:"button"===h.type?"button":"submit",children:O}))}function Qr(e){return Object(m.jsxs)("svg",Object(Ne.a)(Object(Ne.a)({width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(m.jsx)("path",{d:"M2.42963 2.28638V8.60681",stroke:"#FFAB6A",strokeWidth:"3",strokeLinecap:"round"}),Object(m.jsx)("path",{d:"M8.76996 2.28638V8.60681",stroke:"#FFAB6A",strokeWidth:"3",strokeLinecap:"round"})]}))}function $r(e){return Object(m.jsx)("svg",Object(Ne.a)(Object(Ne.a)({width:"8",height:"8",viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)("path",{d:"M7.17026 3.36901C7.72501 3.6893 7.72501 4.49002 7.17026 4.81031L2.10367 7.7355C1.54891 8.05579 0.855469 7.65543 0.855469 7.01486L0.85547 1.16446C0.85547 0.523887 1.54891 0.123526 2.10367 0.443814L7.17026 3.36901Z",fill:"#2EDDD9"})}))}function es(e){return Object(m.jsx)("svg",Object(Ne.a)(Object(Ne.a)({width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:Object(m.jsx)("rect",{x:"0.429626",y:"0.930298",width:"9.58382",height:"9.58382",rx:"2",fill:"#F56173"})}))}function ts(e){var t=e.modalControl,n=e.onConfirm;return Object(m.jsxs)(o.a,{isOpen:t.on,onRequestClose:t.turnOff,className:"ModalContent",overlayClassName:"ModalOverlay",children:[Object(m.jsx)("h2",{className:"text-2xl mb-4",children:"Are you sure?"}),Object(m.jsx)("p",{className:"mb-6",children:"As a stream receiver, you will not be able to resume stream. Only stream owners can resume streams"}),Object(m.jsx)(Xr,{className:"w-full",variant:"filled",type:"button",onClick:function(){t.turnOff(),n()},children:"Yes, I want to pause stream."})]})}function ns(e){var t=e.stream,n=e.minimal,r=void 0!==n&&n,s=e.className,c=Re(),i=c.auth,o=c.roketo,l=_(!1),u=Object(a.useState)(!1),d=Object(O.a)(u,2),b=d[0],h=d[1],p=Object(a.useState)(!1),f=Object(O.a)(p,2),x=f[0],v=f[1],w=i.accountId===t.owner_id,g=i.accountId===t.receiver_id,N=!w&&!g,C=function(){var e=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,o.api.pauseStream({streamId:t.id});case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,o.api.startStream({streamId:t.id});case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,o.api.stopStream({streamId:t.id});case 3:h(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(te(t)||N)return Object(m.jsx)(rr,{className:j()(r?"":"border border-border p-4 px-6 rounded-lg",s),stream:t});var I=x&&!b;return Object(m.jsxs)("div",{className:j()(s,"relative inline-flex"),children:[Object(m.jsx)(ts,{modalControl:l,onConfirm:C}),Object(m.jsx)(dn,{opened:I,onChange:v,children:b?"Loading...":Object(m.jsx)(rr,{stream:t})}),Object(m.jsxs)(hn,{onClose:function(){return v(!1)},opened:I,className:"top-full w-44",children:[t.status!==X&&w&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(pn,{children:Object(m.jsxs)("button",{type:"button",className:"inline-flex items-center font-semibold",onClick:S,children:[Object(m.jsx)($r,{className:"mr-4 flex-shrink-0"}),Object(m.jsx)("span",{children:"Start stream"})," "]})}),Object(m.jsx)(fn,{})]}),t.status!==Q&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(pn,{children:Object(m.jsxs)("button",{type:"button",className:"inline-flex items-center font-semibold",onClick:function(){g?l.turnOn():C()},children:[Object(m.jsx)(Qr,{className:"mr-4 flex-shrink-0"}),Object(m.jsx)("span",{children:"Pause stream"})]})}),Object(m.jsx)(fn,{})]}),Object(m.jsx)(pn,{children:Object(m.jsxs)("button",{type:"button",className:"inline-flex items-center font-semibold",onClick:M,children:[Object(m.jsx)(es,{className:"mr-4 flex-shrink-0"}),Object(m.jsx)("span",{children:" Stop stream "})]})})]})]})}var as=["className"];function rs(e){var t=e.className,n=Object(zt.a)(e,as);return Object(m.jsx)("div",Object(Ne.a)({className:j()("inline-block w-2 h-2 flex-shrink-9 rounded-full",t)},n))}function ss(e){var t=e.label,n=e.formattedFloatValue,a=e.percentageValue,r=e.colorClass,s=e.className;return Object(m.jsxs)("div",{className:s,children:[Object(m.jsx)(rs,{className:j()(r,"mr-1")}),Object(m.jsxs)("span",{children:[t,":"," ",Object(m.jsxs)("span",{className:"font-semibold",children:[n," "]}),Object(m.jsxs)("span",{className:"text-gray",children:[" ",ue()(a).format({output:"percent",mantissa:1})]})]})]})}function cs(e){var t=e.stream,n=t.token_account_id,a=dt(n),r=a.formatter,s=a.meta,c=qa(t),i=Zt(t),o=i.progresses,l=i.percentages,u=i.isDead,d=i.progress,b=d.full,h=d.withdrawn,p=d.streamed;return Object(m.jsxs)("div",{className:j()("flex","flex-col","items-center"),children:[Object(m.jsxs)("div",{className:"-mb-32",children:[Object(m.jsx)(Dt,{align:{offset:[0,-20]},overlay:Object(m.jsxs)("div",{className:"text-left",children:[Object(m.jsx)(ss,{className:"whitespace-nowrap mb-2",label:"Withdrawn",colorClass:"bg-streams-withdrawn",formattedFloatValue:"".concat(r.amount(h)," ").concat(s.symbol),percentageValue:l.withdrawn}),Object(m.jsx)(ss,{className:"whitespace-nowrap",label:"Streamed",colorClass:"bg-streams-streamed",formattedFloatValue:"".concat(r.amount(p)," ").concat(s.symbol),percentageValue:l.streamed})]}),children:Object(m.jsx)(Ur,{className:"w-96 h-72",progresses:o})}),Object(m.jsxs)("div",{className:"flex justify-between pt-5 -mx-2 text-gray",children:[Object(m.jsx)("div",{className:"w-10 text-center",children:" 0%"}),Object(m.jsx)("div",{className:"w-10 text-center",children:" 100%"})]})]}),Object(m.jsx)(Xt,{size:14,tokenAccountId:n,className:"mb-8"}),Object(m.jsx)("div",{className:"text-6xl font-semibold",children:r.amount(p)}),Object(m.jsxs)("div",{className:"text-gray font-semibold",children:["of"," ",r.amount(b)," ",s.symbol]}),Object(m.jsx)(Dr,{stream:t,className:"mt-6 mb-6"}),!u&&Object(m.jsxs)("div",{className:"flex relative z-10",children:[Object(m.jsx)(ns,{stream:t,className:"mr-2"}),c===Wa&&t.status===X&&Object(m.jsx)(nr,{stream:t})]})]})}function is(e){return Object(m.jsxs)("svg",Object(Ne.a)(Object(Ne.a)({width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),{},{children:[Object(m.jsxs)("g",{clipPath:"url(#clip0)",children:[Object(m.jsx)("path",{d:"M8.31055 11.6724C8.66342 12.1442 9.11362 12.5345 9.63062 12.817C10.1476 13.0994 10.7193 13.2674 11.3069 13.3095C11.8945 13.3516 12.4843 13.2668 13.0363 13.0609C13.5883 12.855 14.0895 12.5328 14.506 12.1161L16.9711 9.65109C17.7194 8.87624 18.1335 7.83845 18.1242 6.76124C18.1148 5.68403 17.6827 4.65359 16.921 3.89186C16.1593 3.13013 15.1288 2.69805 14.0516 2.68869C12.9744 2.67933 11.9366 3.09344 11.1618 3.84181L9.74849 5.24689",stroke:"currentColor",strokeWidth:"1.64336",strokeLinecap:"round",strokeLinejoin:"round"}),Object(m.jsx)("path",{d:"M11.5972 10.0291C11.2444 9.55731 10.7942 9.16697 10.2772 8.88451C9.76017 8.60205 9.18847 8.43408 8.60085 8.392C8.01323 8.34991 7.42344 8.4347 6.87147 8.6406C6.3195 8.8465 5.81826 9.1687 5.40176 9.58535L2.93672 12.0504C2.18835 12.8252 1.77424 13.863 1.7836 14.9402C1.79296 16.0175 2.22504 17.0479 2.98677 17.8096C3.7485 18.5714 4.77894 19.0034 5.85615 19.0128C6.93336 19.0222 7.97115 18.608 8.746 17.8597L10.1511 16.4546",stroke:"currentColor",strokeWidth:"1.64336",strokeLinecap:"round",strokeLinejoin:"round"})]}),Object(m.jsx)("defs",{children:Object(m.jsx)("clipPath",{id:"clip0",children:Object(m.jsx)("rect",{width:"19.7203",height:"19.7203",fill:"white",transform:"translate(0.09375 0.990601)"})})})]}))}function os(){return Object(m.jsx)("svg",{width:"9",height:"14",viewBox:"0 0 9 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M7.44798 12.8541L1.86072 7.26685L7.44798 1.67958",stroke:"white",strokeWidth:"2",strokeLinecap:"round"})})}var ls=n.p+"static/media/RUSSIANS_HACK.83d68466.gif",us=n.p+"static/media/crab.3fbdb8f2.gif";function ds(e){var t=e.message,n=e.onRetry,a=e.className,s=r.a.useRef(Math.random());return Object(m.jsxs)("div",{className:j()("text-center",a),children:[s.current>.5?Object(m.jsx)("img",{src:ls,className:"mx-auto",alt:"funny hackers gif with bird dancing around"}):Object(m.jsx)("img",{src:us,className:"mx-auto",alt:"crab with a knife tries to hurt people"}),Object(m.jsx)("h1",{className:"text-4xl font-semibold mb-6 mt-10",children:"Something is broken."}),Object(m.jsx)("p",{className:"text-gray mb-4",children:"Finally we have something to fix"}),t&&Object(m.jsx)("code",{className:"p-4 border-special-inactive border block text-special-inactive text-xs mb-4",children:t}),Object(m.jsx)(Xr,{variant:"outlined",color:"dark",className:"mt-10",onClick:n,type:"button",children:"Try again"}),Object(m.jsx)("p",{className:"text-xs text-gray mt-2",children:"(that probably wont help)"})]})}function js(e){var t=e.to;return Object(m.jsxs)(l.b,{to:t,className:j()("group flex items-center"),children:[Object(m.jsx)("div",{className:"flex items-center justify-center h-11 w-11 rounded-full border-border border group-hover:bg-border mr-4",children:Object(m.jsx)(os,{})}),Object(m.jsx)("span",{className:"uppercase text-gray text-xs",children:" Back "})]})}function ms(e){var t=e.className,n=e.link;return Object(m.jsxs)("div",{className:t,children:[Object(m.jsx)("div",{className:"mb-4 text-gray text-center",children:"Public link to view the stream:"}),Object(m.jsxs)("div",{className:"border border-border bg-input py-4 px-5 rounded-2xl flex items-center",children:[Object(m.jsx)("div",{className:"break-all select-all",children:n}),Object(m.jsx)("div",{className:"w-px bg-border mx-6 self-stretch flex-shrink-0"}),Object(m.jsxs)("button",{type:"button",className:"whitespace-nowrap text-blue py-2 px-3 font-semibold text-sm inline-flex bg-transparent hover:bg-hover active:bg-input rounded-lg transition",onClick:function(){return er()(n)},children:[Object(m.jsx)(is,{className:"mr-2"}),"Copy Link"]})]})]})}function bs(){var e=function(e){var t,n=Re().roketo,a=Object(Pe.a)((function(){return!!n.account&&["stream",e,n.account.last_created_stream]}),Object(y.a)(k.a.mark((function t(){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.api.getStream({streamId:e});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)}))),{errorRetryInterval:2e3,errorRetryCount:3});return Et({swr:a,revalidationPeriod:10,isEnabled:(null===(t=a.data)||void 0===t?void 0:t.status)===X}),a}(Object(u.h)().id),t=e.data,n=e.error,a=x(null===t||void 0===t?void 0:t.id);return Object(m.jsxs)("div",{className:"container mx-auto p-12",children:[Object(m.jsx)("div",{className:"mb-10",children:Object(m.jsx)(js,{to:f.myStreams.path})}),n&&Object(m.jsx)(ds,{className:"max-w-2xl mx-auto py-32",message:n.message,onRetry:function(){e.mutate()}}),!n&&!t&&Object(m.jsx)("div",{className:"py-32 text-center text-gray text-2xl",children:"Loading..."}),t&&Object(m.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between",children:[Object(m.jsxs)("div",{className:"flex flex-col items-center flex-grow",children:[Object(m.jsx)(cs,{stream:t}),Object(m.jsx)(ms,{link:a,className:"max-w-xl w-full mt-28"})]}),Object(m.jsx)(Er,{className:"mt-10 w-full lg:mt-0 lg:w-1/3 self-start",stream:t})]})]})}var hs=n(223),ps=n.n(hs),fs="nameInput",xs="emailInput";function vs(){var e,t=Re().auth,n=Object(a.useState)(!1),r=Object(O.a)(n,2),s=r[0],c=r[1],i=Ue(),o=null!==(e=i.data)&&void 0!==e?e:{},l=o.name,u=void 0===l?"":l,d=o.email,b=void 0===d?"":d,h=Object(a.useRef)(null),p=Object(a.useCallback)(function(){var e=Object(y.a)(k.a.mark((function e(n){var a,r,s,o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i.data){e.next=3;break}return e.abrupt("return");case 3:return c(!0),s=null===(a=h.current)||void 0===a?void 0:a.nameInput.value,o=null===(r=h.current)||void 0===r?void 0:r.emailInput.value,e.next=8,i.mutate(Object(y.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ze.upsert(t.accountId,{name:s,email:o}));case 1:case"end":return e.stop()}}),e)}))),{revalidate:!1,optimisticData:Object(Ne.a)(Object(Ne.a)({},i.data),{},{name:s})});case 8:c(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[t.accountId,i]),f=i.isValidating||s;return Object(m.jsxs)("div",{className:"container mx-auto p-12",children:[Object(m.jsx)("div",{className:"md:flex justify-between items-center mb-10",children:Object(m.jsx)("h1",{className:"text-3xl",children:"Profile"})}),Object(m.jsxs)("form",{className:j()("inline-flex mb-10",f&&ps.a.profileFormBusy),onSubmit:p,ref:h,children:[Object(m.jsxs)("div",{className:"mr-10",children:["Name:",Object(m.jsx)("input",{placeholder:"Name",name:fs,defaultValue:u,disabled:f},u)]}),Object(m.jsxs)("div",{className:"mr-10",children:["Email:",Object(m.jsx)("input",{placeholder:"Email",name:xs,defaultValue:b,disabled:f},b)]}),Object(m.jsx)(Xr,{type:"submit",disabled:f,variant:"main",size:"normal",className:"rounded-lg h-14 self-end mb-0.5",children:"Save"})]})]})}var Os=n(224),_s=n.n(Os);function ws(){var e,t,n=function(){var e=Re().auth;return Object(Pe.a)(e.accountId?"notifications":null,(function(){return Ye.findAll()}),{onErrorRetry:qe})}(),r=Object(a.useCallback)((function(e){n.data&&n.mutate(function(){var t=Object(y.a)(k.a.mark((function t(n){var a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ye.markRead(e,{isRead:!0});case 2:return a=t.sent,t.abrupt("return",null===n||void 0===n?void 0:n.map((function(t){return t.id===e?a:t})));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{revalidate:!1,optimisticData:n.data.map((function(t){return t.id===e?Object(Ne.a)(Object(Ne.a)({},t),{},{isRead:!0}):t}))})}),[n]);return Object(m.jsxs)("div",{className:"container mx-auto p-12",children:[Object(m.jsx)("div",{className:"mb-10",children:Object(m.jsx)("h1",{className:"text-3xl",children:"Notifications"})}),!n.data&&Object(m.jsx)("h3",{className:"text-3xl text-center my-12 mx-auto",children:"Loading..."}),0===(null===(e=n.data)||void 0===e?void 0:e.length)&&Object(m.jsx)("h3",{className:"text-3xl text-center my-12 mx-auto",children:"Your notifications will be displayed here."}),null===(t=n.data)||void 0===t?void 0:t.map((function(e){return Object(m.jsxs)("div",{className:j()("grid grid-cols-12 p-10 bg-input rounded-3xl mb-4",e.isRead?"":_s.a.unread),children:[Object(m.jsx)("div",{className:"xl:col-span-10",children:JSON.stringify(e)}),Object(m.jsx)("div",{className:"flex xl:justify-end xl:col-span-2 items-center",children:!e.isRead&&Object(m.jsx)(Xr,{type:"button",className:"ml-3",variant:"filled",onClick:function(){return r(e.id)},children:"Mark as read"})})]},e.id)}))]})}function gs(){Object(a.useEffect)((function(){var e=new URL(window.location.href),t="transactionHashes";e.searchParams.has(t)&&(e.searchParams.delete(t),window.history.replaceState(null,"",e))}));var e=Re().auth,t=f.stream,n=f.account,r=f.profile,s=f.myStreams,c=f.authorize,i=f.notifications;return Object(m.jsxs)(l.a,{basename:B,children:[Object(m.jsx)(yt,{}),Object(m.jsxs)(u.d,{children:[Object(m.jsx)(Nt,{exact:!0,redirect:Object(m.jsx)(u.a,{to:s.path}),allowed:!e.signedIn,path:c.path,children:Object(m.jsx)(Fr,{})}),Object(m.jsx)(Nt,{exact:!0,redirect:Object(m.jsx)(u.a,{to:c.path}),allowed:e.signedIn,path:n.path,children:Object(m.jsx)(Hr,{})}),Object(m.jsx)(u.b,{exact:!0,path:t.path,children:Object(m.jsx)(bs,{})}),Object(m.jsx)(Nt,{exact:!0,redirect:Object(m.jsx)(u.a,{to:c.path}),allowed:e.signedIn,path:s.path,children:Object(m.jsx)(Sr,{})}),Object(m.jsx)(Nt,{exact:!0,redirect:Object(m.jsx)(u.a,{to:c.path}),allowed:e.signedIn,path:r.path,children:Object(m.jsx)(vs,{})}),Object(m.jsx)(Nt,{exact:!0,redirect:Object(m.jsx)(u.a,{to:c.path}),allowed:e.signedIn,path:i.path,children:Object(m.jsx)(ws,{})})]})]})}n(419);var ys=function(){return Object(m.jsx)(He,{children:Object(m.jsx)(gs,{})})},Ns=document.getElementById("root");o.a.setAppElement(Ns),c.a.render(Object(m.jsx)(ys,{}),Ns)},46:function(e,t,n){e.exports={root:"styles_root__HhGTO",section:"styles_section__2ptdG",flex:"styles_flex__1MBbU",spaceBetween:"styles_spaceBetween__2D_fZ",buttonsWrapper:"styles_buttonsWrapper__g1-uh",title:"styles_title__2Qqzq"}},54:function(e,t,n){e.exports={root:"styles_root__3Kyti",wrapper:"styles_wrapper__P7W3S",balance:"styles_balance__o5yA-"}},55:function(e,t,n){e.exports={wrapper:"styles_wrapper__TAkqw",speedInput:"styles_speedInput__pndxz",input:"styles_input__2-TTa",label:"styles_label__1NoFr",formLabel:"styles_formLabel__2w0iu",speed:"styles_speed__M079a"}},56:function(e,t,n){e.exports={flexColumn:"styles_flexColumn__vggyT",withPaddings:"styles_withPaddings__3K5aA",title:"styles_title__284Zv",emptyState:"styles_emptyState__3rrQX"}},73:function(e,t,n){e.exports={root:"authorization_root__3Nfgj",name:"authorization_name__GjBzW",avatar:"authorization_avatar__1ISVb"}},74:function(e,t,n){e.exports={wrapper:"styles_wrapper__2vwX1",root:"styles_root__3L49I",logo:"styles_logo__1dFWz",left:"styles_left__fS0Yp",right:"styles_right__19YK4"}},75:function(e,t,n){e.exports={root:"styles_root__37pAo",label:"styles_label__1Z1u2",description:"styles_description__3HMUq",error:"styles_error__iK_dp",required:"styles_required__eL5Iv"}},76:function(e,t,n){e.exports={dropdownWrapper:"styles_dropdownWrapper__1mfn5",dropdownOpener:"styles_dropdownOpener__xnUU_",tokenOption:"styles_tokenOption__2nenl",withHover:"styles_withHover__17YXX",dropdownMenu:"styles_dropdownMenu__1M_bV"}},77:function(e,t,n){e.exports={progressBar:"styles_progressBar__WfqVp",streamed:"styles_streamed__2JSLG",progress:"styles_progress__1Vfwm",withdrawn:"styles_withdrawn__2eocI"}},91:function(e,t,n){e.exports={overlay:"styles_overlay__3d-7G",content:"styles_content__LPOGX",title:"styles_title__2BdZE",close:"styles_close__3grwe"}},92:function(e,t,n){e.exports={root:"styles_root__2eQAJ",primary:"styles_primary__F4Fip",action:"styles_action__ZCYgS",simple:"styles_simple__2Db_y"}},93:function(e,t,n){e.exports={root:"styles_root__1_66R",radio:"styles_radio__3I1ek",radioActive:"styles_radioActive__2fx8l",text:"styles_text__21Txd"}},94:function(e,t,n){e.exports={root:"styles_root__2b5hR",description:"styles_description__256I8",checkbox:"styles_checkbox__JfL1O",error:"styles_error__3vxG-"}},95:function(e,t,n){e.exports={root:"styles_root__1Ickw",controls:"styles_controls__35vzk",flexCenter:"styles_flexCenter__3vowm",description:"styles_description__3Jnep"}}},[[420,1,2]]]);
//# sourceMappingURL=main.97d71ec7.chunk.js.map