{"version":3,"sources":["features/create-stream/TokenSelector/styles.module.scss","widgets/streamsList/ui/StreamCard/styles.module.scss","pages/stream/styles.module.scss","shared/kit/RadioButton/styles.module.scss","shared/kit/Filter/styles.module.scss","features/legacy/stream/styles.module.scss","features/authorization/index.module.scss","shared/kit/DropdownOpener/styles.module.scss","shared/kit/DropdownMenu/styles.module.scss","features/legacy/streams/filtering/DirectionSorts/styles.module.scss","features/legacy/streams/filtering/StreamFilters/styles.module.scss","features/legacy/streams/streamsList/ui/Name/styles.module.scss","features/filtering/DirectionSorts/styles.module.scss","features/filtering/StreamFilters/styles.module.scss","widgets/financialStatus/ui/FinancialInfo/styles.module.scss","shared/components/Badge/styles.module.scss","features/stream-control/WithdrawButton/styles.module.scss","pages/authorize/styles.module.scss","shared/kit/Tooltip/styles.module.scss","shared/ui/components/Spinner/styles.module.scss","features/legacy/streams/streamsList/ui/Controls/styles.module.scss","widgets/header/ui/PagesList/styles.module.scss","shared/ui/components/Input/styles.module.scss","widgets/profile/ProfileForm/index.module.scss","shared/ui/components/TextArea/styles.module.scss","shared/components/FormikTextArea/styles.module.scss","widgets/streamsList/ui/Name/styles.module.scss","widgets/streamsList/ui/Controls/styles.module.scss","features/stream-control/StreamControls/styles.module.scss","features/legacy/stream-control/StreamControls/styles.module.scss","shared/ui/components/Layout/styles.module.scss","shared/ui/icons/Sort/styles.module.scss","features/legacy/streams/streamsList/ui/StreamProgress/styles.module.scss","shared/components/Header/styles.module.scss","features/create-stream/CliffPeriodPicker/styles.module.scss","widgets/financialStatus/ui/FinancialStatus/styles.module.scss","widgets/streamsList/ui/StreamProgress/styles.module.scss","widgets/notifications/styles.module.scss","features/create-stream/CreateStream/styles.module.scss","widgets/header/styles.module.scss","shared/helpers/routing.ts","shared/ui/icons/Logo/index.tsx","shared/ui/icons/Logo/ColoredLogo.tsx","shared/ui/icons/Logo/BlackLogo.tsx","shared/ui/components/Layout/index.tsx","shared/config.ts","shared/api/near/index.ts","shared/helpers/date.ts","shared/api/roketo/constants.ts","shared/api/roketo/helpers.ts","shared/api/roketo/contract-api.ts","shared/api/roketo/index.ts","shared/constants.ts","shared/api/ft/token-formatter.ts","shared/helpers/isWNearTokenId.ts","shared/api/ft/ft-api.ts","shared/api/ft/index.ts","shared/api/price-oracle/constants.ts","shared/api/price-oracle/index.ts","app/roketo-context.tsx","shared/ui/components/Button/index.tsx","shared/ui/icons/LogOut/index.tsx","features/authorization/ui.tsx","features/legacy/routing.ts","shared/ui/icons/Link/index.tsx","shared/kit/Button/Button.tsx","shared/images/RUSSIANS_HACK.gif","shared/images/crab.gif","shared/components/PageError.tsx","shared/ui/icons/ArrowDown/index.tsx","shared/kit/DropdownOpener/DropdownOpener.tsx","features/create-stream/constants.ts","features/create-stream/lib.ts","shared/helpers/math.ts","shared/ui/components/ProgressBar/index.tsx","shared/icons/Tokens.tsx","shared/kit/TokenImage/index.tsx","features/legacy/api/roketo/constants.ts","shared/kit/DropdownMenu/DropdownMenu.tsx","shared/hooks/useOutsideClick.ts","features/legacy/hooks/useBool.ts","features/legacy/api/near/index.ts","features/legacy/api/near/constants.ts","features/legacy/api/roketo/config.ts","features/legacy/api/roketo/helpers.ts","features/legacy/api/roketo/contract-api.ts","features/legacy/api/roketo/index.ts","features/legacy/ft-tokens/TokenMeta.ts","features/legacy/ft-tokens/index.ts","features/legacy/roketo-context.tsx","features/legacy/stream-control/StreamStatus.tsx","features/legacy/stream-control/StreamControls/StartIcon.tsx","features/legacy/stream-control/StreamControls/PauseIcon.tsx","features/legacy/stream-control/StreamControls/StopIcon.tsx","features/legacy/stream-control/StreamControls/index.tsx","features/legacy/hooks/useGetStreamDirection.ts","features/legacy/roketo-resource/index.ts","features/legacy/stream/BreadcrumbIcon.tsx","shared/kit/Tooltip/Tooltip.tsx","features/legacy/stream-control/WithdrawAllButton/useStreamControl.ts","features/legacy/hooks/useTokenFormatter.ts","features/legacy/stream-control/WithdrawAllButton/index.tsx","features/legacy/stream/index.tsx","shared/ui/icons/Sort/index.tsx","shared/kit/RadioButton/RadioButton.tsx","shared/kit/Filter/Filter.tsx","features/legacy/streams/filtering/DirectionSorts/index.tsx","features/legacy/streams/filtering/lib.ts","features/legacy/streams/filtering/useStreamFilters.ts","features/legacy/streams/filtering/StreamFilters/index.tsx","shared/ui/components/Spinner/index.tsx","features/legacy/streams/streamsList/ui/Name/index.tsx","shared/icons/Clock.tsx","features/legacy/streams/streamsList/ui/StreamProgress/index.tsx","features/legacy/streams/streamsList/ui/Controls/index.tsx","features/legacy/streams/streamsList/ui/StreamCard/index.tsx","features/legacy/streams/streamsList/ui/StreamsList/index.tsx","features/legacy/streams/index.tsx","shared/hooks/useMatchQuery.ts","shared/components/NavigationLink/index.tsx","shared/components/Balance/index.tsx","widgets/header/ui/PagesList/index.tsx","shared/ui/icons/Wallet/index.tsx","shared/ui/icons/Income/index.tsx","shared/ui/icons/Outcome/index.tsx","shared/hooks/useToken.ts","shared/helpers/speed.ts","widgets/header/ui/TokenAmountSpeed/index.tsx","widgets/header/ui/FinancialActivity/index.tsx","shared/api/roketo-web/roketo-web.ts","shared/ui/components/Input/index.tsx","shared/ui/components/FormField/index.tsx","widgets/profile/ProfileForm/index.tsx","widgets/profile/index.tsx","shared/hooks/useGetStreamDirection.ts","features/roketo-resource/index.ts","widgets/notifications/BellIcon.tsx","widgets/notifications/FinishIcon.tsx","widgets/notifications/StartIcon.tsx","widgets/notifications/PauseIcon.tsx","widgets/notifications/BangIcon.tsx","widgets/notifications/index.tsx","shared/ui/icons/Telegram/logo-telegram.svg","widgets/header/Header.tsx","shared/components/Header/index.tsx","shared/components/PrivateRoute.tsx","shared/ui/icons/Twitter/logo-twitter.svg","shared/ui/icons/Telegram/index.tsx","shared/ui/icons/Github/logo-git.svg","shared/ui/icons/Twitter/index.tsx","shared/ui/icons/Github/index.tsx","widgets/footer/assets/Privacy_policy.pdf","widgets/footer/index.tsx","shared/components/Modal/index.tsx","features/stream-control/WithdrawAllButton/index.tsx","features/filtering/DirectionSorts/index.tsx","features/filtering/lib.ts","features/filtering/useStreamFilters.ts","features/filtering/StreamFilters/index.tsx","shared/ui/icons/ErrorSign/index.tsx","shared/components/FormikInput/index.tsx","shared/ui/components/Checkbox/index.tsx","shared/components/FormikCheckbox/index.tsx","shared/ui/components/TextArea/index.tsx","shared/components/FormikTextArea/index.tsx","shared/helpers/validation.ts","features/create-stream/StreamSpeedCalcField/index.tsx","shared/hooks/usePrev.ts","features/create-stream/TokenSelector/index.tsx","features/create-stream/CliffPeriodPicker/index.tsx","features/create-stream/FeeDisclaimer/index.tsx","features/create-stream/CreateStream/index.tsx","widgets/financialStatus/ui/FinancialInfo/index.tsx","widgets/financialStatus/lib.ts","widgets/financialStatus/ui/FinancialStatus/index.tsx","shared/components/Badge/index.tsx","widgets/streamsList/ui/Name/index.tsx","widgets/streamsList/ui/StreamProgress/index.tsx","features/stream-control/WithdrawButton/index.tsx","shared/hooks/useBool.ts","features/stream-control/StreamStatus.tsx","features/stream-control/StreamControls/StartIcon.tsx","features/stream-control/StreamControls/PauseIcon.tsx","features/stream-control/StreamControls/StopIcon.tsx","features/stream-control/StreamControls/index.tsx","widgets/streamsList/ui/Controls/index.tsx","widgets/streamsList/ui/StreamCard/index.tsx","widgets/streamsList/ui/StreamsList/index.tsx","pages/streams/index.tsx","pages/authorize/index.tsx","pages/stream/BreadcrumbIcon.tsx","pages/stream/index.tsx","pages/not-found/index.tsx","pages/index.tsx","app/index.tsx","index.tsx","features/stream-control/WithdrawAllButton/styles.module.scss","shared/ui/components/ProgressBar/styles.module.scss","features/legacy/streams/streamsList/ui/StreamsList/styles.module.scss","widgets/footer/styles.module.scss","widgets/streamsList/ui/StreamsList/styles.module.scss","features/legacy/streams/styles.module.scss","features/create-stream/StreamSpeedCalcField/styles.module.scss","pages/streams/styles.module.scss","widgets/header/ui/FinancialActivity/styles.module.scss","widgets/profile/index.module.scss","shared/components/Modal/styles.module.scss","pages/not-found/styles.module.scss","shared/ui/components/Button/styles.module.scss","features/legacy/streams/streamsList/ui/StreamCard/styles.module.scss","shared/ui/components/FormField/styles.module.scss","shared/ui/components/Checkbox/styles.module.scss"],"names":["module","exports","ROUTES_MAP","root","path","authorize","title","streams","stream","getStreamLink","streamId","window","location","origin","DisplayType","DISPLAY_TYPE_TO_LOGO_MAP","COLORED","className","width","height","viewBox","fill","d","id","x1","y1","x2","y2","gradientUnits","offset","stopColor","CURRENT_COLOR","Logo","props","type","ChosenLogo","Layout","children","cn","styles","layout","env","ACCOUNT_SUFFIX","process","NEAR_NETWORK_ID","NEAR_NODE_URL","ROKETO_CONTRACT_NAME","WALLET_URL","PUBLIC_URL","PRICE_ORACLE_CONTRACT_NAME","PRICE_ORACLE_SOURCE_ID","WNEAR_ID","WEB_API_URL","COMMIT_HASH","BUILD_TIME","GAS_SIZE","createNearInstance","a","keyStore","keyStores","BrowserLocalStorageKeyStore","connect","nodeUrl","walletUrl","networkId","headers","near","getNearAuth","walletConnection","login","logout","signOut","reload","requestSignIn","getAccountId","accountId","account","getAccountBalance","balance","signedIn","formatDistanceLocale","xYears","xMonths","xDays","xSeconds","xMinutes","xHours","shortEnLocale","formatDistance","token","count","replace","STREAM_STATUS","isActiveStream","status","isIdling","isDead","hasPassedCliff","cliff","Date","now","getAvailableToWithdraw","BigNumber","value","period","millisecondsToSeconds","last_action","Number","minimum","tokens_per_sec","RoketoContractApi","contract","this","active_incoming_streams","active_outgoing_streams","deposit","inactive_incoming_streams","inactive_outgoing_streams","is_cron_allowed","last_created_stream","stake","total_incoming","total_outgoing","total_received","get_account","account_id","from","limit","get_account_incoming_streams","res","get_account_outgoing_streams","get_stream","stream_id","get_dao","comment","receiverId","tokenAccountId","commissionOnCreate","tokensPerSec","cliffPeriodSec","delayed","isExpirable","isLocked","callbackUrl","handleTransferStream","totalAmount","plus","toFixed","transferPayload","description","JSON","stringify","owner_id","receiver_id","token_name","BigInt","cliff_period_sec","is_locked","is_auto_start_enabled","is_expirable","start_stream","pause_stream","stop_stream","streamIds","withdraw","stream_ids","initRoketo","nearAPI","viewMethods","changeMethods","api","roketoUserAccountPromise","getAccount","daoPromise","getDao","Promise","all","roketoUserAccount","dao","TimePeriod","SECONDS_IN_HOUR","SECONDS_IN_MINUTE","SECONDS_IN_DAY","SECONDS_IN_WEEK","SECONDS_IN_MONTH","SECONDS_IN_YEAR","TIME_PERIOD_SIGNS","Hour","Day","Minute","Second","testIds","signInButton","signOutButton","availableForWithdrawalCaption","withdrawAllButton","createStreamButton","withdrawButton","withdrawTooltip","withdrawLoadingCaption","streamProgressCaption","streamControlsDropdown","streamStartButton","streamPauseButton","streamStopButton","createStreamReceiverInput","createStreamAmountInput","createStreamMonthsInput","createStreamDaysInput","createStreamHoursInput","createStreamMinutesInput","createStreamCommentInput","createStreamDelayedCheckbox","createStreamLockedCheckbox","createStreamCancelButton","createStreamSubmitButton","openNotificationsButton","notificationsLoader","notificationElement","notificationPrimaryCaption","notificationSecondaryCaption","TokenFormatter","Object","keys","reduce","selectors","key","tokenDecimals","MP","amount","numbro","divide","formatted","format","mantissa","trimMantissa","optionalMantissa","average","multiply","decimals","multipliers","unit","firstGoodLookingMultiplier","find","multiplier","formattedValue","formatSmartly","isWNearTokenId","FTApi","transfer","payload","getIsRegistered","isRegisteredSender","isRegisteredReceiver","actions","transactions","functionCall","memo","msg","JSONbig","Create","request","depositSumm","depositAmmount","utils","parseNearAmount","unshift","signAndSendTransaction","walletCallbackUrl","Contract","ft_metadata","ft_balance_of","storage_balance_of","total","initFT","tokens","richTokens","map","getMetadata","getBalance","meta","formatter","roketoMeta","NEAR_MULTIPLIER","DAI_MULTIPLIER","TOKEN_MULTIPLIER_MAP","CONTRACT_VIEW_METHODS_LIST","CONTRACT_CHANGE_METHODS_LIST","convertRawPriceToTokenMap","tokenPrices","relyingSourceOracleId","accumulatorMap","priceToken","tokenId","desiredSourceOracle","reports","oracle_id","price","convertTokenToUsdFactory","priceTokenMap","tokenToMultiplierMap","shownDecimals","tokenPrice","tokenMultiplier","initPriceOracle","priceOracleContract","get_assets","rawAssets","tokenMap","getPriceInUsd","AppContext","React","createContext","RoketoContextProvider","useState","context","setContext","useEffect","init","WalletConnection","auth","roketo","priceOracle","Provider","ERR_NOT_IN_NEAR_CONTEXT","Error","useRoketoContext","useContext","ButtonType","DisplayMode","Button","button","displayMode","action","disabled","link","onClick","testId","restTooltipProps","buttonClassName","primary","secondary","simple","to","LogoutIcon","Authorization","logoutButton","name","LEGACY_ROUTES_MAP","legacyStreams","legacyStream","getLegacyStreamLink","LinkIcon","xmlns","variants","icon","size","loading","loadingText","color","variant","restProps","variantStyles","sizeStyles","colorStyles","commonProps","classNames","content","PageError","message","onRetry","rand","useRef","Math","random","current","src","hackImage","alt","crabImage","ArrowDown","DropdownOpener","opened","onChange","rest","arrowClassName","arrow","rotate","INITIAL_FORM_VALUES","receiver","streamName","speed","cliffDateTime","getStreamingSpeed","speedInSeconds","tokensPerMeaningfulPeriod","symbol","getExactPercentageRatio","b","aBN","bBN","isEqualTo","dividedBy","multipliedBy","getRoundedPercentageRatio","roundRatio","dp","ProgressBar","streamed","withdrawn","cliffPercent","withBigCliffMark","streamedToTotalPercentageRatio","withdrawnToStreamedPercentageRatio","progressBar","progress","style","cliffMarkContainer","left","min","cliffMark","cliffMarkBig","cliffMarkPassed","toNumber","NearTokenImage","version","preserveAspectRatio","transform","stroke","FallbackTokenImage","currentTokens","TokenIcon","image","Component","TokenImage","STREAM_DIRECTION","NEAR_BRIDGE","CONTRACT_VIEW_METHODS","CONTRACT_CHANGE_METHODS","DropdownMenu","onClose","ref","callback","handleClick","target","HTMLElement","contains","document","addEventListener","removeEventListener","useOutsideClick","menu","hidden","DropdownMenuItem","DropdownMenuDivider","menuDivider","useBool","initial","on","setOn","off","toggle","turnOff","turnOn","TICK_TO_S","getEmptyAccount","dynamic_inputs","dynamic_outputs","static_streams","ready_to_withdraw","is_external_update_enabled","cron_task","ft","operationalCommission","fallback","newAccount","console","debug","getCurrentAccount","updateAccount","tokensWithoutStorage","update_account","createStream","isAutoStartEnabled","createCommission","commission_on_create","create_stream","args","tokens_per_tick","is_auto_deposit_enabled","gas","tokenContract","ft_transfer_call","contractId","depositStream","Deposit","pauseStream","startStream","stopStream","getStream","getStatus","get_status","getStreamHistory","get_stream_history","tokensToMap","forEach","ticker","ROKETO_VIEW_METHODS","ROKETO_CHANGE_METHODS","tokensMap","address","NEAR_VIEW_METHODS","NEAR_CHANGE_METHODS","operational_commission","tokenMeta","t","isBridged","Boolean","endsWith","TokenMeta","metadata","NEAR_META","spec","reference","reference_hash","Tokens","__tokens","__account","__contracts","createFTContract","RoketoLegacyContextProvider","bindings","label","StreamStatus","binding","StartIcon","PauseIcon","StopIcon","PauseConfirmModal","modalControl","onConfirm","isOpen","onRequestClose","modalContent","overlayClassName","modalOverlay","modalHeader","modalButtons","modalButton","modalSecondary","modalWarning","StopConfirmModal","modalDanger","StreamControls","pauseModalControl","stopModalControl","setLoading","menuOpened","setMenuOpened","isOutgoing","isIncoming","isExternalStream","handlePause","handleStart","handleStop","shouldShowStartButton","shouldShowPauseButton","statusClassName","active","pause","isPausedStream","stop","relative","dropdownOpener","statusPadded","controlsMenu","controlButton","start","useGetStreamDirection","identifyStreamsDirection","direction","useAccount","useSWR","errorRetryInterval","interpolateStream","cachedBalance","cachedAt","secondsPassed","differenceInSeconds","available_to_withdraw","String","BALANCES_PLACEHOLDER","values","useLegacyStreams","balances","interpolationsLeft","swr","fetchedStreams","identified","filter","balancesDraft","assign","inputs","outputs","pollerId","setTimeout","data","mutate","interpolateAll","revalidate","clearTimeout","BALANCE_PLACEHOLDER","calculateEndInfo","tokensPerMs","timestamp_created","streamViewData","withExtrapolation","MAX_SEC","availableToWithdraw","secondsLeft","minus","duration","intervalToDuration","end","days","weeks","months","years","seconds","timeLeft","formatDuration","locale","full","tokens_total_withdrawn","progresses","percentages","available","streamEndInfo","BreadcrumbIcon","Tooltip","placement","overlay","align","defaultOverlay","defaultIcon","assertMethodHasStreamId","assert","useTokenFormatter","tokenName","get","TokenBalance","balanceInt","borderColor","WithdrawAllButton","streamControl","wrapped","fn","updateAllAndWithdraw","restart","useStreamControl","useSWRConfig","accountSWR","streamsSWR","useMemo","balancesValue","tokensSWR","NEAR","balancesWithoutNear","sort","rawKeys","tickers","parse","ftStorageBalance","hasStorageBalance","refreshInterval","notRegisteredTokens","tokensRequireManualDeposit","isSafeToWithdraw","length","entries","useWithdrawReadyBalances","modal","join","showNEP141Popup","StreamProgress","numericProgress","tokenIcon","StreamButtons","buttons","StreamSpeed","blockTitle","StreamComment","commentBody","CopyButton","stringToCopy","copyButton","copy","linkIcon","StreamCopyUrlBlock","copyTitle","InfoRow","infoRow","infoTitle","StreamData","leftToTotalPercentageRatio","showOtherInfo","setShowOtherInfo","tile","infoTile","blockHeader","font16","font14","font12","isPast","divider","update","sectionHeader","centeredFlex","streamID","grey","LegacyStreamPage","useParams","streamSWR","errorRetryCount","isCompleted","useLegacySingleStream","pageError","error","breadbrumbs","streamsLink","breadbrumb","remaining","main","right","OrderType","SortIcon","desc","asc","RadioButton","checked","radio","radioActive","text","FilterOptionWithCounter","option","Filter","options","renderOption","renderActive","isDisabled","setOpened","cx","dropdownWrapper","dropdownInactive","dropdownMenu","DirectionSorts","directions","activeDirection","onDirectionClick","isInactive","useFilter","selectOption","currentFilterFunction","optionsArray","STREAM_TYPE_FILTER","STREAM_STATUS_FILTER","ALL","useStreamFilters","statusOptions","directionOptions","statusFilter","directionFilter","result","items","filters","undefined","filteredItems","setFilteredItems","filterCounts","setFilterCounts","filteredItemsValue","filterCountsValue","filterRunResult","currentFilterCount","push","useFilters","compareBy","sorts","bigBalanceFirst","order","highSpeedFirst","highSpeedLast","mostRecent","StreamFilters","onFilterDone","sorting","setSorting","sortOptions","isEmptyList","sortedStreams","filtersWrapper","counts","sortWithOrder","Spinner","wrapperClassName","spinnerClassName","wrapper","spinner","Name","flexCenter","nameLabel","ClockIcon","TOOLTIP_ALIGN","points","tokensPerTick","streamedText","withdrawnText","streamedPercentage","withdrawnPercentage","progressText","speedFormattedValue","speedUnit","destroyTooltipOnHide","tooltip","innerStatus","smaller","remained","clock","StreamLinkButton","onCLick","linkButton","Controls","handleLinkClick","useCallback","event","preventDefault","streamLink","StreamCard","isIncomingStream","streamPageLink","generatePath","withMarginRight","controls","EmptyState","emptyState","StreamsList","displayingStreams","onCreateStreamClick","allStreamsLength","displayingStreamsLength","container","flexColumn","withPaddings","loader","LegacyStreamsPage","allStreams","setFiltered","isModalOpened","setIsModalOpened","toggleModal","flex","header","buttonsWrapper","streamFilters","section","getMatches","query","matchMedia","matches","useMediaQuery","setMatches","handleChange","addListener","removeListener","NavigationLink","PageList","pageRoutes","route","pageLink","WalletIcon","IncomeIcon","OutcomeIcon","useToken","Balance","mode","CRYPTO","actualCryptoBalance","displayedCryptoAmount","showInUSD","USD","currencySymbol","StreamType","TokenAmountSpeed","tokensBalanceMap","totalAmountInUSD","balancePerDesiredPeriod","balancePerSecond","balanceSpeedPerSecond","getBalancePerDesiredPeriod","formattedBalance","toHumanReadableValue","usdAmount","FinancialActivity","outcome","income","serverConfig","baseServer","client","TokenProvider","initialized","authApiClient","getRefreshedToken","getAccountIdAndNear","savedToken","localStorage","containsUnicode","generateLoginParams","loginParams","accessToken","config","getKey","keyPair","timestamp","sign","TextEncoder","encode","Uint8Signature","signature","Array","encodeURIComponent","tokenProvider","onErrorRetry","retryCount","startsWith","refreshToken","apiConfig","authMethods","bearer","usersApiClient","useUser","findOne","User","notificationsApiClient","Input","hasError","input","FormField","isRequired","required","NAME_INPUT","EMAIL_INPUT","ProfileForm","setName","email","setEmail","isMutating","setIsMutating","userSWR","formRef","updateUser","e","newName","newEmail","cachedUser","updateUserDto","optimisticData","rollbackOnError","busy","isValidating","profileForm","onSubmit","loaderWrapper","placeholder","submit","Profile","isDropdownOpened","setIsDropdownOpened","needFallback","setNeedFallback","profile","avatar","onError","useExtrapolation","revalidationPeriod","isEnabled","secondsTillRevalidation","setSecondsTillRevalidation","useStreams","getAccountIncomingStreams","getAccountOutgoingStreams","calculateEndTimestamp","calculateCliffPercent","endTimestamp","streamEndTimestamp","cliffEndTimestamp","BellIcon","withBadge","strokeWidth","strokeLinecap","strokeLinejoin","cy","r","FinishIcon","rx","BangIcon","NotificationIcon","IconComponent","PrimaryText","primaryText","SecondaryText","secondaryText","NotificationBody","notification","token_account_id","notificationBody","Notifications","compact","notificationsSWR","findAll","allNotifications","KNOWN_NOTIFICATION_TYPES","Set","has","useNotifications","closeDropdown","notifications","markAllRead","isRead","hasUnreadNotifications","some","index","Fragment","isSameDay","createdAt","date","isToday","isYesterday","unread","time","_path","_path2","_path3","ROUTES_TO_DISPLAY","Header","withSecondFloor","showLegacyStreams","useShowLegacyStreams","unshrinkable","logo","marginRight","secondWrapper","secondRoot","MinifiedHeader","useRouteMatch","PrivateRoute","allowed","redirect","exact","render","_extends","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogoTelegram","_ref","svgRef","titleId","ForwardRef","TelegramLogo","SvgLogoTwitter","TwitterLogo","SvgLogoGit","GithubLogo","Footer","links","href","rel","legal","PrivacyPolicyDoc","socials","jurInfo","Modal","onCloseModal","bodyOpenClassName","bodyOverflowHidden","close","contentContainer","activeInputs","tokensData","tmpResult","preparedTokenData","nothingToWithdraw","preparedTokensWrapper","preparedToken","info","notAllowed","ErrorSign","FormikInput","field","form","errors","Checkbox","checkbox","FormikCheckbox","TextArea","textarea","FormikTextArea","maxLength","formfield","textLimitCounter","NUMBER_PATTERN","SpeedInput","speedInput","StreamSpeedCalcField","onSpeedChange","currentStreamingSpeed","setMonths","setDays","minutes","setMinutes","hours","setHours","depositInYocto","toYocto","durationInSeconds","differenceInDays","addMonths","getDurationInSeconds","dividedToIntegerBy","getTokensPerSecondCount","prevSpeed","usePrev","handleInputChangeFactory","setValue","valueLimit","stringLikeNumber","safeValue","test","meaningfulSpeed","labelWithStreamingSpeed","formLabel","formField","TokenOption","tokenOption","TokenSelector","onTokenChoose","activeTokenAccountId","allAvailableTokens","activeToken","handleChooseTokenOptions","withHover","CliffPeriodPicker","onCliffDateTimeChange","maxWidth","amPmAriaLabel","calendarAriaLabel","clearAriaLabel","dayAriaLabel","hourAriaLabel","maxDetail","minuteAriaLabel","monthAriaLabel","nativeInputAriaLabel","secondAriaLabel","yearAriaLabel","FeeDisclaimer","Row","row","StreamCreationError","submitError","DELAYED_DESCRIPTION","subDescription","LOCK_DESCRIPTION","CreateStream","onFormCancel","onFormSubmit","setError","validationSchema","Yup","shape","connection","provider","request_type","finality","max","moreThan","autoStart","nullable","getFormValidationSchema","initialValues","formValues","catch","validateOnBlur","validateOnChange","validateOnMount","handleSubmit","setFieldValue","setFieldTouched","validateField","component","rowItem","checkboxes","feeDisclaimer","actionButtonsWrapper","ButtonDisplayMode","FinancialInfo","withProgressBar","financialContent","card","finance","INITIAL_VALUE","collectTotalFinancialAmountInfo","initialInfo","totalFinancialInfo","financialInfoAccumulator","streamedAmountForDisplay","streamedUSD","fullAmountForDisplay","fullUSD","withdrawnAmountForDisplay","withdrawnUSD","FinancialStatus","activeInputStreams","activeOutputStreams","outcomeAmountInfo","incomeAmountInfo","availableForWithdrawal","withdrawalSum","inputStream","withdrawal","amountForDisplay","amountInUSD","countTotalUSDWithdrawal","Badge","isOrange","badge","orange","blue","WithdrawButton","small","hasntPassedCliff","isWithCliff","showWithdraw","redirectUrl","returnPath","StreamsPage","handleCreateStream","floor","getTime","AuthorizePage","block","hint","StreamPage","useSingleStream","closeBadge","NotFoundPage","big404","big0","pageNotFound","weAreSorry","backButton","history","back","TRASH_QUERY_PARAMS","Routing","url","URL","param","searchParams","delete","replaceState","basename","App","rootEl","getElementById","setAppElement","ReactDOM"],"mappings":"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","file":"static/js/main.0850975d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdownWrapper\":\"styles_dropdownWrapper__1mfn5\",\"dropdownOpener\":\"styles_dropdownOpener__xnUU_\",\"tokenOption\":\"styles_tokenOption__2nenl\",\"withHover\":\"styles_withHover__17YXX\",\"dropdownMenu\":\"styles_dropdownMenu__1M_bV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__1Ickw\",\"controls\":\"styles_controls__35vzk\",\"name\":\"styles_name__26X88\",\"comment\":\"styles_comment__z2oIA\",\"withMarginRight\":\"styles_withMarginRight__20A25\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__CegNU\",\"root\":\"styles_root__1apvt\",\"centeredFlex\":\"styles_centeredFlex__1HZSf\",\"infoRow\":\"styles_infoRow__2vMrz\",\"numericProgress\":\"styles_numericProgress__2AuoP\",\"breadbrumbs\":\"styles_breadbrumbs__BUT8d\",\"streamsLink\":\"styles_streamsLink__L0U7w\",\"breadbrumb\":\"styles_breadbrumb__NNWx2\",\"id\":\"styles_id__16P2T\",\"stream\":\"styles_stream__3Fr_5\",\"left\":\"styles_left__1kdhS\",\"right\":\"styles_right__vZBRd\",\"tile\":\"styles_tile__2fhhc\",\"remaining\":\"styles_remaining__2iHJj\",\"blockTitle\":\"styles_blockTitle__TMhpt\",\"main\":\"styles_main__18lFE\",\"closeBadge\":\"styles_closeBadge__oSZpP\",\"tokenIcon\":\"styles_tokenIcon__2BgHM\",\"buttons\":\"styles_buttons__kZcO7\",\"divider\":\"styles_divider__hCiPy\",\"speed\":\"styles_speed__3klLg\",\"commentBody\":\"styles_commentBody__1ywdK\",\"copyTitle\":\"styles_copyTitle__2hQ0e\",\"copyButton\":\"styles_copyButton__10iJH\",\"linkIcon\":\"styles_linkIcon__1XYWy\",\"link\":\"styles_link__24b3y\",\"infoTile\":\"styles_infoTile__2Te2a\",\"blockHeader\":\"styles_blockHeader__1zEQa\",\"sectionHeader\":\"styles_sectionHeader__2S7fb\",\"dropdownOpener\":\"styles_dropdownOpener__374xe\",\"infoTitle\":\"styles_infoTitle__wuj-6\",\"font16\":\"styles_font16__3CMGR\",\"name\":\"styles_name__16kMm\",\"font14\":\"styles_font14__2T9bM\",\"font12\":\"styles_font12__eO0Tl\",\"streamID\":\"styles_streamID__2QzEw\",\"grey\":\"styles_grey__3NsWF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__1_66R\",\"radio\":\"styles_radio__3I1ek\",\"radioActive\":\"styles_radioActive__2fx8l\",\"text\":\"styles_text__21Txd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__HwxLP\",\"dropdownWrapper\":\"styles_dropdownWrapper__32byB\",\"dropdownMenu\":\"styles_dropdownMenu__1RS3q\",\"dropdownInactive\":\"styles_dropdownInactive__34nZF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__waQWy\",\"root\":\"styles_root__19PW7\",\"centeredFlex\":\"styles_centeredFlex__idtVt\",\"infoRow\":\"styles_infoRow__DynnT\",\"numericProgress\":\"styles_numericProgress__3WX9j\",\"breadbrumbs\":\"styles_breadbrumbs__3R-VX\",\"streamsLink\":\"styles_streamsLink__z_oX2\",\"breadbrumb\":\"styles_breadbrumb__35lMb\",\"id\":\"styles_id__3U16x\",\"stream\":\"styles_stream__15zYj\",\"left\":\"styles_left__2Gn-B\",\"right\":\"styles_right__2t6b3\",\"tile\":\"styles_tile__2S_fe\",\"remaining\":\"styles_remaining__2xbtE\",\"blockTitle\":\"styles_blockTitle__AVORE\",\"main\":\"styles_main__EZ9Ad\",\"tokenIcon\":\"styles_tokenIcon__1ECAS\",\"buttons\":\"styles_buttons__1knN9\",\"divider\":\"styles_divider__LJnOh\",\"speed\":\"styles_speed__16A6R\",\"commentBody\":\"styles_commentBody__1f5OU\",\"copyTitle\":\"styles_copyTitle__5Y0V9\",\"copyButton\":\"styles_copyButton__LRE-Z\",\"linkIcon\":\"styles_linkIcon__2jhgt\",\"link\":\"styles_link__3w_CQ\",\"infoTile\":\"styles_infoTile__3vchd\",\"blockHeader\":\"styles_blockHeader__2hHfE\",\"sectionHeader\":\"styles_sectionHeader__3bPFB\",\"dropdownOpener\":\"styles_dropdownOpener__2WSze\",\"infoTitle\":\"styles_infoTitle__1j4ai\",\"font16\":\"styles_font16__1E8_k\",\"font14\":\"styles_font14__34e9m\",\"font12\":\"styles_font12__2Fhe5\",\"streamID\":\"styles_streamID__bjGsg\",\"grey\":\"styles_grey__1goqK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"authorization_root__3Nfgj\",\"name\":\"authorization_name__GjBzW\",\"logoutButton\":\"authorization_logoutButton__2sCaP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__9Q_y8\",\"arrow\":\"styles_arrow__dmtxI\",\"rotate\":\"styles_rotate__3bkvh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"styles_menu__oG1pK\",\"menuDivider\":\"styles_menuDivider__3rvtk\",\"hidden\":\"styles_hidden__3JyX9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__2IVIz\",\"sort\":\"styles_sort__2oMly\",\"active\":\"styles_active__3vMTz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__12V-i\",\"filtersWrapper\":\"styles_filtersWrapper__3lX2U\",\"sortWithOrder\":\"styles_sortWithOrder__2gTJ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flexCenter\":\"styles_flexCenter__1ROiJ\",\"name\":\"styles_name__HgeGm\",\"nameLabel\":\"styles_nameLabel__1iFRt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__1_PXp\",\"sort\":\"styles_sort__3sdm0\",\"active\":\"styles_active__2U1h-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__1C2L3\",\"filtersWrapper\":\"styles_filtersWrapper__3sIgz\",\"sortWithOrder\":\"styles_sortWithOrder__2yZvk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"styles_card__chYY0\",\"title\":\"styles_title__cc9o3\",\"finance\":\"styles_finance__wsZi_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"badge\":\"styles_badge__2AKuG\",\"blue\":\"styles_blue__3vwgm\",\"orange\":\"styles_orange__23CY5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notAllowed\":\"styles_notAllowed__3rC0O\",\"small\":\"styles_small__2wTWz\",\"hasntPassedCliff\":\"styles_hasntPassedCliff__3QI54\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"styles_block__3xJQm\",\"hint\":\"styles_hint__2cJLP\",\"content\":\"styles_content__10idn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"defaultOverlay\":\"styles_defaultOverlay__3nR8o\",\"defaultIcon\":\"styles_defaultIcon__hJLMj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__oqa_T\",\"spinner\":\"styles_spinner__3Ptbo\",\"spin\":\"styles_spin__1Vf_l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__3OdL8\",\"linkButton\":\"styles_linkButton__oY6_t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__2s9Jd\",\"pageLink\":\"styles_pageLink__3rg8i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"styles_input__KeAvj\",\"error\":\"styles_error__1dP_7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileForm\":\"ProfileForm_profileForm__6KCp0\",\"loaderWrapper\":\"ProfileForm_loaderWrapper__1tIAk\",\"label\":\"ProfileForm_label__3P7Uk\",\"inputName\":\"ProfileForm_inputName__3fFmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"styles_textarea__1lPSs\",\"error\":\"styles_error__3C3Rv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formfield\":\"styles_formfield__2DZrP\",\"textLimitCounter\":\"styles_textLimitCounter__2B7mB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flexCenter\":\"styles_flexCenter__B0Jt1\",\"name\":\"styles_name__25-53\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__2iwP4\",\"linkButton\":\"styles_linkButton__1laX_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"relative\":\"styles_relative__2QiFJ\",\"controlButton\":\"styles_controlButton__1vq4p\",\"statusPadded\":\"styles_statusPadded__3UL71\",\"button\":\"styles_button__1UW_h\",\"modalContent\":\"styles_modalContent__3f34e\",\"modalOverlay\":\"styles_modalOverlay__ZnuwA\",\"modalHeader\":\"styles_modalHeader__2-Oti\",\"modalButtons\":\"styles_modalButtons__367QE\",\"modalButton\":\"styles_modalButton__uHmah\",\"modalSecondary\":\"styles_modalSecondary__1y73P\",\"modalWarning\":\"styles_modalWarning__aeSV8\",\"modalDanger\":\"styles_modalDanger__2FJKr\",\"controlsMenu\":\"styles_controlsMenu__h4rsZ\",\"dropdownOpener\":\"styles_dropdownOpener__KpUjE\",\"notAllowed\":\"styles_notAllowed__AgwS0\",\"start\":\"styles_start__AVZHt\",\"active\":\"styles_active__1J1qI\",\"pause\":\"styles_pause__AS7EK\",\"stop\":\"styles_stop__IMPS5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"relative\":\"styles_relative__yWBD-\",\"controlButton\":\"styles_controlButton__1sUCZ\",\"statusPadded\":\"styles_statusPadded__3delP\",\"button\":\"styles_button__18c-7\",\"modalContent\":\"styles_modalContent__1ddyy\",\"modalOverlay\":\"styles_modalOverlay__1UpG0\",\"modalHeader\":\"styles_modalHeader__1wI_9\",\"modalButtons\":\"styles_modalButtons__3ze2c\",\"modalButton\":\"styles_modalButton__2LWw5\",\"modalSecondary\":\"styles_modalSecondary__3V_0f\",\"modalWarning\":\"styles_modalWarning__1UbkD\",\"modalDanger\":\"styles_modalDanger__3abDR\",\"controlsMenu\":\"styles_controlsMenu__2Z6nr\",\"dropdownOpener\":\"styles_dropdownOpener__2fJW3\",\"start\":\"styles_start__1Jd1k\",\"active\":\"styles_active__1vNpj\",\"pause\":\"styles_pause__jEqEC\",\"stop\":\"styles_stop__19ozh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layout\":\"styles_layout__2ac3i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rotate\":\"styles_rotate__ZjzwB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__3FXzU\",\"text\":\"styles_text__3Ccy_\",\"status\":\"styles_status__2XG4U\",\"grey\":\"styles_grey__6V1Y1\",\"overlay\":\"styles_overlay__vPDRx\",\"tooltip\":\"styles_tooltip__17_8O\",\"innerStatus\":\"styles_innerStatus__294En\",\"smaller\":\"styles_smaller__35jwv\",\"speed\":\"styles_speed__2gSeJ\",\"remained\":\"styles_remained__2GAOw\",\"clock\":\"styles_clock__1TglA\",\"progress\":\"styles_progress__lFlGb\",\"streamed\":\"styles_streamed__3msIw\",\"withdrawn\":\"styles_withdrawn__28DlC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1AC1F\",\"logo\":\"styles_logo__3ciI3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"styles_error__sGMTb\",\"maxWidth\":\"styles_maxWidth__2ZM3Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__20iY_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__38B64\",\"text\":\"styles_text__11atI\",\"status\":\"styles_status__3b_ey\",\"grey\":\"styles_grey__36o2c\",\"overlay\":\"styles_overlay__3rasY\",\"tooltip\":\"styles_tooltip__23VN9\",\"innerStatus\":\"styles_innerStatus__132Fk\",\"smaller\":\"styles_smaller__HXT1f\",\"speed\":\"styles_speed__1i2og\",\"remained\":\"styles_remained__2-6rd\",\"clock\":\"styles_clock__2q7yf\",\"progress\":\"styles_progress__YG-x-\",\"streamed\":\"styles_streamed__2mtn0\",\"withdrawn\":\"styles_withdrawn__SfaXK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__1XQku\",\"dropdownOpener\":\"styles_dropdownOpener__3kQgF\",\"dropdownMenu\":\"styles_dropdownMenu___vHNq\",\"container\":\"styles_container__aPnlt\",\"loader\":\"styles_loader__3dO2x\",\"header\":\"styles_header__1d9ir\",\"date\":\"styles_date__2TpB4\",\"divider\":\"styles_divider__KqyfJ\",\"notification\":\"styles_notification__3Zr3E\",\"unread\":\"styles_unread__3ngZd\",\"icon\":\"styles_icon__3IYnm\",\"notificationBody\":\"styles_notificationBody__3G1w8\",\"primaryText\":\"styles_primaryText__3lpJr\",\"secondaryText\":\"styles_secondaryText__30aDU\",\"time\":\"styles_time__1xidu\",\"compact\":\"styles_compact__1AVk6\",\"mainText\":\"styles_mainText__1Fr7u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__1zlKm\",\"title\":\"styles_title__39adN\",\"description\":\"styles_description__12RAl\",\"form\":\"styles_form__1ud4S\",\"row\":\"styles_row__Pz5Iu\",\"rowItem\":\"styles_rowItem__TexQO\",\"checkboxes\":\"styles_checkboxes__OfA8Y\",\"submitError\":\"styles_submitError__1B7Gd\",\"actionButtonsWrapper\":\"styles_actionButtonsWrapper__1E6yB\",\"feeDisclaimer\":\"styles_feeDisclaimer__WNlqw\",\"feeDisclaimerRow\":\"styles_feeDisclaimerRow__11c8e\",\"amount\":\"styles_amount__1l7_V\",\"subDescription\":\"styles_subDescription__1OTIx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__2vwX1\",\"secondWrapper\":\"styles_secondWrapper__20xn3\",\"root\":\"styles_root__3L49I\",\"secondRoot\":\"styles_secondRoot__3T4F3\",\"unshrinkable\":\"styles_unshrinkable__1q8kB\",\"logo\":\"styles_logo__1dFWz\",\"left\":\"styles_left__fS0Yp\",\"right\":\"styles_right__19YK4\",\"marginRight\":\"styles_marginRight__3EZCk\"};","export type Route = {\n  path: string,\n  title: String,\n}\n\nexport const ROUTES_MAP = {\n  root: {\n    path: '/',\n  },\n  authorize: {\n    path: '/authorize',\n    title: 'Authorize',\n  },\n  streams: {\n    path: '/streams',\n    title: 'Streams',\n  },\n  stream: {\n    path: '/streams/:id',\n    title: 'Stream'\n  },\n};\n\nexport function getStreamLink(streamId: string | undefined) {\n  return `${window.location.origin}/#/streams/${streamId}`;\n}\n","import React from 'react';\n\nimport { ColoredLogo } from './ColoredLogo';\nimport { BlackLogo } from './BlackLogo';\n\nexport enum DisplayType {\n  COLORED = 'colored',\n  CURRENT_COLOR = 'current-color',\n}\n\nconst DISPLAY_TYPE_TO_LOGO_MAP = {\n  [DisplayType.COLORED]: ColoredLogo,\n  [DisplayType.CURRENT_COLOR]: BlackLogo,\n};\n\ntype Props = {\n  type?: DisplayType,\n  className?: string,\n}\n\nexport const Logo = (props: Props) => {\n  const {\n    type = DisplayType.COLORED,\n    className,\n  } = props;\n\n  const ChosenLogo = DISPLAY_TYPE_TO_LOGO_MAP[type];\n\n  return (\n    <ChosenLogo className={className} />\n  );\n};\n","export function ColoredLogo({ className }: { className?: string }) {\n  return (\n    <svg width=\"85\" height=\"37\" viewBox=\"0 0 85 37\" fill=\"none\" className={className}>\n      <path\n        d=\"M27.2243 21.6559L25.1382 26.3574C24.9976 26.6743 25.3083 27.0039 25.6314 26.8807L33.2506 23.9755C37.4638 22.3691 42.9334 16.8281 42.9334 13.7051C42.9334 10.8974 37.5108 4.89742 33.3857 3.5349L22.7464 0.0207055C22.3964 -0.0949031 22.0975 0.297465 22.3004 0.606068L24.4608 3.89078C24.7026 4.2583 24.4683 4.75193 24.0316 4.79531L11.5321 6.03692C11.1728 6.07261 11.0519 6.5378 11.3481 6.74504L14.751 9.12589C15.0895 9.36266 15.0825 9.86755 14.7377 10.0948L9.62698 13.4638C9.35407 13.6437 9.03165 13.7328 8.70543 13.7185L0.406475 13.3549C-0.00343963 13.337 -0.157883 13.8858 0.200859 14.0857L9.40222 19.2108C9.74603 19.4023 10.1494 19.456 10.5311 19.361L14.6051 18.3475C15.1342 18.2159 15.6933 18.3718 16.0787 18.7586L19.1812 21.8717C19.5854 22.2774 20.179 22.4277 20.7267 22.2631L26.291 20.5912C26.9277 20.3999 27.4946 21.0466 27.2243 21.6559Z\"\n        fill=\"url(#paint0_linear_25_2458)\"/>\n      <path\n        d=\"M40.6818 26.4196V36.3357C40.6818 36.6675 40.9498 36.9364 41.2804 36.9364H51.0314C51.362 36.9364 51.63 36.6675 51.63 36.3357V26.4213C51.63 26.0896 51.898 25.8207 52.2286 25.8207L64.6597 25.8207C64.8659 25.8207 65.0576 25.9271 65.167 26.1025L71.793 36.7182C71.9025 36.8935 72.0942 37 72.3004 37H84.4004C84.8768 37 85.1623 36.4688 84.9006 36.0694L76.5735 23.3575C76.5713 23.3541 76.5701 23.3502 76.5701 23.3462C76.5701 23.3349 76.5793 23.3257 76.5905 23.3256C80.5584 23.293 84.2732 19.6259 84.2732 13.0961C84.2732 5.84535 77.8859 1.84441 73.0585 1.84397L73.0559 1.84319V1.82211C73.0559 1.81792 73.0525 1.81451 73.0483 1.81451H41.2804C41.036 1.81451 40.8258 1.96149 40.7328 2.17217C41.1621 5.93024 44.6468 10.0091 52.2641 10.0091L67.8871 10.0098C69.5984 10.0098 71.8625 11.4284 71.8625 13.9989C71.8625 16.3234 70.5333 17.6246 69.1201 17.6254L52.2641 17.6254V17.6315C43.9975 17.6315 40.5981 22.4353 40.6889 26.4196H40.6818Z\"\n        fill=\"#2B313B\"/>\n      <defs>\n        <linearGradient id=\"paint0_linear_25_2458\" x1=\"1.29563\" y1=\"14.7557\" x2=\"38.3082\" y2=\"14.3339\"\n                        gradientUnits=\"userSpaceOnUse\">\n          <stop offset=\"0\" stopColor=\"#E61A11\"/>\n          <stop offset=\"0.554808\" stopColor=\"#E9712E\"/>\n          <stop offset=\"1\" stopColor=\"#FFD231\"/>\n        </linearGradient>\n      </defs>\n    </svg>\n  );\n}\n","export function BlackLogo({ className }: { className?: string }) {\n  return (\n    <svg viewBox=\"0 0 57 25\" fill=\"none\" className={className}>\n      <path\n        d=\"M17.9487 14.2217L16.5734 17.3093C16.4807 17.5174 16.6855 17.7338 16.8986 17.6529L21.9219 15.7451C24.6995 14.6901 28.3056 11.0512 28.3056 9.00033C28.3056 7.15649 24.7306 3.2162 22.0109 2.32141L14.9965 0.0135976C14.7657 -0.0623242 14.5687 0.195349 14.7025 0.398013L16.1268 2.55513C16.2862 2.79648 16.1317 3.12066 15.8438 3.14914L7.60302 3.96452C7.36611 3.98797 7.2864 4.29346 7.48169 4.42956L9.72523 5.99309C9.94834 6.14858 9.94376 6.48015 9.71643 6.62942L6.34698 8.84184C6.16706 8.95998 5.95449 9.01851 5.73941 9.00912L0.267985 8.77036C-0.00226772 8.75857 -0.104091 9.11902 0.132424 9.25024L6.1988 12.616C6.42547 12.7418 6.6914 12.777 6.94303 12.7147L9.629 12.049C9.97782 11.9626 10.3465 12.065 10.6006 12.319L12.646 14.3634C12.9125 14.6298 13.3038 14.7286 13.6649 14.6205L17.3334 13.5225C17.7532 13.3969 18.127 13.8216 17.9487 14.2217Z\"\n        fill=\"currentColor\"/>\n      <path\n        d=\"M26.8203 17.3502V23.8622C26.8203 24.0801 26.997 24.2567 27.215 24.2567H33.6438C33.8617 24.2567 34.0384 24.0801 34.0384 23.8622V17.3513C34.0384 17.1334 34.2151 16.9568 34.4331 16.9568L42.6288 16.9568C42.7647 16.9568 42.8911 17.0267 42.9632 17.1419L47.3317 24.1134C47.4039 24.2285 47.5302 24.2984 47.6662 24.2984H55.6437C55.9577 24.2984 56.1459 23.9496 55.9734 23.6873L50.4834 15.3392C50.482 15.337 50.4812 15.3344 50.4812 15.3318C50.4812 15.3244 50.4872 15.3184 50.4946 15.3183C53.1107 15.2969 55.5598 12.8886 55.5598 8.60041C55.5598 3.83876 51.3486 1.21128 48.166 1.211L48.1643 1.21048V1.19664C48.1643 1.19388 48.162 1.19165 48.1593 1.19165H27.215C27.0538 1.19165 26.9152 1.28817 26.8539 1.42653C27.137 3.89451 29.4344 6.57314 34.4564 6.57314L44.7565 6.5736C45.8848 6.5736 47.3775 7.50521 47.3775 9.19332C47.3775 10.7199 46.5012 11.5744 45.5694 11.5749L34.4564 11.5749V11.5789C29.0064 11.5789 26.7651 14.7336 26.825 17.3502H26.8203Z\"\n        fill=\"currentColor\"/>\n    </svg>\n  );\n}\n","import React from 'react';\nimport cn from 'classnames';\n\nimport styles from './styles.module.scss';\n\ntype LayoutProps = {\n  children?: React.ReactNode,\n  className?: string,\n}\n\nexport const Layout = ({ children, className }: LayoutProps) => (\n  <div className={cn(styles.layout, className)}>\n    {children}\n  </div>\n);\n","type EnvType = {\n  ACCOUNT_SUFFIX: string;\n  NEAR_NETWORK_ID: string;\n  NEAR_NODE_URL: string;\n  ROKETO_CONTRACT_NAME: string;\n  WALLET_URL: string;\n  PUBLIC_URL: string;\n  PRICE_ORACLE_CONTRACT_NAME: string,\n  PRICE_ORACLE_SOURCE_ID: string,\n  WNEAR_ID: string;\n  WEB_API_URL: string;\n  COMMIT_HASH: string\n  BUILD_TIME: string | null\n}\n\nexport const env = {\n  ACCOUNT_SUFFIX: process.env.REACT_APP_NEAR_ACCOUNT_SUFFIX,\n  NEAR_NETWORK_ID: process.env.REACT_APP_NEAR_NETWORK_ID,\n  NEAR_NODE_URL: process.env.REACT_APP_NEAR_NODE_URL,\n  ROKETO_CONTRACT_NAME: process.env.REACT_APP_ROKETO_CONTRACT_NAME,\n  WALLET_URL: process.env.REACT_APP_WALLET_URL,\n  PUBLIC_URL: process.env.PUBLIC_URL,\n  PRICE_ORACLE_CONTRACT_NAME: process.env.REACT_APP_PRICE_ORACLE_CONTRACT_NAME,\n  PRICE_ORACLE_SOURCE_ID: process.env.REACT_APP_PRICE_ORACLE_SOURCE_ID,\n  WNEAR_ID: process.env.REACT_APP_WNEAR_ID,\n  WEB_API_URL: process.env.REACT_APP_WEB_API_URL,\n  COMMIT_HASH: process.env.COMMIT_HASH ?? 'development',\n  BUILD_TIME: process.env.BUILD_TIME ?? null,\n} as EnvType;\n\nexport const GAS_SIZE = \"200000000000000\";\n","import { connect, keyStores, WalletConnection, ConnectedWalletAccount,  } from 'near-api-js';\nimport { AccountBalance } from 'near-api-js/lib/account';\n\nimport { env } from 'shared/config';\n\nexport async function createNearInstance() {\n  const keyStore = new keyStores.BrowserLocalStorageKeyStore();\n  const near = await connect({\n    nodeUrl: env.NEAR_NODE_URL,\n    walletUrl: env.WALLET_URL,\n    networkId: env.NEAR_NETWORK_ID,\n    keyStore,\n    headers: {},\n  });\n\n  return near;\n}\n\nexport type NearAuth = {\n  balance?: AccountBalance;\n  account: ConnectedWalletAccount;\n  signedIn: boolean;\n  accountId: string;\n  login: () => void,\n  logout: () => void,\n}\n\nexport async function getNearAuth(walletConnection: WalletConnection): Promise<NearAuth> {\n  const accountId = await walletConnection.getAccountId();\n  const account = await walletConnection.account();\n\n  let balance;\n\n  if (accountId) {\n    balance = await account.getAccountBalance();\n  }\n\n  async function login() {\n    const appTitle = 'Roketo Token Streaming Service';\n  \n    await walletConnection.requestSignIn(\n      env.ROKETO_CONTRACT_NAME,\n      appTitle,\n    );\n  }\n  \n  async function logout() {\n    await walletConnection.signOut();\n\n    window.location.reload(); \n  }\n\n  return {\n    balance,\n    account,\n    signedIn: !!accountId,\n    accountId,\n    login,\n    logout,\n  }\n}\n\n\n\n","const formatDistanceLocale = {\n  xYears: '{{count}} years',\n  xMonths: '{{count}} months',\n  xDays: '{{count}}d',\n  xSeconds: '{{count}}s',\n  xMinutes: '{{count}}m',\n  xHours: '{{count}}h',\n} as const;\n\ntype TokenType = keyof typeof formatDistanceLocale;\n\nexport const shortEnLocale = {\n  formatDistance: (token: TokenType, count: string) => formatDistanceLocale[token].replace('{{count}}', count),\n};\n\nexport function fromNanosecToSec(value: number | string) {\n  return Number(value) / 1000 / 1000 / 1000;\n}\n","export const STREAM_STATUS = {\n  Initialized: 'Initialized',\n  Active: 'Active',\n  Paused: 'Paused',\n  Finished: 'Finished'\n} as const;\n","import BigNumber from 'bignumber.js';\nimport { millisecondsToSeconds } from 'date-fns';\n\nimport { fromNanosecToSec } from 'shared/helpers/date';\n\nimport { STREAM_STATUS } from './constants';\nimport { RoketoStream, RoketoAccount } from './interfaces/entities';\n\nexport const isActiveStream = (stream: RoketoStream) => stream.status === STREAM_STATUS.Active;\nexport const isPausedStream = (stream: RoketoStream) => stream.status === STREAM_STATUS.Paused;\n\nexport function isIdling(stream: RoketoStream) {\n  return (\n    stream.status === STREAM_STATUS.Initialized\n    || stream.status === STREAM_STATUS.Paused\n  );\n}\n\nexport function isDead(stream?: RoketoStream) {\n  return typeof stream?.status === 'object' && STREAM_STATUS.Finished in stream.status;\n}\n\nexport function isWithCliff(stream?: RoketoStream) {\n  return Boolean(stream?.cliff);\n}\n\nexport function hasPassedCliff(stream: RoketoStream) {\n  return !stream.cliff || Date.now() > stream.cliff / 1000_000;\n}\n\nexport function getAvailableToWithdraw(stream: RoketoStream): BigNumber {\n  if (isIdling(stream)) {\n    return new BigNumber(0);\n  }\n\n  const nowSec = millisecondsToSeconds(Date.now());\n  const lastActionSec = fromNanosecToSec(stream.last_action);\n  const period = nowSec - lastActionSec;\n\n  return BigNumber.minimum(\n    stream.balance, \n    Number(stream.tokens_per_sec) * period\n  );\n}\n\nexport function isLocked({ is_locked, status }: RoketoStream) {\n  return is_locked && status !== STREAM_STATUS.Initialized;\n}\n\nexport const getEmptyAccount = (): RoketoAccount => ({\n  active_incoming_streams: 0,\n  active_outgoing_streams: 0,\n  deposit: \"0\",\n  inactive_incoming_streams: 0,\n  inactive_outgoing_streams: 0,\n  is_cron_allowed: true,\n  last_created_stream: \"any\",\n  stake: \"0\",\n  total_incoming: {},\n  total_outgoing: {},\n  total_received: {}\n});\n","import { Account } from 'near-api-js';\nimport BigNumber from 'bignumber.js';\n\nimport { GAS_SIZE } from 'shared/config';\nimport { RoketoContract } from './interfaces/contracts';\nimport { RoketoAccount, RoketoStream } from './interfaces/entities';\nimport { CreateStreamApiProps, RoketoApi, StreamsProps } from './interfaces/roketo-api';\nimport { getEmptyAccount } from './helpers';\n\ntype NewRoketoApiProps = {\n  account: Account;\n  contract: RoketoContract;\n}\n\nexport class RoketoContractApi implements RoketoApi {\n  contract: RoketoContract;\n\n  account: Account;\n\n  constructor({\n    contract,\n    account,\n  }: NewRoketoApiProps) {\n    this.contract = contract;\n\n    this.account = account;\n  }\n\n  async getAccount(): Promise<RoketoAccount> {\n    if (!this.account.accountId) {\n      return getEmptyAccount();\n    }\n\n    try {\n      const account = await this.contract.get_account({ account_id: this.account.accountId });\n  \n      return account;\n    } catch {\n      return getEmptyAccount();\n    }\n  }\n\n  async getAccountIncomingStreams({ from, limit }: StreamsProps): Promise<RoketoStream[]> {\n    try {\n      const res = await this.contract.get_account_incoming_streams({ account_id: this.account.accountId, from, limit });\n\n      return res;\n    } catch {\n      return [];\n    }\n  }\n\n  async getAccountOutgoingStreams({ from, limit }: StreamsProps): Promise<RoketoStream[]> {\n    try {\n      const res = await this.contract.get_account_outgoing_streams({ account_id: this.account.accountId, from, limit });\n      \n      return res;\n    } catch {\n      return [];\n    }\n  }\n\n  async getStream({ streamId }: { streamId: string }) {\n    const res = await this.contract.get_stream({\n      stream_id: streamId,\n    });\n\n    return res;\n  }\n\n  async getDao() {\n    const res = await this.contract.get_dao();\n\n    return res;\n  }\n\n  async createStream({\n    comment,\n    deposit,\n    receiverId,\n    tokenAccountId,\n    commissionOnCreate,\n    tokensPerSec,\n    cliffPeriodSec,\n    delayed = false,\n    isExpirable,\n    isLocked,\n    callbackUrl,\n    handleTransferStream,\n  }: CreateStreamApiProps) {\n    const totalAmount = new BigNumber(deposit).plus(commissionOnCreate).toFixed();\n    const transferPayload = {\n      description: JSON.stringify({ comment }),\n      balance: deposit,\n      owner_id: this.account.accountId,\n      receiver_id: receiverId,\n      token_name: tokenAccountId,\n      tokens_per_sec: BigInt(tokensPerSec),\n      cliff_period_sec: cliffPeriodSec,\n      is_locked: isLocked,\n      is_auto_start_enabled: !delayed,\n      is_expirable: isExpirable,\n    };\n\n    return handleTransferStream(\n      transferPayload,\n      totalAmount,\n      callbackUrl\n    );\n  }\n\n  async startStream({ streamId }: { streamId: string }) {\n    const res = await this.contract.start_stream(\n      { stream_id: streamId },\n      GAS_SIZE,\n      '1'\n    );\n\n    return res;\n  }\n\n  async pauseStream({ streamId }: { streamId: string }) {\n    const res = await this.contract.pause_stream(\n      { stream_id: streamId },\n      GAS_SIZE,\n      '1'\n    );\n\n    return res;\n  }\n\n  async stopStream({ streamId }: { streamId: string }) {\n    const res = await this.contract.stop_stream(\n      { stream_id: streamId },\n      GAS_SIZE,\n      '1'\n    );\n    return res;\n  }\n\n  async withdraw({ streamIds }: { streamIds: string[] }) {\n    const res = await this.contract.withdraw(\n      { stream_ids: streamIds },\n      GAS_SIZE,\n      '1'\n    );\n    return res;\n  }\n}\n","import * as nearAPI from \"near-api-js\";\nimport { Account } from \"near-api-js\";\n\nimport { env } from \"shared/config\";\n\nimport { RoketoContract } from './interfaces/contracts';\nimport { RoketoContractApi } from \"./contract-api\";\nimport { RoketoAccount, RoketoDao } from \"./interfaces/entities\";\n\nexport interface Roketo {\n  api: RoketoContractApi;\n  dao: RoketoDao;\n  account: RoketoAccount;\n}\n\nexport async function initRoketo({\n  account,\n}: {\n  account: Account;\n}): Promise<Roketo> {\n  const contract = new nearAPI.Contract(account, env.ROKETO_CONTRACT_NAME, {\n    viewMethods: [\n      \"get_stats\",\n      \"get_dao\",\n      \"get_token\",\n      \"get_stream\",\n      \"get_account\",\n      \"get_account_incoming_streams\",\n      \"get_account_outgoing_streams\",\n      \"get_account_ft\",\n    ],\n    changeMethods: [\n      \"start_stream\",\n      \"pause_stream\",\n      \"stop_stream\",\n      \"withdraw\",\n    ],\n  }) as RoketoContract;\n\n  // create high level api for outside usage\n  const api = new RoketoContractApi({\n    contract,\n    account,\n  });\n\n  const roketoUserAccountPromise = api.getAccount();\n\n  const daoPromise = api.getDao();\n\n  const [\n    roketoUserAccount,\n    dao\n  ] = await Promise.all([\n    roketoUserAccountPromise,\n    daoPromise,\n  ]);\n\n  return {\n    api,\n    dao,\n    account: roketoUserAccount,\n  };\n}\n","\nexport const SECONDS_IN_MINUTE = 60;\nexport const SECONDS_IN_HOUR = SECONDS_IN_MINUTE * 60;\nexport const SECONDS_IN_DAY = SECONDS_IN_HOUR * 24;\nexport const SECONDS_IN_WEEK = SECONDS_IN_DAY * 7;\nexport const SECONDS_IN_MONTH = SECONDS_IN_WEEK * 4;\nexport const SECONDS_IN_YEAR = SECONDS_IN_MONTH * 12;\n\nexport enum TimePeriod {\n  Second = 'second',\n  Minute = 'minute',\n  Hour = 'hour',\n  Day = 'day',\n}\n\nexport const TIME_PERIOD_SIGNS = {\n  [TimePeriod.Hour]: '/h',\n  [TimePeriod.Day]: '/d',\n  [TimePeriod.Minute]: '/m',\n  [TimePeriod.Second]: '/s',\n}\n\nexport const testIds = {\n  signInButton: 'signInButton',\n  signOutButton: 'signOutButton',\n  availableForWithdrawalCaption: 'availableForWithdrawalCaption',\n  withdrawAllButton: 'withdrawAllButton',\n  createStreamButton: 'createStreamButton',\n  withdrawButton: 'withdrawButton',\n  withdrawTooltip: 'withdrawTooltip',\n  withdrawLoadingCaption: 'withdrawLoadingCaption',\n  streamProgressCaption: 'streamProgressCaption',\n  streamControlsDropdown: 'streamControlsDropdown',\n  streamStartButton: 'streamStartButton',\n  streamPauseButton: 'streamPauseButton',\n  streamStopButton: 'streamStopButton',\n  createStreamReceiverInput: 'createStreamReceiverInput',\n  createStreamAmountInput: 'createStreamAmountInput',\n  createStreamMonthsInput: 'createStreamMonthsInput',\n  createStreamDaysInput: 'createStreamDaysInput',\n  createStreamHoursInput: 'createStreamHoursInput',\n  createStreamMinutesInput: 'createStreamMinutesInput',\n  createStreamCommentInput: 'createStreamCommentInput',\n  createStreamDelayedCheckbox: 'createStreamDelayedCheckbox',\n  createStreamLockedCheckbox: 'createStreamLockedCheckbox',\n  createStreamCancelButton: 'createStreamCancelButton',\n  createStreamSubmitButton: 'createStreamSubmitButton',\n  openNotificationsButton: 'openNotificationsButton',\n  notificationsLoader: 'notificationsLoader',\n  notificationElement: 'notificationElement',\n  notificationPrimaryCaption: 'notificationPrimaryCaption',\n  notificationSecondaryCaption: 'notificationSecondaryCaption',\n} as const;\n\nconst testIdsKeys = Object.keys(testIds) as Array<keyof typeof testIds>;\n\nexport const testSelectors = testIdsKeys.reduce(\n  (selectors, key) => ({ ...selectors, [key]: `[data-testid=\"${testIds[key]}\"]` }),\n  {} as Record<keyof typeof testIds, string>\n);\n","\nimport numbro from 'numbro';\n\nimport {\n  SECONDS_IN_YEAR,\n  SECONDS_IN_MONTH,\n  SECONDS_IN_WEEK,\n  SECONDS_IN_DAY,\n  SECONDS_IN_HOUR,\n  SECONDS_IN_MINUTE\n} from 'shared/constants';\n\nexport class TokenFormatter {\n  tokenDecimals: number;\n\n  MP: number;\n\n  constructor(tokenDecimals: number ) {\n    this.tokenDecimals = tokenDecimals;\n    this.MP = 10 ** tokenDecimals;\n  }\n\n  static formatSmartly(value: number) {\n    if (value === 0) {\n      return '0';\n    }\n\n    if (value < 0.001) {\n      return '<0.001';\n    }\n\n    return numbro(value).format({\n     mantissa: 3,\n     trimMantissa: true,\n     optionalMantissa: true,\n     average: true,\n   })\n  }\n\n  // for display purposes, converts from yocto values\n  amount(amount: number | string) {\n    const value = numbro(amount).divide(this.MP).value();\n\n    const formatted = numbro(value).format({\n      mantissa: 3,\n      trimMantissa: true,\n      optionalMantissa: true,\n      average: true,\n    });\n\n    if (value === 0) {\n      return '0';\n    }\n\n    if (amount !== 0 && value < 0.001) {\n      return '<0.001';\n    }\n\n    return formatted;\n  }\n\n  toYocto(value: number | string) {\n    return numbro(value)\n      .multiply(this.MP)\n      .format({ mantissa: 0 });\n  }\n\n  toHumanReadableValue(amount: number | string, decimals: number = 0): string {\n    return numbro(amount)\n      .divide(this.MP)\n      .format({\n        mantissa: decimals,\n        trimMantissa: true,\n        optionalMantissa: true,\n      });\n  }\n\n  // tries to find the best interval for display\n  // to avoid 0.0000000000000000000000000009839248 tokens per sec\n  tokensPerMeaningfulPeriod(tokensPerSec: number | string) {\n    const multipliers = [\n      1,\n      SECONDS_IN_MINUTE,\n      SECONDS_IN_HOUR,\n      SECONDS_IN_DAY,\n      SECONDS_IN_WEEK,\n      SECONDS_IN_MONTH,\n      SECONDS_IN_YEAR,\n    ];\n    const unit = {\n      1: 'second',\n      [SECONDS_IN_MINUTE]: 'minute',\n      [SECONDS_IN_HOUR]: 'hour',\n      [SECONDS_IN_DAY]: 'day',\n      [SECONDS_IN_WEEK]: 'week',\n      [SECONDS_IN_MONTH]: 'month',\n      [SECONDS_IN_YEAR]: 'year',\n    };\n\n    const firstGoodLookingMultiplier = multipliers.find((multiplier) => {\n      const value = numbro(tokensPerSec)\n        .multiply(multiplier)\n        .divide(this.MP)\n        .value();\n\n      const isOk = value > 0.1;\n      return isOk;\n    }) || SECONDS_IN_YEAR;\n\n    const value = numbro(tokensPerSec)\n      .multiply(firstGoodLookingMultiplier)\n      .divide(this.MP)\n      .value();\n\n    return {\n      formattedValue: TokenFormatter.formatSmartly(value),\n      unit: unit[firstGoodLookingMultiplier],\n    };\n  }\n}\n","import { env } from \"shared/config\";\n\nexport function isWNearTokenId(tokenAccountId: string) {\n  return tokenAccountId === env.WNEAR_ID;\n}","import { Account, Contract, utils, transactions } from 'near-api-js';\nimport BigNumber from 'bignumber.js';\nimport JSONbig from 'json-bigint';\n\nimport { isWNearTokenId } from 'shared/helpers/isWNearTokenId';\nimport { env } from 'shared/config';\n\nimport { TokenMetadata } from './types';\nimport { RoketoCreateRequest } from '../roketo/interfaces/entities';\n\ntype FTContract = Contract & {\n  ft_balance_of: (options: { account_id: string }) => Promise<string>;\n  storage_balance_of: (options: { account_id: string }) => Promise<{ total: string, available: string }>;\n  ft_metadata: () => Promise<TokenMetadata>;\n  near_deposit: (options: { }, gas: string, deposit: string) => Promise<never>;\n  storage_deposit: (options: { }, gas: string, deposit: string | null) => Promise<never>;\n  ft_transfer_call: ({ args, gas, callbackUrl, amount }: { args: any, gas: string, callbackUrl: string, amount: number }) => Promise<never>\n};\n\nexport class FTApi {\n  contract: FTContract;\n\n  tokenAccountId: string;\n\n  account: Account;\n\n  constructor(account: Account, tokenAccountId: string) {\n    this.tokenAccountId = tokenAccountId;\n    this.account = account;\n\n    this.contract = new Contract(account, tokenAccountId, {\n      viewMethods: ['ft_balance_of', 'ft_metadata', 'storage_balance_of'],\n      changeMethods: ['ft_transfer_call', 'storage_deposit', 'near_deposit'],\n    }) as FTContract;\n  }\n\n  async getMetadata(): Promise<TokenMetadata> {\n    const res = await this.contract.ft_metadata();\n\n    return res;\n  }\n\n  async getBalance(): Promise<string> {\n    if (!this.account.accountId) {\n      return '0';\n    }\n\n    const res = await this.contract.ft_balance_of({ account_id: this.account.accountId });\n\n    return res;\n  }\n\n  async getIsRegistered(accountId: string): Promise<boolean> {\n    const res = await this.contract.storage_balance_of({ account_id: accountId });\n\n    return res && res.total !== '0';\n  }\n\n  transfer = async (payload: RoketoCreateRequest, amount: string, callbackUrl?: string) => {\n    const [ isRegisteredSender, isRegisteredReceiver ] = await Promise.all([\n      this.getIsRegistered(payload.owner_id),\n      this.getIsRegistered(payload.receiver_id)\n    ]);\n\n    const actions = [\n      transactions.functionCall(\n        'ft_transfer_call',\n        {\n          receiver_id: env.ROKETO_CONTRACT_NAME,\n          amount: new BigNumber(amount).toFixed(),\n          memo: 'Roketo transfer',\n          msg: JSONbig.stringify({\n            Create: {\n              request: payload\n            }\n          }),\n        },\n        '100000000000000',\n        1\n      )\n    ];\n\n    let depositSumm = new BigNumber(0);\n    const depositAmmount =  utils.format.parseNearAmount('0.00125') as string; // account creation costs 0.00125 NEAR for storage\n\n    if (!isRegisteredSender) {\n      actions.unshift(\n        transactions.functionCall(\n          \"storage_deposit\",\n          { account_id: payload.owner_id },\n          '30000000000000',\n          depositAmmount\n        )\n      )\n\n      depositSumm = depositSumm.plus(depositAmmount);\n    }\n\n    if (!isRegisteredReceiver) {\n      actions.unshift(\n        transactions.functionCall(\n          \"storage_deposit\",\n          { account_id: payload.receiver_id },\n          '30000000000000',\n          depositAmmount\n        )\n      )\n\n      depositSumm = depositSumm.plus(depositAmmount);\n    }\n\n    if(isWNearTokenId(this.tokenAccountId)) {\n      actions.unshift(\n        transactions.functionCall(\n          \"near_deposit\",\n          {},\n          '30000000000000',\n          new BigNumber(amount).plus(depositSumm).toFixed()\n        ),\n      )\n    }\n\n    // @ts-ignore\n    const res = this.account.signAndSendTransaction({\n      receiverId: this.tokenAccountId,\n      walletCallbackUrl: callbackUrl,\n      actions\n    });\n\n    return res;\n  }\n}\n","import { Account } from 'near-api-js';\n\nimport { RoketoDao, RoketoTokenMeta } from 'shared/api/roketo/interfaces/entities';\n\nimport { TokenMetadata } from './types';\nimport { TokenFormatter } from './token-formatter';\nimport { FTApi } from './ft-api';\n\nexport type RichToken = {\n  api: FTApi;\n  roketoMeta: RoketoTokenMeta;\n  formatter: TokenFormatter;\n  meta: TokenMetadata;\n  balance: string;\n};\n\nexport type RichTokens = {\n  [tokenAccountId: string]: RichToken,\n}\n\ntype InitFRProps = {\n  account: Account;\n  tokens: RoketoDao['tokens'];\n}\n\nexport async function initFT({ account, tokens }: InitFRProps) {\n  const richTokens: RichTokens = {};\n\n  await Promise.all(Object.keys(tokens).map(async (tokenAccountId: string) => {\n    const api = new FTApi(account, tokenAccountId);\n    const [ meta, balance ] = await Promise.all([\n      api.getMetadata(),\n      api.getBalance(),\n    ])\n    const formatter = new TokenFormatter(meta.decimals);\n\n    richTokens[tokenAccountId] = {\n      api,\n      formatter,\n      roketoMeta: tokens[tokenAccountId],\n      meta,\n      balance\n    };\n  }));\n\n  return richTokens;\n}\n","const NEAR_MULTIPLIER = 10 ** 24;\nconst DAI_MULTIPLIER = 10 ** 18;\n\nexport const TOKEN_MULTIPLIER_MAP = {\n  // TestNet\n  'wrap.testnet': NEAR_MULTIPLIER,\n  'dai.fakes.testnet': DAI_MULTIPLIER,\n\n  // MainNet\n  'wrap.near': NEAR_MULTIPLIER,\n  'dai.bridge.near': DAI_MULTIPLIER,\n};\n\nexport const CONTRACT_VIEW_METHODS_LIST = [\n  'get_assets',\n  'get_asset',\n  'get_price_data',\n];\nexport const CONTRACT_CHANGE_METHODS_LIST = [];\n","import numbro from 'numbro';\nimport * as nearAPI from 'near-api-js';\n\nimport {env} from 'shared/config';\n\nimport {TokenAccountId, TokenMultiplierMap, TokenPriceCollection, TokenPriceRaw} from './interfaces/entites';\nimport {PriceOracleContract} from './interfaces/contract';\nimport {CONTRACT_CHANGE_METHODS_LIST, CONTRACT_VIEW_METHODS_LIST, TOKEN_MULTIPLIER_MAP,} from './constants';\n\nexport interface PriceOracle {\n  getPriceInUsd: (tokenId: TokenAccountId, amount: number | string, shownDecimals?: number) => string,\n}\n\nconst convertRawPriceToTokenMap = (\n  tokenPrices: TokenPriceRaw[], relyingSourceOracleId: string\n): TokenPriceCollection => {\n  const priceTokenMap = tokenPrices.reduce((accumulatorMap, priceToken) => {\n    const [tokenId, {reports}] = priceToken;\n\n    const desiredSourceOracle = reports.find(\n      ({oracle_id}) => oracle_id === relyingSourceOracleId\n    );\n    if (!desiredSourceOracle) {\n      return accumulatorMap;\n    }\n\n    return {\n      ...accumulatorMap,\n      [tokenId]: desiredSourceOracle.price,\n    };\n  }, {});\n\n  return priceTokenMap;\n};\n\n\n/**\n * 5 NEAR = 5 * 10**24 \"wrap.near\"\n * 50 DAI = 50 * 10**18 \"dai.bridge.near\"\n *\n * Price NEAR { multiplier: 1000, decimals: 26 }\n * 5 NEAR in USD = 5 * 10**24 * 1000 / 10**(26 - 18) = 50 * 10**18\n * Price DAI { multiplier: 101, decimals: 20 }\n * 50 DAI in USD = 50 * 10**18 * 101 / 10**(20 - 18) = 505 * 10**17\n *\n * more: https://github.com/NearDeFi/price-oracle/blob/c2a10765a629dd013eeaa0f49d5631cbc0470b76/src/utils.rs#L18\n */\nconst convertTokenToUsdFactory = (\n  priceTokenMap: TokenPriceCollection,\n  tokenToMultiplierMap: TokenMultiplierMap,\n) => (\n  tokenAccountId: TokenAccountId,\n  amount: number | string,\n  shownDecimals: number = 3\n) => {\n  const tokenPrice = priceTokenMap[tokenAccountId];\n  const tokenMultiplier = tokenToMultiplierMap[tokenAccountId];\n\n  if (!tokenPrice || !tokenMultiplier) {\n    return '0';\n  }\n\n  const {multiplier, decimals} = tokenPrice;\n\n  return numbro(amount)\n    .multiply(tokenMultiplier)\n    .multiply(Number(multiplier))\n    .divide(10 ** decimals)\n    .format({\n      mantissa: shownDecimals,\n      trimMantissa: true,\n    });\n};\n\nexport const initPriceOracle = async (\n  {account}: {account: nearAPI.ConnectedWalletAccount}\n): Promise<PriceOracle> => {\n  const priceOracleContract = new nearAPI.Contract(account, env.PRICE_ORACLE_CONTRACT_NAME, {\n    viewMethods: CONTRACT_VIEW_METHODS_LIST,\n    changeMethods: CONTRACT_CHANGE_METHODS_LIST,\n  }) as PriceOracleContract;\n\n  const rawAssets = await priceOracleContract.get_assets({});\n  const tokenMap = convertRawPriceToTokenMap(rawAssets, env.PRICE_ORACLE_SOURCE_ID);\n\n  const getPriceInUsd = convertTokenToUsdFactory(tokenMap, TOKEN_MULTIPLIER_MAP);\n\n  return {\n    getPriceInUsd,\n  };\n};\n","import React, { useEffect, useState, useContext } from 'react';\nimport { Near, WalletConnection } from 'near-api-js';\n\nimport { env } from 'shared/config';\nimport { createNearInstance, getNearAuth, NearAuth } from 'shared/api/near';\nimport { initRoketo, Roketo } from 'shared/api/roketo';\nimport { initFT, RichTokens } from 'shared/api/ft';\nimport { initPriceOracle, PriceOracle } from 'shared/api/price-oracle';\n\ntype AppServices = {\n  auth: NearAuth;\n  tokens: RichTokens;\n  roketo: Roketo;\n  priceOracle: PriceOracle,\n  near: Near;\n  walletConnection: WalletConnection;\n};\nconst AppContext = React.createContext<AppServices | null>(null);\n\nexport function RoketoContextProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [context, setContext] = useState<AppServices | null>(null);\n\n  useEffect(() => {\n    const init = async () => {\n      const near = await createNearInstance();\n      const walletConnection = new WalletConnection(near, env.ROKETO_CONTRACT_NAME);\n      const auth = await getNearAuth(walletConnection);\n\n      const [roketo, priceOracle] = await Promise.all([\n        initRoketo({\n          account: auth.account,\n        }),\n        initPriceOracle({account: auth.account}),\n      ]);\n\n      const tokens = await initFT({\n        account: auth.account,\n        tokens: roketo.dao.tokens,\n      });\n\n      setContext({\n        auth,\n        near,\n        roketo,\n        priceOracle,\n        walletConnection,\n        tokens, \n      });\n    };\n\n    init();\n  }, []);\n\n  return (\n    <AppContext.Provider value={context}>\n      {context ? children : null}\n    </AppContext.Provider>\n  );\n}\n\nconst ERR_NOT_IN_NEAR_CONTEXT = new Error('Near context is not found');\n\nexport function useRoketoContext() {\n  const context = useContext(AppContext);\n\n  if (!context) {\n    throw ERR_NOT_IN_NEAR_CONTEXT;\n  }\n\n  return context;\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport cn from 'classnames';\n\nimport styles from './styles.module.scss';\n\nexport enum ButtonType {\n  button = 'button',\n  submit = 'submit',\n}\n\nexport enum DisplayMode {\n  primary = 'primary',\n  simple = 'simple',\n  secondary = 'secondary',\n  action = 'action',\n  invisible = 'invisible',\n}\n\ntype Props = {\n  type?: ButtonType\n  displayMode?: DisplayMode,\n  disabled?: boolean,\n  link?: string,\n  className?: string,\n  children?: React.ReactNode;\n  onClick?: (event: any) => void;\n  testId?: string;\n} & Omit<React.ComponentProps<'button'>, 'type'>\n\nexport const Button = ({\n  type = ButtonType.button,\n  displayMode = DisplayMode.action,\n  disabled = false,\n  link,\n  children,\n  className,\n  onClick,\n  testId,\n  ...restTooltipProps\n}: Props) => {\n  const buttonClassName = cn(\n    styles.root,\n    {\n      [styles.primary]: displayMode === DisplayMode.primary,\n      [styles.secondary]: displayMode === DisplayMode.secondary,\n      [styles.action]: displayMode === DisplayMode.action,\n      [styles.simple]: displayMode === DisplayMode.simple,\n    },\n    className\n  );\n\n  const button = (\n    <button\n      // eslint-disable-next-line react/button-has-type\n      type={type}\n      className={buttonClassName}\n      onClick={onClick}\n      disabled={disabled}\n      {...restTooltipProps}\n      data-testid={testId}\n    >\n      {children}\n    </button>\n  );\n\n  if (link) {\n    return (\n      <Link to={link}>\n        {button}\n      </Link>\n    );\n  }\n\n  return button;\n};\n","import React from 'react';\n\ntype Props = {\n  className?: string,\n}\n\nexport const LogoutIcon = ({className}: Props) => (\n  <svg className={className} width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\">\n    <path d=\"M7.09 12.59L8.5 14L13.5 9L8.5 4L7.09 5.41L9.67 8H0V10H9.67L7.09 12.59ZM16 0H2C0.89 0 0 0.9 0 2V6H2V2H16V16H2V12H0V16C0 17.1 0.89 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0Z\" fill=\"currentColor\"/>\n  </svg>\n);\n","import React from 'react';\n\nimport {useRoketoContext} from 'app/roketo-context';\n\nimport { Button } from '@ui/components/Button';\nimport {LogoutIcon} from '@ui/icons/LogOut';\n\nimport { testIds } from 'shared/constants';\n\nimport styles from './index.module.scss';\n\nexport const Authorization = () => {\n  const {auth} = useRoketoContext();\n\n  const {login, logout, signedIn} = auth;\n\n  if (!signedIn) {\n    return (\n      <Button onClick={login} className={styles.root} testId={testIds.signInButton}>\n        <span className={styles.name}>Sign in with NEAR Wallet</span>\n        <LogoutIcon />\n      </Button>\n    )\n  }\n\n  return (\n    <button type='button' onClick={logout} className={styles.logoutButton} data-testid={testIds.signOutButton}>\n      <LogoutIcon />\n    </button>\n  );\n};\n\n","export const LEGACY_ROUTES_MAP = {\n  legacyStreams: {\n    path: '/streams/legacy',\n    title: 'Streams (legacy)',\n  },\n  legacyStream: {\n    path: '/streams/legacy/:id',\n  },\n};\n\nexport function getLegacyStreamLink(streamId: string | undefined) {\n  return `${window.location.origin}/#/streams/legacy/${streamId}`;\n}\n","import React from 'react';\n\ntype Props = {\n  width?: number,\n  height?: number,\n  className?: string,\n}\n\nconst DEFAULT_WIDTH = 10;\nconst DEFAULT_HEIGHT = 20;\n\nexport const LinkIcon = ({width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT, className}: Props) => (\n  <svg className={className} width={width} height={height} viewBox=\"0 0 10 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M10 15L10 11L8 11L8 15C8 16.65 6.65 18 5 18C3.35 18 2 16.65 2 15L2 11L-4.80825e-07 11L-6.55671e-07 15C-7.76314e-07 17.76 2.24 20 5 20C7.76 20 10 17.76 10 15ZM2 9L2 5C2 3.35 3.35 2 5 2C6.65 2 8 3.35 8 5L8 9L10 9L10 5C10 2.24 7.76 -9.79135e-08 5 -2.18557e-07C2.24 -3.392e-07 -9.79135e-08 2.24 -2.18557e-07 5L-3.93402e-07 9L2 9ZM6 6L6 14L4 14L4 6L6 6Z\" fill=\"currentColor\"/>\n  </svg>\n);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Link } from 'react-router-dom';\nimport './Button.scss';\n\nconst variants = {\n  main: 'main',\n  filled: 'filled',\n  outlined: 'outlined',\n};\n\ntype CommonButtonProps = {\n  icon?: never;\n  children?: React.ReactNode;\n  className?: string;\n  size?: 'normal' | 'big';\n  loading?: boolean;\n  disabled?: boolean;\n  loadingText?: string;\n  color?: string;\n  variant?: string;\n};\n\ntype SpecificLinkProps = {\n  link: true;\n  to: string;\n};\n\ntype SpecificButtonProps = {\n  link?: false;\n  type: 'submit' | 'button';\n  onClick?: (e: React.SyntheticEvent) => void;\n};\n\ntype ButtonProps = CommonButtonProps & (SpecificLinkProps | SpecificButtonProps);\n\nexport function Button({\n  icon,\n  children,\n  className,\n  size,\n  loading,\n  disabled,\n  loadingText,\n  color = 'light',\n  variant = 'outlined',\n  ...restProps\n}: ButtonProps) {\n  let variantStyles = '';\n  let sizeStyles = '';\n  let colorStyles = '';\n\n  if (variant === variants.main) {\n    variantStyles = 'Button--main';\n    sizeStyles = size === 'normal'\n      ? 'px-5 py-4  rounded-2xl font-semibold'\n      : size === 'big'\n        ? 'px-12 py-6 rounded-3xl font-bold'\n        : '';\n  } else if (variant === variants.outlined) {\n    variantStyles = 'border-solid border font-semibold rounded-lg ';\n    colorStyles = color === 'light'\n      ? 'border-blue hover:bg-blue'\n      : color === 'dark'\n        ? 'border-border hover:bg-hover hover:border-hover'\n        : '';\n  } else if (variant === variants.filled) {\n    variantStyles = 'bg-dark hover:bg-hover font-semibold rounded-lg active:bg-transparent';\n  }\n\n  const commonProps = {\n    disabled: loading || disabled,\n    className: classNames(\n      'inline-flex items-center justify-center p-3  whitespace-nowrap',\n      variantStyles,\n      sizeStyles,\n      colorStyles,\n      disabled ? 'Button--disabled' : '',\n      'transition-all',\n      className\n    ),\n  };\n\n  const content = loading ? (\n    loadingText\n  ) : (\n    <>\n      {icon ? <div className=\"mr-2\">{icon}</div> : null}\n      {children}\n    </>\n  );\n\n  return restProps.link ? (\n    <Link {...commonProps} {...restProps}>{content}</Link>\n  ) : (\n    <button\n      {...commonProps}\n      {...restProps}\n      type={restProps.type === 'button' ? 'button' : 'submit'}\n    >\n      {content}\n    </button>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/RUSSIANS_HACK.83d68466.gif\";","export default __webpack_public_path__ + \"static/media/crab.3fbdb8f2.gif\";","import classNames from 'classnames';\nimport React from 'react';\nimport { Button } from 'shared/kit/Button';\nimport hackImage from 'shared/images/RUSSIANS_HACK.gif';\nimport crabImage from 'shared/images/crab.gif';\n\ntype PageErrorProps = {\n  message?: React.ReactNode;\n  onRetry: () => void;\n  className: string;\n};\n\nexport function PageError({\n  message,\n  onRetry,\n  className,\n}: PageErrorProps) {\n  const rand = React.useRef(Math.random());\n\n  return (\n    <div className={classNames('text-center', className)}>\n      {rand.current > 0.5 ? (\n        <img\n          src={hackImage}\n          className=\"mx-auto\"\n          alt=\"funny hackers gif with bird dancing around\"\n        />\n      ) : (\n        <img\n          src={crabImage}\n          className=\"mx-auto\"\n          alt=\"crab with a knife tries to hurt people\"\n        />\n      )}\n\n      <h1 className=\"text-4xl font-semibold mb-6 mt-10\">\n        Something is broken.\n      </h1>\n      <p className=\"text-gray mb-4\">Finally we have something to fix</p>\n      {message && (\n        <code className=\"p-4 border-special-inactive border block text-special-inactive text-xs mb-4\">\n          {message}\n        </code>\n      )}\n      <Button\n        variant=\"outlined\"\n        color=\"dark\"\n        className=\"mt-10\"\n        onClick={onRetry}\n        type=\"button\"\n      >\n        Try again\n      </Button>\n      <p className=\"text-xs text-gray mt-2\">(that probably wont help)</p>\n    </div>\n  );\n}\n","import React from 'react';\n\ntype Props = {\n  width?: number,\n  height?: number,\n  className?: string,\n}\n\nconst DEFAULT_WIDTH = 8;\nconst DEFAULT_HEIGHT = 6;\n\nexport const ArrowDown = ({width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT, className}: Props) => (\n  <div className={className}>\n    <svg width={width} height={height} viewBox=\"0 0 8 6\" fill=\"none\">\n      <path d=\"M7.06 0.726562L4 3.7799L0.94 0.726562L0 1.66656L4 5.66656L8 1.66656L7.06 0.726562Z\" fill=\"currentColor\" />\n    </svg>\n  </div>\n);\n","import React from 'react';\nimport cn from 'classnames';\n\nimport {ArrowDown} from '@ui/icons/ArrowDown';\n\nimport styles from './styles.module.scss';\n\ntype DropdownOpenerProps = {\n  opened?: boolean;\n  className?: string;\n  children: React.ReactNode;\n  onChange: (state: boolean) => void;\n  testId?: string;\n};\n\nexport function DropdownOpener({\n  opened,\n  className,\n  children,\n  onChange,\n  testId,\n  ...rest\n}: DropdownOpenerProps) {\n  const arrowClassName = cn(styles.arrow, {\n      [styles.rotate]: opened,\n    });\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => onChange(!opened)}\n      className={cn(styles.root, className)}\n      data-testid={testId}\n      {...rest}\n    >\n      {children}\n\n      <ArrowDown className={arrowClassName}/>\n    </button>\n  );\n}\n","import {env} from 'shared/config';\n\nexport const COMMENT_TEXT_LIMIT = 80;\n\nexport const INITIAL_FORM_VALUES = {\n  receiver: '',\n  streamName: '',\n  token: env.WNEAR_ID,\n  speed: 0,\n  deposit: 0,\n  delayed: false,\n  comment: '',\n  isLocked: false,\n  cliffDateTime: null,\n};\n","import * as Yup from 'yup';\nimport type {Near} from 'near-api-js';\nimport BigNumber from 'bignumber.js';\nimport {addMonths, differenceInDays} from 'date-fns';\n\nimport {SECONDS_IN_DAY, SECONDS_IN_HOUR, SECONDS_IN_MINUTE} from 'shared/constants';\n\nimport type {RichToken} from 'shared/api/ft';\n\nimport {COMMENT_TEXT_LIMIT} from './constants';\n\nexport const getFormValidationSchema = (near: Near, accountId: string) => Yup.object().shape({\n  receiver: Yup.string()\n    .required('Receiver is required')\n    .test(\n      'receiver-not-equal-owner',\n      'Receiver can not be the same as the owner',\n      (value) => value !== accountId,\n    )\n    .test(\n      'receiver-is-valida-address',\n      'Address does not exists',\n      async (value) => {\n        try {\n          return Boolean(value && await near.connection.provider.query({\n            request_type: 'view_account',\n            finality: 'final',\n            account_id: value,\n          }));\n        } catch (error) {\n          return false;\n        }\n      },\n    ),\n  streamName: Yup.string().max(100, 'Stream name must be less or equal 100 symbols'),\n  token: Yup.string().required(),\n  deposit: Yup.number()\n    .required('Deposit is required')\n    .moreThan(0, 'Deposit should be more than 0'),\n  speed: Yup.number().required('Stream duration is required').moreThan(0, 'Choose stream duration'),\n  autoStart: Yup.boolean(),\n  isLocked: Yup.boolean(),\n  comment: Yup.string().max(COMMENT_TEXT_LIMIT),\n  cliffDateTime: Yup.date()\n    .nullable()\n    .test('futureDate', 'Date cannot be in the past', (value) => !value || value > new Date()),\n});\n\nexport const getDurationInSeconds = (months: number, days: number, hours: number, minutes: number) => {\n  const daysInMonths = differenceInDays(addMonths(new Date(), months), new Date());\n\n  const durationInSeconds = (daysInMonths + days) * SECONDS_IN_DAY\n    + minutes * SECONDS_IN_MINUTE\n    + hours * SECONDS_IN_HOUR;\n\n  return durationInSeconds;\n};\n\nexport const getTokensPerSecondCount = (depositInYocto: string, durationInSeconds: number) => {\n  const value = new BigNumber(depositInYocto)\n    .dividedToIntegerBy(durationInSeconds)\n    .toFixed();\n\n  return value !== 'Infinity' && value !== 'NaN' ? value : '0';\n};\n\nexport const getStreamingSpeed = (speedInSeconds: number, token: RichToken): string => {\n  if (speedInSeconds <= 0) {\n    return 'none';\n  }\n\n  const {formatter, meta} = token;\n  const {formattedValue, unit} = formatter.tokensPerMeaningfulPeriod(speedInSeconds);\n\n  return `${formattedValue} ${meta.symbol} / ${unit}`;\n};\n","import BigNumber from 'bignumber.js';\n\nconst PERCENTAGE_MULTIPLIER = 100;\n\n// Retrieves a percentage ratio from A/B\nconst getExactPercentageRatio = (a: string | number, b: string | number): BigNumber => {\n  const aBN = new BigNumber(a);\n  const bBN = new BigNumber(b);\n\n  if (aBN.isEqualTo(0) || bBN.isEqualTo(0)) {\n    return new BigNumber(0);\n  }\n\n  const ratio = aBN.dividedBy(bBN);\n\n  return ratio.multipliedBy(PERCENTAGE_MULTIPLIER);\n};\n\n// Retrieves a percentage ratio from A/B rounded to an integer\nexport const getRoundedPercentageRatio = (a: string | number, b: string | number, roundRatio: number = 0): BigNumber => (\n  getExactPercentageRatio(a, b).dp(roundRatio)\n);\n","import React from 'react';\nimport cn from 'classnames';\n\nimport {getRoundedPercentageRatio} from 'shared/helpers/math';\n\nimport styles from './styles.module.scss';\n\ntype Props = {\n  total: string,\n  streamed: string,\n  withdrawn: string,\n  cliffPercent?: number | null,\n  withBigCliffMark?: boolean,\n\n  className?: string,\n};\n\nexport const ProgressBar = ({total, streamed, withdrawn, className, cliffPercent, withBigCliffMark = false}: Props) => {\n  const streamedToTotalPercentageRatio = getRoundedPercentageRatio(streamed, total);\n  const withdrawnToStreamedPercentageRatio = getRoundedPercentageRatio(withdrawn, streamed);\n\n  return (\n    <div className={cn(styles.progressBar, className)}>\n      <div className={cn(styles.progress, styles.streamed)} style={{width: `${streamedToTotalPercentageRatio}%`}}>\n        <div className={cn(styles.progress, styles.withdrawn)} style={{width: `${withdrawnToStreamedPercentageRatio}%`}} />\n      </div>\n      {typeof cliffPercent === 'number' &&\n        <div\n          title=\"Cliff\"\n          className={styles.cliffMarkContainer}\n          style={{left: `${Math.min(cliffPercent, 100)}%`}}\n        >\n          <div\n            className={cn(\n              styles.cliffMark,\n              {\n                [styles.cliffMarkBig]: withBigCliffMark,\n                [styles.cliffMarkPassed]: streamedToTotalPercentageRatio.toNumber() > cliffPercent,\n              },\n            )}\n\n          />\n        </div>\n      }\n    </div>\n  );\n};\n","import React from 'react';\nimport { useRoketoContext } from 'app/roketo-context';\n\ntype NearTokenImageProps = {\n  className?: string;\n};\n\nfunction NearTokenImage(props: NearTokenImageProps) {\n  return (\n    <svg\n      version=\"1.0\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20pt\"\n      height=\"20pt\"\n      viewBox=\"0 0 864.000000 864.000000\"\n      preserveAspectRatio=\"xMidYMid meet\"\n      {...props}\n    >\n      <g\n        transform=\"translate(0.000000,864.000000) scale(0.100000,-0.100000)\"\n        fill=\"#FFFFFF\"\n        stroke=\"none\"\n      >\n        <path d=\"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z\" />\n      </g>\n    </svg>\n  );\n}\n\ntype FallbackTokenImageProps = {\n  className?: string;\n};\n\nfunction FallbackTokenImage(props: FallbackTokenImageProps) {\n  return (\n    <svg\n      version=\"1.0\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"20pt\"\n      height=\"20pt\"\n      viewBox=\"0 0 864.000000 864.000000\"\n      preserveAspectRatio=\"xMidYMid meet\"\n      {...props}\n    >\n      <g\n        transform=\"translate(0.000000,864.000000) scale(0.100000,-0.100000)\"\n        fill=\"#FFFFFF\"\n        stroke=\"none\"\n      >\n        <path d=\"M2490 6461 c-164 -53 -265 -156 -314 -320 -14 -49 -16 -226 -16 -1821 0 -1595 2 -1772 16 -1821 25 -85 62 -148 118 -205 179 -178 476 -178 650 0 30 30 249 347 519 749 518 772 502 742 438 799 -21 19 -42 28 -66 28 -40 0 -6 28 -555 -449 -283 -246 -411 -351 -425 -349 -20 3 -20 11 -20 1238 l0 1235 21 3 c16 2 286 -315 1376 -1621 746 -892 1372 -1637 1392 -1654 94 -83 187 -113 351 -113 169 0 275 39 371 134 56 57 93 120 118 205 14 49 16 226 16 1821 0 1595 -2 1772 -16 1821 -25 85 -62 148 -118 205 -179 178 -476 178 -650 0 -30 -30 -249 -347 -519 -749 -518 -772 -502 -742 -438 -799 21 -19 42 -28 66 -28 40 0 6 -28 555 449 283 246 411 351 425 349 20 -3 20 -11 20 -1238 l0 -1235 -21 -3 c-16 -2 -286 315 -1376 1621 -746 892 -1372 1637 -1392 1654 -95 85 -187 113 -356 112 -82 0 -131 -5 -170 -18z\" />\n      </g>\n    </svg>\n  );\n}\n\nconst currentTokens = {\n  'wrap.testnet': NearTokenImage,\n  'wrap.near': NearTokenImage,\n};\n\nfunction isValidTokenName(tokenName: string): tokenName is keyof typeof currentTokens {\n  return tokenName in currentTokens;\n}\n\ntype TokenIconProps = {\n  tokenAccountId: string;\n  className?: string;\n};\n\nexport function TokenIcon({ tokenAccountId, className, ...rest }: TokenIconProps) {\n  const { tokens } = useRoketoContext();\n  const image = tokens[tokenAccountId]?.meta?.icon;\n\n  if (image) {\n    return (\n      <img src={image} alt={tokenAccountId} className={className} {...rest} />\n    );\n  }\n\n  const Component = isValidTokenName(tokenAccountId) ? currentTokens[tokenAccountId] : FallbackTokenImage;\n\n  return <Component className={className} {...rest} />;\n}\n","import React from 'react';\nimport classNames from 'classnames';\nimport { TokenIcon } from 'shared/icons/Tokens';\n\ntype TokenImageProps = {\n  tokenAccountId: string;\n  size?: number;\n  className?: string;\n};\n\nexport function TokenImage({\n  tokenAccountId,\n  size = 8,\n  className,\n}: TokenImageProps) {\n  return (\n    <div\n      className={classNames(\n        'p-1 flex-shrink-0 rounded-full bg-black inline-flex items-center justify-center',\n        `w-${size} h-${size}`,\n        className,\n      )}\n    >\n      <TokenIcon className=\"w-full h-full rounded-full\" tokenAccountId={tokenAccountId} />\n    </div>\n  );\n}\n","export const STREAM_STATUS = {\n  INITIALIZED: 'INITIALIZED',\n  ACTIVE: 'ACTIVE',\n  PAUSED: 'PAUSED',\n  FINISHED: 'FINISHED',\n  INTERRUPTED: 'INTERRUPTED',\n} as const;\n\nexport const STREAM_DIRECTION = {\n  IN: 'in',\n  OUT: 'out',\n} as const;\n\nexport const NEAR_BRIDGE = 'factory.bridge.near' as const;\n\nexport const CONTRACT_VIEW_METHODS = [\n  'get_account',\n  'get_stream',\n  'get_stream_history',\n  'get_status',\n];\nexport const CONTRACT_CHANGE_METHODS = [\n  'create_stream',\n  'deposit',\n  'update_account',\n  'start_stream',\n  'pause_stream',\n  'stop_stream',\n  'change_auto_deposit',\n  'start_cron',\n];\n","import React from 'react';\nimport classNames from 'classnames';\nimport { useOutsideClick } from 'shared/hooks/useOutsideClick';\n\nimport styles from './styles.module.scss';\n\ntype DropdownMenuProps = {\n  opened: boolean;\n  children: React.ReactNode;\n  className?: string;\n  onClose: () => void;\n};\n\nexport function DropdownMenu({\n  opened,\n  children,\n  className,\n  onClose\n}: DropdownMenuProps) {\n  const ref = React.useRef<HTMLInputElement | null>(null);\n\n  useOutsideClick(ref, () => {\n    if (opened) {\n      onClose();\n    }\n  });\n\n  return (\n    <div\n      ref={ref}\n      className={classNames(\n        styles.menu,\n        {[styles.hidden]: !opened},\n        className,\n      )}\n    >\n      {children}\n    </div>\n  );\n}\n\ntype DropdownMenuItemProps = {\n  children: React.ReactNode;\n  className?: string;\n};\n\nexport function DropdownMenuItem({ children, className, ...rest }: DropdownMenuItemProps) {\n  return (\n    <div className={className} {...rest}>\n      {children}\n    </div>\n  );\n}\n\nexport function DropdownMenuDivider() {\n  return <div className={styles.menuDivider} />;\n}\n","import React from 'react';\n\nexport const useOutsideClick = (ref: React.RefObject<HTMLElement>, callback: () => void) => {\n  const handleClick = ({ target }: DocumentEventMap[\"click\"]) => {\n    if (ref.current && target instanceof HTMLElement && !ref.current.contains(target)) {\n      callback();\n    }\n  };\n\n  React.useEffect(() => {\n    document.addEventListener('click', handleClick);\n\n    return () => {\n      document.removeEventListener('click', handleClick);\n    };\n  });\n};\n","import React from 'react';\n\nexport type BooleanControl = {\n  on: boolean;\n  off: boolean;\n  toggle: () => void,\n  turnOff: () => void,\n  turnOn: () => void,\n  setOn: (state: boolean) => void,\n};\n\nexport function useBool(initial: boolean): BooleanControl {\n  const [on, setOn] = React.useState(initial);\n\n  return {\n    on,\n    off: !on,\n    toggle: () => setOn(!on),\n    turnOff: () => setOn(false),\n    turnOn: () => setOn(true),\n    setOn,\n  };\n}\n","import { connect, keyStores, WalletConnection, ConnectedWalletAccount } from 'near-api-js';\n\nimport { env } from 'shared/config';\n\nexport async function createNearInstance() {\n  const keyStore = new keyStores.BrowserLocalStorageKeyStore();\n  const near = await connect({\n    nodeUrl: env.NEAR_NODE_URL,\n    walletUrl: env.WALLET_URL,\n    networkId: env.NEAR_NETWORK_ID,\n    keyStore,\n    headers: {},\n  });\n\n  return near;\n}\n\nexport type NearAuth = {\n  account: ConnectedWalletAccount;\n  signedIn: boolean;\n  accountId: string;\n  login: () => void,\n  logout: () => void,\n}\n\nexport function getNearAuth(walletConnection: WalletConnection): NearAuth {\n  const accountId = walletConnection.getAccountId();\n  const account = walletConnection.account();\n\n  async function login() {\n    const appTitle = 'Roketo Token Streaming Service';\n  \n    await walletConnection.requestSignIn(\n      process.env.REACT_APP_ROKETO_LEGACY_CONTRACT_NAME,\n      appTitle,\n    );\n  }\n  \n  async function logout() {\n    await walletConnection.signOut();\n\n    window.location.reload(); \n  }\n\n  return {\n    account,\n    signedIn: !!accountId,\n    accountId,\n    login,\n    logout,\n  }\n}\n\n\n\n","export const CONTRACT_VIEW_METHODS = ['ft_balance_of'];\nexport const CONTRACT_CHANGE_METHODS = ['ft_transfer', 'ft_transfer_call'];\n","export const ROKETO_CONTRACT_NAME = process.env.REACT_APP_ROKETO_LEGACY_CONTRACT_NAME;\nexport const GAS_SIZE = \"200000000000000\";\nexport const STORAGE_DEPOSIT = 1e22;\n\n// Multiply your stream speed by one of this constants, to receive amount transferred over period\nexport const TICK_TO_MS = 1e6;\nexport const TICK_TO_S = 1e9;\nexport const TICK_TO_MINUTE = TICK_TO_S * 60;\nexport const TICK_TO_HOUR = TICK_TO_MINUTE * 60;\nexport const TICK_TO_DAY = TICK_TO_HOUR * 24;\nexport const TICK_TO_WEEK = TICK_TO_DAY * 7;\nexport const TICK_TO_MONTH = TICK_TO_WEEK * 4;\nexport const TICK_TO_YEAR = TICK_TO_MONTH * 12;\n","import { STREAM_STATUS } from './constants';\nimport { LegacyRoketoStream, RoketoAccount } from './interfaces/entities';\n\nexport function isIdling(stream: LegacyRoketoStream) {\n  return (\n    stream.status === STREAM_STATUS.INITIALIZED\n    || stream.status === STREAM_STATUS.PAUSED\n  );\n}\n\nexport function isDead(stream: LegacyRoketoStream) {\n  return (\n    stream.status === STREAM_STATUS.FINISHED\n    || stream.status === STREAM_STATUS.INTERRUPTED\n  );\n}\n\nexport function isActiveStream(stream: LegacyRoketoStream) {\n  return (\n    stream.status === STREAM_STATUS.ACTIVE\n  );\n}\n\nexport function isPausedStream(stream: LegacyRoketoStream) {\n  return (\n    stream.status === STREAM_STATUS.PAUSED\n  );\n}\n\nexport const getEmptyAccount = (id: string = 'any'): RoketoAccount => ({\n  account_id: id,\n  dynamic_inputs: [],\n  dynamic_outputs: [],\n  static_streams: [],\n  last_action: null,\n  ready_to_withdraw: [],\n  total_incoming: [],\n  total_outgoing: [],\n  total_received: [],\n  is_external_update_enabled: false,\n  cron_task: null,\n});\n","import BigNumber from 'bignumber.js';\nimport { Account, Contract, WalletConnection } from 'near-api-js';\n\nimport { GAS_SIZE, STORAGE_DEPOSIT } from './config';\nimport { RoketoContract } from './interfaces/contracts';\nimport { RoketoApi } from './interfaces/roketo-api';\nimport { RoketoTokenStatus, RoketoAccount } from './interfaces/entities';\nimport { getEmptyAccount } from './helpers';\n\nexport function RoketoContractApi({\n  contract,\n  ft,\n  walletConnection,\n  account,\n  operationalCommission,\n  tokens,\n}: {\n  contract: RoketoContract;\n  ft: Record<\n    string,\n    {\n      name: string;\n      address: string;\n      contract: Contract;\n    }\n  >;\n  walletConnection: WalletConnection;\n  account: Account;\n  operationalCommission: string;\n  tokens: Record<string, RoketoTokenStatus>;\n}): RoketoApi {\n  const getAccount = async (accountId: string): Promise<RoketoAccount> => {\n    const fallback = getEmptyAccount(accountId);\n    try {\n      const newAccount = await contract.get_account({ account_id: accountId });\n      return newAccount || fallback;\n    } catch (e) {\n      console.debug('[RoketoContractApi]: nearerror', e);\n    }\n    return fallback;\n  };\n\n  return {\n    // account methods\n    getCurrentAccount: () => getAccount(walletConnection.getAccountId()),\n    updateAccount: async function updateAccount({\n      tokensWithoutStorage = 0,\n    }): Promise<void> {\n      const res = await contract.update_account(\n        {\n          account_id: account.accountId,\n        },\n        GAS_SIZE,\n        new BigNumber(STORAGE_DEPOSIT)\n          .multipliedBy(tokensWithoutStorage)\n          .plus(operationalCommission)\n          .toFixed()\n      );\n      return res;\n    },\n    // stream methods\n    getAccount,\n    createStream: async function createStream(\n      {\n        deposit,\n        receiverId,\n        token,\n        speed,\n        description,\n        isAutoStartEnabled = true,\n      },\n      { callbackUrl } = {}\n    ) {\n      let res;\n      const createCommission = tokens[token].commission_on_create;\n\n      try {\n        if (token === 'NEAR') {\n          // contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })\n          res = await contract.create_stream({\n            args: {\n              owner_id: walletConnection.getAccountId(),\n              receiver_id: receiverId,\n              token_name: token,\n              tokens_per_tick: speed,\n              description,\n              is_auto_deposit_enabled: false, // TODO: Remove after switching to contract v2\n              is_auto_start_enabled: isAutoStartEnabled,\n            },\n            gas: GAS_SIZE,\n            amount: new BigNumber(deposit).plus(createCommission).toFixed(),\n            callbackUrl,\n          });\n        } else {\n          const tokenContract = ft[token].contract;\n          // @ts-ignore\n          res = await tokenContract.ft_transfer_call({\n            args: {\n              receiver_id: contract.contractId,\n              amount: new BigNumber(deposit).plus(createCommission).toFixed(),\n              memo: 'Roketo transfer',\n              msg: JSON.stringify({\n                Create: {\n                  description,\n                  owner_id: walletConnection.getAccountId(),\n                  receiver_id: receiverId,\n                  token_name: token,\n                  tokens_per_tick: speed,\n                  balance: deposit,\n                  is_auto_deposit_enabled: false, // TODO: Remove after switching to contract v2\n                  is_auto_start_enabled: isAutoStartEnabled,\n                },\n              }),\n            },\n            gas: GAS_SIZE,\n            amount: 1,\n            callbackUrl,\n          });\n        }\n        return res;\n      } catch (error) {\n        console.debug(error);\n        throw error;\n      }\n    },\n    depositStream: async function depositStream({ streamId, token, deposit }) {\n      if (token === 'NEAR') {\n        await contract.deposit({ stream_id: streamId }, GAS_SIZE, deposit);\n      } else {\n        const tokenContract = ft[token].contract;\n\n        // @ts-ignore\n        await tokenContract.ft_transfer_call(\n          {\n            receiver_id: contract.contractId,\n            amount: deposit,\n            msg: JSON.stringify({\n              Deposit: streamId,\n            }),\n          },\n          GAS_SIZE,\n          1\n        );\n      }\n    },\n    pauseStream: async function pauseStream({ streamId }) {\n      const res = await contract.pause_stream(\n        { stream_id: streamId },\n        GAS_SIZE,\n        operationalCommission\n      );\n\n      return res;\n    },\n    startStream: async function startStream({ streamId }) {\n      const res = await contract.start_stream(\n        { stream_id: streamId },\n        GAS_SIZE,\n        operationalCommission\n      );\n\n      return res;\n    },\n    stopStream: async function stopStream({ streamId }) {\n      const res = await contract.stop_stream(\n        { stream_id: streamId },\n        GAS_SIZE,\n        operationalCommission\n      );\n      return res;\n    },\n    // View methods\n    getStream: async function getStream({ streamId }) {\n      const res = await contract.get_stream({\n        stream_id: streamId,\n      });\n\n      return res;\n    },\n    getStatus: async function getStatus() {\n      const res = await contract.get_status({});\n      return res;\n    },\n    getStreamHistory: async function getStreamHistory({ streamId, from, to }) {\n      const res = await contract.get_stream_history({\n        stream_id: streamId,\n        from,\n        to,\n      });\n\n      return res;\n    },\n  };\n}\n","import * as nearAPI from 'near-api-js';\nimport {Contract, WalletConnection} from 'near-api-js';\n\nimport {\n  CONTRACT_CHANGE_METHODS as NEAR_CHANGE_METHODS,\n  CONTRACT_VIEW_METHODS as NEAR_VIEW_METHODS,\n} from '../near/constants';\n\nimport {ROKETO_CONTRACT_NAME} from './config';\nimport {RoketoContract} from './interfaces/contracts';\nimport {RoketoApi} from './interfaces/roketo-api';\nimport {RoketoStatus, RoketoTokenStatus} from './interfaces/entities';\nimport {RoketoContractApi} from './contract-api';\nimport {\n  NEAR_BRIDGE,\n  CONTRACT_CHANGE_METHODS as ROKETO_CHANGE_METHODS,\n  CONTRACT_VIEW_METHODS as ROKETO_VIEW_METHODS,\n} from './constants';\n\nexport interface Roketo {\n  api: RoketoApi;\n  status: RoketoStatus;\n  tokenMeta: (ticker: string) => RoketoTokenStatus | undefined;\n  isBridged: (ticker: string) => boolean;\n}\n\nconst tokensToMap = (tokens: RoketoTokenStatus[]) => {\n  const map: Record<string, RoketoTokenStatus> = {};\n  tokens.forEach((token) => {\n    map[token.ticker] = token;\n  });\n  return map;\n};\n\nexport async function initRoketo({\n  walletConnection,\n}: {\n  walletConnection: WalletConnection;\n}): Promise<Roketo> {\n  const account = await walletConnection.account();\n\n  if (!ROKETO_CONTRACT_NAME) {\n    throw new Error('ROKETO_CONTRACT_NAME should have a value.');\n  }\n\n  const contract = new nearAPI.Contract(account, ROKETO_CONTRACT_NAME, {\n    viewMethods: ROKETO_VIEW_METHODS,\n    changeMethods: ROKETO_CHANGE_METHODS,\n  }) as RoketoContract;\n\n  const status = await contract.get_status({});\n  const ft: Record<\n    string,\n    {\n      name: string;\n      address: string;\n      contract: Contract;\n    }\n  > = {};\n\n  const tokensMap = tokensToMap(status.tokens);\n\n  status.tokens.forEach((token) => {\n    ft[token.ticker] = {\n      name: token.ticker,\n      address: token.account_id,\n      contract: new nearAPI.Contract(account, token.account_id, {\n        viewMethods: NEAR_VIEW_METHODS,\n        changeMethods: NEAR_CHANGE_METHODS,\n      }),\n    };\n  });\n\n  // create high level api for outside usage\n  const api = RoketoContractApi({\n    contract,\n    ft,\n    walletConnection,\n    account,\n    operationalCommission: status.operational_commission,\n    tokens: tokensMap,\n  });\n\n  const tokenMeta = (ticker: string) => status.tokens.find((t) => t.ticker === ticker);\n\n  const isBridged = (ticker: string) => {\n    const meta = tokenMeta(ticker);\n\n    return Boolean(meta?.account_id.endsWith(NEAR_BRIDGE));\n  };\n\n  return {\n    api,\n    status,\n    tokenMeta,\n    isBridged,\n  };\n}\n","type TokenTicker = string;\n\nexport type TokenMetadata = {\n  spec: null,\n  name: string,\n  symbol: string,\n  icon: '',\n  reference: null,\n  reference_hash: null,\n  decimals: number,\n};\n\nexport class TokenMeta {\n  ticker: TokenTicker;\n\n  metadata: TokenMetadata;\n\n  constructor({ ticker, metadata }: { ticker: TokenTicker, metadata: TokenMetadata }) {\n    this.ticker = ticker;\n    this.metadata = metadata;\n  }\n}\n","import { Contract, Account, ConnectedWalletAccount } from 'near-api-js';\n\nimport { RoketoTokenStatus } from '../api/roketo/interfaces/entities';\nimport { TokenMeta, TokenMetadata } from './TokenMeta';\n\ntype FTContract = Contract & {\n  ft_balance_of: (options: { account_id: string }) => Promise<never>;\n  ft_metadata: () => Promise<TokenMetadata>;\n  storage_balance_of: (options: { account_id: string }) => Promise<never>;\n};\n\nfunction createFTContract(account: Account, address: string) {\n  return new Contract(account, address, {\n    viewMethods: ['ft_balance_of', 'ft_metadata', 'storage_balance_of'],\n    changeMethods: ['ft_transfer', 'ft_transfer_call'],\n  }) as FTContract; // TODO: type without type assertion\n}\n\nconst NEAR_META = new TokenMeta({\n  ticker: 'NEAR',\n  metadata: {\n    spec: null,\n    name: 'Near Protocol',\n    symbol: 'NEAR',\n    icon: '',\n    reference: null,\n    reference_hash: null,\n    decimals: 24,\n  },\n});\n\nexport class Tokens {\n  __tokens: RoketoTokenStatus[];\n\n  __account: ConnectedWalletAccount;\n\n  __contracts: Record<string, FTContract>;\n\n  tokens: Record<string, TokenMeta>\n\n  constructor({ tokens, account }: { tokens: RoketoTokenStatus[], account: ConnectedWalletAccount }) {\n    this.__tokens = tokens;\n    this.__account = account;\n    this.__contracts = {};\n    this.tokens = {};\n\n    if (!tokens || !account) return;\n\n    tokens.forEach((token) => {\n      this.__contracts[token.ticker] = createFTContract(account, token.account_id);\n    });\n  }\n\n  get tickers() {\n    return Object.keys(this.tokens);\n  }\n\n  contract(ticker: string) {\n    return this.__contracts[ticker];\n  }\n\n  get(ticker: string) {\n    const token = this.tokens[ticker]\n      || new TokenMeta({\n        ticker,\n        metadata: {\n          spec: null,\n          name: ticker,\n          symbol: ticker,\n          icon: '',\n          reference: null,\n          reference_hash: null,\n          decimals: 24,\n        },\n      });\n\n    return token;\n  }\n\n  async init() {\n    await Promise.all(\n      this.__tokens.map(async (token) => {\n        let meta: TokenMeta;\n        if (token.ticker === 'NEAR') {\n          meta = NEAR_META;\n        } else if (!token.account_id) {\n          meta = new TokenMeta({\n            ticker: token.ticker,\n            metadata: {\n              spec: null,\n              name: token.ticker,\n              symbol: token.ticker,\n              icon: '',\n              reference: null,\n              reference_hash: null,\n              decimals: 24,\n            },\n          });\n        } else {\n          // construct Near FT contract for address\n\n          const contract = this.contract(token.ticker);\n          const metadata = await contract.ft_metadata();\n\n          if (metadata.decimals < 8) {\n            // we cant support anything with decimals less than 8\n            return;\n          }\n\n          meta = new TokenMeta({\n            ticker: token.ticker,\n            metadata,\n          });\n        }\n\n        this.tokens[token.ticker] = meta;\n      }),\n    );\n  }\n\n  async balance(ticker: string) {\n    if (ticker === 'NEAR') {\n      const balance = await this.__account.getAccountBalance();\n      return balance.total;\n    }\n    const contract = this.contract(ticker);\n    const res = await contract.ft_balance_of({\n      account_id: this.__account.accountId,\n    });\n\n    return res;\n  }\n\n  // Only ft tokens are allowed\n  // DO NOT PROVIDE NEAR HERE\n  async ftStorageBalance(ticker: string) {\n    const contract = this.contract(ticker);\n    const res = await contract.storage_balance_of({\n      account_id: this.__account.accountId,\n    });\n\n    return res;\n  }\n}\n","import React, { useEffect, useState, useContext } from 'react';\nimport { Near, WalletConnection } from 'near-api-js';\n\nimport { createNearInstance, getNearAuth, NearAuth } from './api/near';\nimport { initRoketo, Roketo } from './api/roketo';\nimport { Tokens } from './ft-tokens';\nimport { env } from '../../shared/config';\n\ntype AppServices = {\n  auth: NearAuth;\n  tokens: Tokens;\n  roketo: Roketo;\n  near: Near;\n  walletConnection: WalletConnection;\n};\nconst AppContext = React.createContext<AppServices | null>(null);\n\nexport function RoketoLegacyContextProvider({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const [context, setContext] = useState<AppServices | null>(null);\n\n  useEffect(() => {\n    const init = async () => {\n      const near = await createNearInstance();\n\n      const walletConnection = new WalletConnection(near, env.ROKETO_CONTRACT_NAME);\n      const auth = getNearAuth(walletConnection);\n\n      const roketo = await initRoketo({walletConnection});\n\n      const tokens = new Tokens({\n        account: walletConnection.account(),\n        tokens: roketo.status.tokens,\n      });\n\n      await tokens.init();\n\n      setContext({\n        auth,\n        near,\n        roketo,\n        walletConnection,\n        tokens,\n      });\n    };\n\n    init();\n  }, []);\n\n  return (\n    <AppContext.Provider value={context}>\n      {context ? children : null}\n    </AppContext.Provider>\n  );\n}\n\nconst ERR_NOT_IN_NEAR_CONTEXT = new Error('Near context is not found');\n\nexport function useRoketoContext() {\n  const context = useContext(AppContext);\n\n  if (!context) {\n    throw ERR_NOT_IN_NEAR_CONTEXT;\n  }\n\n  return context;\n}\n","import classNames from 'classnames';\n\nimport { STREAM_STATUS } from '../api/roketo/constants';\nimport type { LegacyRoketoStream } from '../api/roketo/interfaces/entities';\n\nconst bindings = {\n  [STREAM_STATUS.INITIALIZED]: {\n    label: 'Initialized',\n  },\n  [STREAM_STATUS.ACTIVE]: {\n    label: 'Active',\n  },\n  [STREAM_STATUS.PAUSED]: {\n    label: 'Paused',\n  },\n  [STREAM_STATUS.FINISHED]: {\n    label: 'Finished',\n  },\n  [STREAM_STATUS.INTERRUPTED]: {\n    label: 'Finished',\n  },\n} as const;\n\ntype StreamStatusProps = {\n  stream: LegacyRoketoStream;\n  className?: string;\n};\n\nexport function StreamStatus({ stream, className }: StreamStatusProps) {\n  const binding = bindings[stream.status];\n\n  return (\n    <div className={classNames(className)}>\n      {binding.label}\n    </div>\n  );\n}\n","export function StartIcon() {\n  return (\n    <svg width=\"8\" height=\"10\" viewBox=\"0 0 8 10\" fill=\"none\">\n      <path d=\"M1.66634 2.76016L5.17968 5.00016L1.66634 7.24016V2.76016ZM0.333008 0.333496V9.66683L7.66634 5.00016L0.333008 0.333496Z\" fill=\"currentColor\" />\n    </svg>\n  );\n}\n","export function PauseIcon() {\n  return (\n    <svg width=\"8\" height=\"10\" viewBox=\"0 0 8 10\" fill=\"none\">\n      <path d=\"M0 9.66659H2.66667V0.333252H0V9.66659ZM5.33333 0.333252V9.66659H8V0.333252H5.33333Z\" fill=\"currentColor\"/>\n    </svg>\n  );\n}\n","export function StopIcon() {\n  return (\n    <svg width=\"8\" height=\"8\" viewBox=\"0 0 8 8\" fill=\"none\">\n      <path d=\"M6.66667 1.33333V6.66667H1.33333V1.33333H6.66667ZM8 0H0V8H8V0Z\" fill=\"currentColor\"/>\n    </svg>\n  );\n}\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport Modal from 'react-modal';\n\nimport { DropdownOpener } from 'shared/kit/DropdownOpener';\nimport { DropdownMenu, DropdownMenuDivider, DropdownMenuItem } from 'shared/kit/DropdownMenu';\nimport { useBool, BooleanControl } from '../../hooks/useBool';\nimport { useRoketoContext } from '../../roketo-context';\nimport type { LegacyRoketoStream } from '../../api/roketo/interfaces/entities';\nimport {isActiveStream, isDead, isPausedStream} from '../../api/roketo/helpers';\n\nimport { STREAM_STATUS } from '../../api/roketo/constants';\n\nimport { StreamStatus } from '../StreamStatus';\n\nimport styles from './styles.module.scss';\nimport { StartIcon } from './StartIcon';\nimport { PauseIcon } from './PauseIcon';\nimport { StopIcon } from './StopIcon';\n\ntype ConfirmModalProps = {\n  modalControl: BooleanControl;\n  onConfirm: () => void;\n};\n\nfunction PauseConfirmModal({ modalControl, onConfirm }: ConfirmModalProps) {\n  return (\n    <Modal\n      isOpen={modalControl.on}\n      onRequestClose={modalControl.turnOff}\n      className={styles.modalContent}\n      overlayClassName={styles.modalOverlay}\n    >\n      <h2 className={styles.modalHeader}>Are you sure?</h2>\n      <p>\n        As a stream receiver, you will not be able to resume stream. Only stream\n        owners can resume streams.\n      </p>\n      <div className={styles.modalButtons}>\n        <button\n          type=\"button\"\n          onClick={modalControl.turnOff}\n          className={classNames(styles.modalButton, styles.modalSecondary)}\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => {\n            modalControl.turnOff();\n            onConfirm();\n          }}\n          className={classNames(styles.modalButton, styles.modalWarning)}\n        >\n          Pause\n        </button>\n      </div>\n    </Modal>\n  );\n}\n\nfunction StopConfirmModal({ modalControl, onConfirm }: ConfirmModalProps) {\n  return (\n    <Modal\n      isOpen={modalControl.on}\n      onRequestClose={modalControl.turnOff}\n      className={styles.modalContent}\n      overlayClassName={styles.modalOverlay}\n    >\n      <h2 className={styles.modalHeader}>Stop stream</h2>\n      <p>\n        This action will completely shut down the stream. After that, it can't be turned on.\n      </p>\n      <div className={styles.modalButtons}>\n        <button\n          type=\"button\"\n          onClick={modalControl.turnOff}\n          className={classNames(styles.modalButton, styles.modalSecondary)}\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => {\n            modalControl.turnOff();\n            onConfirm();\n          }}\n          className={classNames(styles.modalButton, styles.modalDanger)}\n        >\n          Stop\n        </button>\n      </div>\n    </Modal>\n  );\n}\n\ntype StreamControlsProps = {\n  stream: LegacyRoketoStream;\n  className?: string;\n};\n\nexport function StreamControls({ stream, className }: StreamControlsProps) {\n  const { auth, roketo } = useRoketoContext();\n  const pauseModalControl = useBool(false);\n  const stopModalControl = useBool(false);\n  const [loading, setLoading] = useState(false);\n  const [menuOpened, setMenuOpened] = useState(false);\n\n  const isOutgoing = auth.accountId === stream.owner_id;\n  const isIncoming = auth.accountId === stream.receiver_id;\n  const isExternalStream = !isOutgoing && !isIncoming;\n\n  const handlePause = async () => {\n    setLoading(true);\n    await roketo.api.pauseStream({ streamId: stream.id });\n    setLoading(false);\n  }\n\n  const handleStart = async () => {\n    setLoading(true);\n    await roketo.api.startStream({ streamId: stream.id });\n    setLoading(false);\n  }\n\n  const handleStop = async () => {\n    setLoading(true);\n    await roketo.api.stopStream({ streamId: stream.id });\n    setLoading(false);\n  }\n\n  if (isDead(stream) || isExternalStream) {\n    return (\n      <StreamStatus\n        className={className}\n        stream={stream}\n      />\n    );\n  }\n\n  const onClickPause = () => {\n    setMenuOpened(false);\n    if (isIncoming) {\n      pauseModalControl.turnOn();\n    } else {\n      handlePause();\n    }\n  }\n\n  const onClickStop = () => {\n    setMenuOpened(false);\n    stopModalControl.turnOn();\n  }\n\n  const opened = menuOpened && !loading;\n\n  const shouldShowStartButton = stream.status !== STREAM_STATUS.ACTIVE && isOutgoing;\n  const shouldShowPauseButton = stream.status === STREAM_STATUS.ACTIVE;\n\n  const statusClassName = {\n    [styles.active]: isActiveStream(stream),\n    [styles.pause]: isPausedStream(stream),\n    [styles.stop]: isDead(stream),\n  };\n\n  return (\n    <div className={classNames(styles.relative, className)}>\n      <PauseConfirmModal\n        modalControl={pauseModalControl}\n        onConfirm={handlePause}\n      />\n\n      <StopConfirmModal\n        modalControl={stopModalControl}\n        onConfirm={handleStop}\n      />\n\n      <DropdownOpener\n        opened={opened}\n        onChange={setMenuOpened}\n        className={classNames(styles.dropdownOpener, statusClassName)}\n      >\n        {loading ? 'Loading...' : <StreamStatus stream={stream} className={styles.statusPadded} />}\n      </DropdownOpener>\n\n      <DropdownMenu\n        onClose={() => setMenuOpened(false)}\n        opened={opened}\n        className={styles.controlsMenu}\n      >\n        {shouldShowStartButton && (\n          <DropdownMenuItem>\n            <button\n              type=\"button\"\n              onClick={handleStart}\n              className={classNames(styles.controlButton, styles.start)}\n            >\n              <StartIcon />\n              <span>Start</span>\n              {' '}\n            </button>\n          </DropdownMenuItem>\n        )}\n\n        {shouldShowPauseButton && (\n          <DropdownMenuItem>\n            <button\n              type=\"button\"\n              onClick={onClickPause}\n              className={classNames(styles.controlButton, styles.pause)}\n            >\n              <PauseIcon />\n              <span>Pause</span>\n            </button>\n          </DropdownMenuItem>\n        )}\n\n        {(shouldShowStartButton || shouldShowPauseButton) &&\n          <DropdownMenuDivider />\n        }\n        <DropdownMenuItem>\n          <button\n            type=\"button\"\n            onClick={onClickStop}\n            className={classNames(styles.controlButton, styles.stop)}\n          >\n            <StopIcon />\n            <span>Stop</span>\n          </button>\n        </DropdownMenuItem>\n      </DropdownMenu>\n    </div>\n  );\n}\n","import { LegacyRoketoStream } from '../api/roketo/interfaces/entities';\nimport { useRoketoContext } from '../roketo-context';\n\nexport const STREAM_DIRECTION = {\n  IN: 'in',\n  OUT: 'out',\n};\n\ntype StreamDirectionKeyType = keyof typeof STREAM_DIRECTION;\n\nexport function useGetStreamDirection(stream: LegacyRoketoStream): typeof STREAM_DIRECTION[StreamDirectionKeyType] | null {\n  const { auth } = useRoketoContext();\n\n  if (stream.receiver_id === auth.accountId) {\n    return STREAM_DIRECTION.IN;\n  }\n\n  if (stream.owner_id === auth.accountId) {\n    return STREAM_DIRECTION.OUT;\n  }\n\n  return null;\n}\n","import React, { useRef } from 'react';\nimport useSWR, { SWRResponse } from 'swr';\nimport { differenceInSeconds, formatDuration, intervalToDuration } from 'date-fns';\nimport BigNumber from 'bignumber.js';\n\nimport { useRoketoContext } from '../roketo-context';\nimport { STREAM_DIRECTION, STREAM_STATUS } from '../api/roketo/constants';\nimport { LegacyRoketoStream, RoketoAccount } from '../api/roketo/interfaces/entities';\nimport { TICK_TO_MS, TICK_TO_S } from '../api/roketo/config';\nimport { isActiveStream, isDead, isIdling } from '../api/roketo/helpers';\nimport { SECONDS_IN_YEAR } from '../../../shared/constants';\nimport { shortEnLocale } from '../../../shared/helpers/date';\n\nfunction identifyStreamsDirection(streams: LegacyRoketoStream[], accountId: string) {\n  return streams.map((stream) => ({\n    ...stream,\n    direction:\n        stream.owner_id === accountId\n          ? STREAM_DIRECTION.OUT\n          : stream.receiver_id === accountId\n            ? STREAM_DIRECTION.IN\n            : null,\n  }));\n}\n\nexport function useAccount(): SWRResponse<RoketoAccount> {\n  const { auth, roketo } = useRoketoContext();\n\n  const swr = useSWR(\n    ['account', auth.accountId],\n    roketo.api.getCurrentAccount,\n    {\n      errorRetryInterval: 250,\n    },\n  );\n\n  return swr;\n}\n\nfunction interpolateStream(stream: LegacyRoketoStream, cachedBalance: string, cachedAt: number) {\n  if (!isActiveStream(stream)) {\n    return stream;\n  }\n\n  const secondsPassed = differenceInSeconds(Date.now(), cachedAt);\n\n  return {\n    ...stream,\n    available_to_withdraw: String(Math.min(\n      Number(cachedBalance) + Number(stream.tokens_per_tick) * TICK_TO_S * secondsPassed,\n      Number(stream.balance)\n    )),\n  };\n}\n\ntype Balances = {\n  values: {\n    [id: string]: string;\n  };\n  cachedAt: number;\n};\n\nconst BALANCES_PLACEHOLDER: Balances = {\n  values: {},\n  cachedAt: 0,\n};\n\nconst INTERPOLATIONS_BETWEEN_MULTIPLE_FETCHES = 29;\n\nexport function useLegacyStreams({ account }: { account?: RoketoAccount }) {\n  const { auth, roketo } = useRoketoContext();\n\n  const balances = useRef<Balances>(BALANCES_PLACEHOLDER);\n  const interpolationsLeft = useRef(0);\n\n  const swr = useSWR(\n    () => {\n      const key = account\n        ? ['streams', account.account_id, account.last_action]\n        : false;\n\n      return key;\n    },\n    async () => {\n      const streams = [\n        ...account?.dynamic_inputs || [],\n        ...account?.dynamic_outputs || [],\n        ...account?.static_streams || [],\n      ];\n\n      const fetchedStreams = await Promise.all(\n        streams.map((streamId) => roketo.api.getStream({ streamId })),\n      );\n\n      const identified = identifyStreamsDirection(\n        fetchedStreams,\n        auth.accountId,\n      ).filter((stream) => !isDead(stream));\n\n      balances.current = {\n        values: identified.reduce((balancesDraft, stream) => Object.assign(balancesDraft, {\n          [stream.id]: stream.available_to_withdraw\n        }), {}),\n        cachedAt: Date.now()\n      };\n\n      interpolationsLeft.current = INTERPOLATIONS_BETWEEN_MULTIPLE_FETCHES;\n\n      return {\n        inputs: identified.filter((stream) => stream.direction === STREAM_DIRECTION.IN),\n        outputs: identified.filter((stream) => stream.direction === STREAM_DIRECTION.OUT),\n      };\n    },\n  );\n\n  React.useEffect(() => {\n    const pollerId = setTimeout(() => {\n      if (!swr.data || interpolationsLeft.current <= 0) {\n        swr.mutate();\n      } else {\n        interpolationsLeft.current -= 1;\n\n        const interpolateAll = (stream: LegacyRoketoStream) => interpolateStream(stream, balances.current.values[stream.id], balances.current.cachedAt);\n\n        swr.mutate({\n          inputs: swr.data.inputs.map(interpolateAll),\n          outputs: swr.data.outputs.map(interpolateAll),\n        }, { revalidate: false });\n      }\n    }, 1000);\n\n    return () => clearTimeout(pollerId);\n  }, [swr]);\n\n  return swr;\n}\n\ntype Balance = {\n  value: string;\n  cachedAt: number;\n};\n\nconst BALANCE_PLACEHOLDER: Balance = {\n  value: '',\n  cachedAt: 0,\n};\n\nconst INTERPOLATIONS_BETWEEN_SINGLE_FETCHES = 9;\n\nexport function useLegacySingleStream(streamId: string, account?: RoketoAccount) {\n  const { roketo } = useRoketoContext();\n  const balance = useRef<Balance>(BALANCE_PLACEHOLDER);\n  const interpolationsLeft = useRef(0);\n\n  const swr = useSWR<LegacyRoketoStream>(\n    () => {\n      const key = account\n        ? ['stream', streamId, account.account_id, account.last_action]\n        : false;\n      return key;\n    },\n    async () => {\n      const stream = await roketo.api.getStream({ streamId });\n\n      balance.current = {\n        value: stream.available_to_withdraw,\n        cachedAt: Date.now(),\n      };\n\n      interpolationsLeft.current = INTERPOLATIONS_BETWEEN_SINGLE_FETCHES;\n\n      return stream;\n    },\n    {\n      errorRetryInterval: 2000,\n      errorRetryCount: 3,\n    },\n  );\n\n  const stream = swr.data || {\n    balance: null,\n    available_to_withdraw: null,\n    status: null,\n  };\n\n  const isCompleted = stream.balance === stream.available_to_withdraw;\n\n  React.useEffect(() => {\n    if (stream.status === STREAM_STATUS.ACTIVE && !isCompleted) {\n      const pollerId = setTimeout(() => {\n        if (!swr.data || interpolationsLeft.current <= 0) {\n          swr.mutate();\n        } else {\n          interpolationsLeft.current -= 1;\n\n          swr.mutate(interpolateStream(swr.data, balance.current.value, balance.current.cachedAt), { revalidate: false });\n        }\n      }, 1000);\n\n      return () => clearTimeout(pollerId);\n    }\n\n    return undefined;\n  }, [stream.status, isCompleted, swr]);\n\n  return swr;\n}\n\nfunction calculateEndInfo(stream: LegacyRoketoStream, balance: BigNumber) {\n  /**\n   * if stream is not started yet or paused right now\n   * then there is no way to calculate stream end time\n   * */\n  if (isIdling(stream)) return null\n\n  const tokensPerMs = new BigNumber(stream.tokens_per_tick).multipliedBy(TICK_TO_MS)\n  const lastActionTime = Number(stream.timestamp_created) / 1000000\n  // const lastActionTime = stream.last_action / 1000000\n\n  const timeToCompleteEntireStream = balance.dividedBy(tokensPerMs).toNumber()\n  /**\n   * if this stream is active but 100% complete then it will be a time in the past\n   * as well as in the case of \"Finished\" stream\n   * othewise this stream is still working and this time will be in the future\n   */\n  return lastActionTime + timeToCompleteEntireStream\n}\n\nexport function streamViewData(stream: LegacyRoketoStream, withExtrapolation: boolean = true) {\n  const MAX_SEC = SECONDS_IN_YEAR * 1000;\n\n  const availableToWithdraw = withExtrapolation ? new BigNumber(stream.available_to_withdraw) : new BigNumber(0);\n\n  const secondsLeft = BigNumber.minimum(\n    MAX_SEC,\n    new BigNumber(stream.balance)\n      .minus(availableToWithdraw)\n      .dividedBy(stream.tokens_per_tick)\n      .dividedBy(TICK_TO_S)\n      .toFixed()\n  ).toNumber();\n\n  const duration = intervalToDuration({ start: 0, end: secondsLeft * 1000 });\n\n  if (duration.days || duration.weeks || duration.months || duration.years) {\n    duration.seconds = 0;\n  }\n\n  const timeLeft = formatDuration(duration, { locale: shortEnLocale });\n\n  const balance = new BigNumber(stream.balance)\n  // progress bar calculations\n  const full = balance.plus(stream.tokens_total_withdrawn);\n  const withdrawn = new BigNumber(stream.tokens_total_withdrawn);\n  const streamed = withdrawn.plus(availableToWithdraw);\n\n  const left = full.minus(streamed);\n  const progresses = [\n    withdrawn.dividedBy(full).toNumber(),\n    streamed.dividedBy(full).toNumber()\n  ];\n\n  const percentages = {\n    left: full.minus(streamed).dividedBy(full).toNumber(),\n    streamed: streamed.dividedBy(full).toNumber(),\n    withdrawn: withdrawn.dividedBy(full).toNumber(),\n    available: availableToWithdraw.dividedBy(full).toNumber(),\n  };\n\n\n  return {\n    secondsLeft,\n    progresses,\n    isDead: isDead(stream),\n    percentages,\n    timeLeft,\n    streamEndInfo: calculateEndInfo(stream, balance),\n    progress: {\n      full: full.toFixed(),\n      withdrawn: withdrawn.toFixed(),\n      streamed: streamed.toFixed(),\n      left: left.toFixed(),\n      available: availableToWithdraw.toFixed(),\n    },\n  };\n}\n","export function BreadcrumbIcon({ className }: { className?: string }) {\n  return (\n    <svg className={className} width=\"8\" height=\"12\" viewBox=\"0 0 8 12\" fill=\"none\">\n      <path\n        d=\"M0.895051 11.6285C0.745051 11.6285 0.603384 11.5702 0.495051 11.4535C0.295051 11.2285 0.311718 10.8869 0.528384 10.6869L5.836 5.90328L0.495028 1.27828C0.270028 1.07828 0.261695 0.736613 0.461695 0.511613C0.661695 0.294947 1.00336 0.27828 1.22836 0.47828L6.97766 5.46995C7.23599 5.70328 7.23599 6.10328 6.97766 6.33662L1.26172 11.4869C1.15338 11.5869 1.02838 11.6285 0.895051 11.6285Z\"\n        fill=\"currentColor\"/>\n    </svg>\n  );\n}\n","import React from 'react';\nimport RCTooltip from 'rc-tooltip';\nimport cn from 'classnames';\nimport type { TooltipProps as RCTooltipProps } from 'rc-tooltip/lib/Tooltip';\nimport 'rc-tooltip/assets/bootstrap_white.css';\n\nimport styles from './styles.module.scss';\n\ntype TooltipProps = {\n  placement?: RCTooltipProps[\"placement\"];\n  children?: React.ReactElement;\n  overlay: RCTooltipProps[\"overlay\"];\n  align?: RCTooltipProps[\"align\"];\n  overlayClassName?: RCTooltipProps[\"overlayClassName\"];\n};\n\nexport function Tooltip({\n  placement = 'top',\n  children,\n  overlay,\n  align,\n  overlayClassName\n}: TooltipProps) {\n  return (\n    <RCTooltip\n      align={align}\n      placement={placement}\n      overlay={overlay}\n      overlayClassName={cn(styles.defaultOverlay, overlayClassName)}\n    >\n      {children || <span className={styles.defaultIcon}>?</span>}\n    </RCTooltip>\n  );\n}\n","import React from 'react';\n\nimport { useRoketoContext } from '../../roketo-context';\n\nfunction assertMethodHasStreamId(streamId?: string): asserts streamId {\n  console.assert(streamId, 'Provide stream id to use stream methods');\n}\n\nexport function useStreamControl(streamId?: string) {\n  const { roketo } = useRoketoContext();\n  const [loading, setLoading] = React.useState(false);\n\n  async function updateAllAndWithdraw({ tokensWithoutStorage = 0 }) {\n    await roketo.api.updateAccount({ tokensWithoutStorage });\n  }\n\n  async function depositFunc({ token, deposit }: { token: string, deposit: string }) {\n    assertMethodHasStreamId(streamId);\n\n    await roketo.api.depositStream({\n      token,\n      deposit,\n      streamId,\n    });\n    // token === 'NEAR'\n    //   ? await roketo.api.depositStream({\n    //       streamId,\n    //       deposit,\n    //     })\n    //   : await near.near.fts[token].ft_transfer_call(\n    //       {\n    //         receiver_id: near.near.contractName,\n    //         amount: deposit,\n    //         memo: 'xyiming transfer',\n    //         msg: streamId,\n    //       },\n    //       '200000000000000',\n    //       1,\n    //     );\n  }\n\n  async function pause() {\n    assertMethodHasStreamId(streamId);\n    console.debug('pausing', streamId);\n    const res = await roketo.api.pauseStream({\n      streamId,\n    });\n    console.debug('pausing res', res);\n  }\n\n  async function restart() {\n    assertMethodHasStreamId(streamId);\n    console.debug('restarting', streamId);\n    const res = await roketo.api.startStream({ streamId });\n    console.debug('restarting res', res);\n  }\n\n  async function stop() {\n    assertMethodHasStreamId(streamId);\n    console.debug('Stop called stopping', streamId);\n    const res = await roketo.api.stopStream({ streamId });\n    console.debug('stopping res', res);\n  }\n\n  function wrapped<T extends any[]>(fn: (...args: T) => Promise<void>) {\n    return async (...args: T) => {\n      if (loading) return;\n\n      setLoading(true);\n\n      try {\n        await fn(...args);\n      } finally {\n        setLoading(false);\n      }\n    };\n  }\n\n  return {\n    loading,\n    updateAllAndWithdraw: wrapped(updateAllAndWithdraw),\n    pause: wrapped(pause),\n    restart: wrapped(restart),\n    stop: wrapped(stop),\n    deposit: wrapped(depositFunc),\n  };\n}\n","import { TokenFormatter } from 'shared/api/ft/token-formatter';\n\nimport { useRoketoContext } from '../roketo-context';\n\nexport function useTokenFormatter(tokenName: string) {\n  const { tokens } = useRoketoContext();\n  const token = tokens.get(tokenName);\n\n  return new TokenFormatter(token.metadata.decimals);\n}\n","import React, { useMemo } from 'react';\nimport useSWR, { useSWRConfig } from 'swr';\nimport classNames from 'classnames';\nimport Modal from 'react-modal';\n\nimport { Button, DisplayMode } from '@ui/components/Button';\nimport { TokenImage } from 'shared/kit/TokenImage';\nimport { Tooltip } from 'shared/kit/Tooltip';\nimport { useBool } from '../../hooks/useBool';\nimport { useRoketoContext } from '../../roketo-context';\nimport { useAccount, useLegacyStreams } from '../../roketo-resource';\n\nimport { useStreamControl } from './useStreamControl';\nimport { useTokenFormatter } from '../../hooks/useTokenFormatter';\n\ntype TokenBalanceProps = {\n  ticker: string;\n  balance: number;\n  className: string;\n};\n\nfunction TokenBalance({ ticker, balance, className }: TokenBalanceProps) {\n  const formatter = useTokenFormatter(ticker);\n  const balanceInt = formatter.amount(balance);\n  return (\n    <div\n      className={classNames(\n        'inline-flex items-center p-2 rounded-lg border',\n        className,\n      )}\n      style={{ borderColor: '#A7B0BE' }}\n    >\n      <TokenImage tokenAccountId={ticker} className=\"mr-2\" />\n      {' '}\n      <div>\n        <div>\n          <span className=\"font-semibold\">{balanceInt}</span>\n          {' '}\n          <span className=\"text-gray\">{ticker}</span>\n        </div>\n        <div>{ticker}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction useWithdrawReadyBalances() {\n  const { roketo, tokens } = useRoketoContext();\n  const accountSWR = useAccount();\n\n  const streamsSWR = useLegacyStreams({ account: accountSWR.data });\n\n  const balances = useMemo(() => {\n    const balancesValue: Record<string, number> = {};\n    if (accountSWR.data && streamsSWR.data) {\n      accountSWR.data.ready_to_withdraw.forEach(([ticker, balance]) => {\n        balancesValue[ticker] = balancesValue[ticker] || 0;\n        balancesValue[ticker] += Number(balance);\n      });\n\n      streamsSWR.data.inputs.forEach((stream) => {\n        balancesValue[stream.ticker] = balancesValue[stream.ticker] || 0;\n        balancesValue[stream.ticker] += Number(stream.available_to_withdraw);\n      });\n    }\n\n    return balancesValue;\n  }, [accountSWR.data, streamsSWR.data]);\n\n  const tokensSWR = useSWR(\n    () => {\n      const { NEAR, ...balancesWithoutNear } = balances;\n      const keys = Object.keys(balancesWithoutNear);\n      keys.sort();\n      return JSON.stringify(keys);\n    },\n    (rawKeys) => {\n      const tickers: string[] = JSON.parse(rawKeys);\n\n      return Promise.all(\n        tickers.map(async (ticker) => ({\n          ticker,\n          hasStorageBalance: Boolean(await tokens.ftStorageBalance(ticker)),\n        })),\n      );\n    },\n    {\n      refreshInterval: 5000,\n    },\n  );\n\n  const loading = !accountSWR.data || !streamsSWR.data || !tokensSWR.data;\n  const notRegisteredTokens = (tokensSWR.data || []).filter(\n    ({ hasStorageBalance }) => !hasStorageBalance,\n  );\n\n  const tokensRequireManualDeposit = notRegisteredTokens.filter(\n    ({ ticker }) => roketo.isBridged(ticker),\n  );\n\n  const isSafeToWithdraw = tokensRequireManualDeposit.length === 0 && tokensSWR.data;\n\n  return {\n    balances: Object.entries(balances),\n    loading,\n    tokensRequireManualDeposit,\n    notRegisteredTokens,\n    isSafeToWithdraw,\n  };\n}\n\ntype WithdrawAllButtonProps = {\n  loadingText?: string;\n  color?: string;\n  children?: React.ReactNode;\n  size?: 'normal' | 'big';\n};\n\nexport function WithdrawAllButton(props: WithdrawAllButtonProps) {\n  const { auth } = useRoketoContext();\n  const streamControl = useStreamControl();\n  const { mutate } = useSWRConfig();\n  const modalControl = useBool(false);\n\n  const {\n    balances, loading, isSafeToWithdraw, notRegisteredTokens,\n  } = useWithdrawReadyBalances();\n\n  async function updateAllAndWithdraw() {\n    await streamControl.updateAllAndWithdraw({\n      tokensWithoutStorage: notRegisteredTokens.length,\n    });\n    mutate(['account', auth.accountId]);\n  }\n\n  async function showNEP141Popup() {\n    modalControl.setOn(true);\n  }\n\n  const modal = (\n    <Modal\n      isOpen={modalControl.on}\n      onRequestClose={modalControl.turnOff}\n      className=\"ModalContent\"\n      overlayClassName=\"ModalOverlay\"\n    >\n      <h2 className=\"text-2xl mb-6\">Restricted withdrawal</h2>\n      <p>\n        Due to NEP-141 issues you are required to do storage deposit before\n        withdrawing. You can do it by buying any amount of\n        {' '}\n        {notRegisteredTokens.map(({ ticker }) => ticker).join(', ')}\n        {' '}\n        tokens at any\n        DEX\n      </p>\n    </Modal>\n  );\n\n  const onClick = loading\n    ? () => {}\n    : () => {\n      if (isSafeToWithdraw) {\n        updateAllAndWithdraw();\n      } else {\n        showNEP141Popup();\n      }\n    };\n\n  return (\n    <>\n      <Tooltip\n        placement=\"bottom\"\n        align={{ offset: [0, 20] }}\n        overlay={(\n          <div className=\"text-left\">\n            <p className=\"mb-4 text-gray\">\n              Move all received tokens to your wallet. With Roketo you can only\n              withdraw from all your legacy streams simultaneously.\n            </p>\n            <div className=\"text-left\">\n              {loading ? (\n                <p className=\"font-semibold text-center\">Loading balances...</p>\n              ) : balances.length ? (\n                <>\n                  <p className=\"font-semibold mb-2\">Available balances:</p>\n                  <div>\n                    {balances.map(([ticker, balance]) => (\n                      <TokenBalance\n                        ticker={ticker}\n                        balance={balance}\n                        className=\"w-full mb-2\"\n                        key={ticker}\n                      />\n                    ))}\n                  </div>\n                </>\n              ) : (\n                <p className=\"font-semibold text-center\">\n                  You have nothing to withdraw\n                </p>\n              )}\n            </div>\n          </div>\n        )}\n      >\n        <Button\n          {...props}\n          onClick={onClick}\n          displayMode={DisplayMode.action}\n        />\n      </Tooltip>\n      {modalControl.on ? modal : null}\n    </>\n  );\n}\n","import React, {useState} from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport classNames from 'classnames';\nimport { format, isPast } from 'date-fns';\n\nimport { LinkIcon } from '@ui/icons/Link';\nimport { PageError } from 'shared/components/PageError';\nimport {DropdownOpener} from 'shared/kit/DropdownOpener';\nimport { Layout } from '@ui/components/Layout';\nimport { getStreamingSpeed } from 'features/create-stream/lib';\nimport { ProgressBar } from '@ui/components/ProgressBar';\nimport { TokenImage } from 'shared/kit/TokenImage';\nimport { getRoundedPercentageRatio } from 'shared/helpers/math';\n\nimport { STREAM_STATUS } from '../api/roketo/constants';\nimport { StreamControls } from '../stream-control/StreamControls';\nimport { STREAM_DIRECTION, useGetStreamDirection } from '../hooks/useGetStreamDirection';\nimport { streamViewData, useAccount, useLegacySingleStream } from '../roketo-resource';\nimport type { LegacyRoketoStream } from '../api/roketo/interfaces/entities';\nimport { getLegacyStreamLink, LEGACY_ROUTES_MAP } from '../routing';\nimport { BreadcrumbIcon } from './BreadcrumbIcon';\nimport styles from './styles.module.scss';\nimport { TICK_TO_S } from '../api/roketo/config';\nimport { useRoketoContext } from '../roketo-context';\nimport { WithdrawAllButton } from '../stream-control/WithdrawAllButton';\nimport { useTokenFormatter } from '../hooks/useTokenFormatter';\nimport { RichToken } from '../../../shared/api/ft';\n\nfunction StreamProgress({ stream }: { stream: LegacyRoketoStream }) {\n  const formatter = useTokenFormatter(stream.ticker);\n\n  const { progress: { streamed, withdrawn, full } } = streamViewData(stream);\n\n  return (\n    <div>\n      <div className={styles.numericProgress}>\n        <TokenImage\n          tokenAccountId={stream.ticker}\n          className={styles.tokenIcon}\n        />\n        <span>{`${stream.ticker} ${formatter.amount(streamed)} of ${formatter.amount(full)}`}</span>\n      </div>\n      <ProgressBar\n        total={full}\n        streamed={streamed}\n        withdrawn={withdrawn}\n      />\n    </div>\n  );\n}\n\nfunction StreamButtons({stream}: {stream: LegacyRoketoStream}) {\n  const {isDead} = streamViewData(stream);\n  const direction = useGetStreamDirection(stream);\n\n  if (isDead) {\n    return null;\n  }\n\n  return (\n    <div className={styles.buttons}>\n      <StreamControls stream={stream} />\n\n      {direction === STREAM_DIRECTION.IN && stream.status === STREAM_STATUS.ACTIVE && stream.available_to_withdraw !== '0' &&\n        <WithdrawAllButton>Withdraw all</WithdrawAllButton>\n      }\n    </div>\n  );\n}\n\nfunction StreamSpeed({stream}: {stream: LegacyRoketoStream}) {\n  const formatter = useTokenFormatter(stream.ticker);\n\n  return (\n    <div>\n      <span className={styles.blockTitle}>Speed</span>\n      <div className={styles.speed}>\n        {getStreamingSpeed(Number(stream.tokens_per_tick) * TICK_TO_S, { formatter, meta: { symbol: stream.ticker } } as unknown as RichToken)}\n      </div>\n    </div>\n  );\n}\n\nfunction StreamComment({stream}: {stream: LegacyRoketoStream}) {\n  let comment = '';\n\n  try {\n    const parsedDescription = JSON.parse(stream.description);\n    comment = parsedDescription.comment;\n  } catch {\n    comment = stream.description;\n  }\n\n  if (comment === '') {\n    return null;\n  }\n\n  return (\n    <div>\n      <span className={styles.blockTitle}>Comment</span>\n      <div className={styles.commentBody}>\n        {comment}\n      </div>\n    </div>\n  );\n}\n\nfunction CopyButton({stringToCopy}: {stringToCopy: string}) {\n  return (\n    <button\n      type=\"button\"\n      className={styles.copyButton}\n      onClick={() => copy(stringToCopy)}\n    >\n      <LinkIcon className={styles.linkIcon} />\n    </button>\n  );\n}\n\nfunction StreamCopyUrlBlock({stream}: {stream: LegacyRoketoStream}) {\n  const link = getLegacyStreamLink(stream.id);\n\n  return (\n    <div>\n      <div className={classNames(styles.blockTitle, styles.copyTitle)}>\n        Public link to view the stream\n        <CopyButton stringToCopy={link} />\n      </div>\n      <div className={styles.link}>{link}</div>\n    </div>\n  );\n}\n\nfunction InfoRow({ title, children }: { title: string, children: React.ReactNode }) {\n  return (\n    <div className={styles.infoRow}>\n      <span className={styles.infoTitle}>{title}</span>\n      {children}\n    </div>\n  );\n}\n\nfunction StreamData({stream}: {stream: LegacyRoketoStream}) {\n  const direction = useGetStreamDirection(stream);\n  const {tokens} = useRoketoContext();\n  const {\n    streamEndInfo,\n    timeLeft,\n    progress: {streamed, left, full},\n  } = streamViewData(stream);\n\n  const formatter = useTokenFormatter(stream.ticker);\n  const { metadata: meta } = tokens.get(stream.ticker);\n\n  const streamedToTotalPercentageRatio = getRoundedPercentageRatio(streamed, full).toNumber();\n  const leftToTotalPercentageRatio = getRoundedPercentageRatio(left, full).toNumber();\n  const available = Number(stream.available_to_withdraw);\n  \n  const [showOtherInfo, setShowOtherInfo] = useState(false);\n\n  return (\n    <div className={classNames(styles.tile, styles.infoTile)}>\n      <div className={styles.blockHeader}>Stream info</div>\n      <InfoRow title=\"Sender\">\n        <span className={styles.font16}>\n          {direction === STREAM_DIRECTION.OUT ? 'You' : stream.owner_id}\n        </span>\n      </InfoRow>\n      <InfoRow title=\"Receiver\">\n        <span className={styles.font16}>\n          {direction === STREAM_DIRECTION.IN ? 'You' : stream.receiver_id}\n        </span>\n      </InfoRow>\n      <InfoRow title=\"Amount\">\n        <span className={styles.font14}>\n          {formatter.amount(full)}&nbsp;\n          <span className={styles.font12}>{meta.symbol}</span>\n        </span>\n      </InfoRow>\n      <InfoRow title=\"Stream Created\">\n        <span className={styles.font14}>\n          {format(\n            new Date(Number(stream.timestamp_created) / 1000000),\n            \"PP 'at' p\",\n          )}\n        </span>\n      </InfoRow>\n      {streamEndInfo !== null && (\n        <InfoRow title={isPast(streamEndInfo) ? 'Stream Ended' : 'Stream Ends'}>\n          <span className={styles.font14}>\n            {format(new Date(streamEndInfo), \"PP 'at' p\")}\n          </span>\n        </InfoRow>\n      )}\n      <InfoRow title=\"Token\">\n        <span className={styles.font14}>\n          {meta.name},&nbsp;\n          <span className={styles.font12}>{meta.symbol}</span>\n        </span>\n      </InfoRow>\n\n      <div className={styles.divider} />\n      <DropdownOpener\n        className={styles.dropdownOpener}\n        opened={showOtherInfo}\n        onChange={(update) => {\n          setShowOtherInfo(update);\n        }}\n      >\n        <h3 className={styles.sectionHeader}>Other info</h3>\n      </DropdownOpener>\n\n      {showOtherInfo && (\n        <>\n          <InfoRow title=\"Stream ID\">\n            <div className={styles.centeredFlex}>\n              <span className={classNames(styles.font14, styles.streamID)}>\n                {stream.id}\n              </span>\n              <CopyButton stringToCopy={stream.id} />\n            </div>\n          </InfoRow>\n          <InfoRow title=\"Remaining\">\n            <span className={styles.font14}>{timeLeft || 'Finished'}</span>\n          </InfoRow>\n          <InfoRow title=\"Tokens Transferred\">\n            <span className={styles.font14}>\n              {formatter.amount(streamed)}&nbsp;\n              <span className={styles.font12}>\n                {meta.symbol}{' '}\n                <span className={styles.grey}>\n                  ({streamedToTotalPercentageRatio}%)\n                </span>\n              </span>\n            </span>\n          </InfoRow>\n          <InfoRow title=\"Tokens Left\">\n            <span className={styles.font14}>\n              {formatter.amount(left)}&nbsp;\n              <span className={styles.font12}>\n                {meta.symbol}{' '}\n                <span className={styles.grey}>\n                  ({leftToTotalPercentageRatio}%)\n                </span>\n              </span>\n            </span>\n          </InfoRow>\n          <InfoRow title=\"Tokens Available\">\n            <span className={styles.font14}>\n              {formatter.amount(available)}&nbsp;\n              <span className={styles.font12}>{meta.symbol}</span>\n            </span>\n          </InfoRow>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport function LegacyStreamPage() {\n  const {id} = useParams() as {id: string};\n  const accountSWR = useAccount();\n  const streamSWR = useLegacySingleStream(id, accountSWR.data);\n\n  const stream = streamSWR.data;\n  const pageError = streamSWR.error;\n\n  return (\n    <div className={styles.root}>\n      <Layout>\n        <div className={styles.breadbrumbs}>\n          <Link\n            to={LEGACY_ROUTES_MAP.legacyStreams.path}\n            className={styles.streamsLink}\n          >\n            Streams (legacy)\n          </Link>\n          <BreadcrumbIcon className={styles.breadbrumb} />\n          <span className={styles.id}>{id}</span>\n        </div>\n        {pageError &&\n          <PageError\n            className=\"max-w-2xl mx-auto py-32\"\n            message={pageError.message}\n            onRetry={() => {\n              streamSWR.mutate();\n            }}\n          />\n        }\n        {!pageError && !stream &&\n          <div className=\"py-32 text-center text-gray text-2xl\">Loading...</div>\n        }\n\n        {!pageError && stream &&\n          <main className={styles.stream}>\n            <div className={styles.left}>\n              <div className={classNames(styles.tile, styles.remaining)}>\n                <span className={styles.blockTitle}>\n                  Remaining\n                </span>\n                <span>\n                  {streamViewData(stream).timeLeft || 'Finished'}\n                </span>\n              </div>\n              <div className={classNames(styles.tile, styles.main)}>\n                <StreamProgress stream={stream} />\n                <StreamButtons stream={stream} />\n                <StreamSpeed stream={stream} />\n                <div className={styles.divider} />\n                <StreamComment stream={stream} />\n                <StreamCopyUrlBlock stream={stream} />\n              </div>\n            </div>\n            <div className={styles.right}>\n              <StreamData stream={stream} />\n            </div>\n          </main>\n        }\n      </Layout>\n    </div>\n  );\n}\n","import React from 'react';\nimport cn from 'classnames';\n\nimport styles from './styles.module.scss';\n\nexport enum OrderType {\n  asc = 'ascending',\n  desc = 'descending',\n}\n\ntype Props = {\n  type?: OrderType,\n  width?: number,\n  height?: number,\n  className?: string,\n}\n\nconst DEFAULT_WIDTH = 24;\nconst DEFAULT_HEIGHT = 24;\n\nexport const SortIcon = ({\n  width = DEFAULT_WIDTH,\n  height = DEFAULT_HEIGHT,\n  type = OrderType.desc,\n  className,\n}: Props) => (\n  <div className={cn({[styles.rotate]: type === OrderType.asc}, className)}>\n    <svg width={width} height={height} viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M3 18H9V16H3V18ZM3 6V8H21V6H3ZM3 13H15V11H3V13Z\" fill=\"#2B313B\"/>\n    </svg>\n  </div>\n);\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport styles from './styles.module.scss';\n\ntype RadioButtonProps<T> = {\n  active: boolean;\n  label: React.ReactNode;\n  value: T;\n  onChange: (value: T) => void;\n};\n\nexport function RadioButton<T>({\n  active, label, value, onChange,\n}: RadioButtonProps<T>) {\n  return (\n    <label className={styles.root}>\n      <input\n        type=\"radio\"\n        className=\"invisible w-0 h-0 absolute\"\n        checked={active}\n        onChange={() => onChange(value)}\n      />\n      <div\n        className={classNames(styles.radio, {[styles.radioActive]: active})}\n      />\n\n      <div className={styles.text}>\n        {label}\n      </div>\n    </label>\n  );\n}\n","import React, {useState} from 'react';\nimport cx from 'classnames';\nimport {RadioButton} from '../RadioButton';\nimport {DropdownOpener} from '../DropdownOpener';\nimport {DropdownMenu} from '../DropdownMenu';\n\nimport styles from './styles.module.scss';\n\ntype FilterOptionWithCounterProps = {\n  count: React.ReactNode;\n  option: React.ReactNode;\n};\n\nexport function FilterOptionWithCounter({count, option}: FilterOptionWithCounterProps) {\n  return (\n    <span>\n      {option}\n      {' '}\n      <span className=\"text-gray font-normal\">{count}</span>\n    </span>\n  );\n}\n\ntype FilterOption = {\n  label?: string;\n  fn: (a: any, b: any) => number;\n};\n\ntype FilterProps<T> = {\n  label: string;\n  options: T[];\n  renderOption: (option: T, active: boolean) => React.ReactNode;\n  renderActive?: (option: T) => React.ReactNode;\n  active: T;\n  onChange: (option: T) => void;\n  className?: string;\n  isDisabled?: boolean\n};\n\nexport function Filter<T extends string | FilterOption>({\n  label,\n  options,\n  renderOption,\n  renderActive,\n  active,\n  onChange,\n  className,\n  isDisabled\n}: FilterProps<T>) {\n  const [opened, setOpened] = useState(false);\n\n  return (\n    <div className={cx(styles.root, className)}>\n      {label &&\n        <div className=\"text-gray mr-2\">{label}</div>\n      }\n\n      <div className={styles.dropdownWrapper}>\n        <DropdownOpener\n          className={cx(\n            isDisabled && styles.dropdownInactive,\n            isDisabled && 'text-gray',\n          )}\n          opened={!isDisabled && opened}\n          onChange={setOpened}\n        >\n          {renderActive ? renderActive(active) : active}\n        </DropdownOpener>\n\n        <DropdownMenu\n          opened={!isDisabled && opened}\n          className={styles.dropdownMenu}\n          onClose={() => {\n            setOpened(false);\n          }}\n        >\n          {options.map((option) => (\n            <RadioButton\n              key={JSON.stringify(option)}\n              label={renderOption ? renderOption(option, active === option) : option}\n              active={active === option}\n              value={option}\n              onChange={onChange}\n            />\n          ))}\n        </DropdownMenu>\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport cn from 'classnames';\n\nimport {Button} from '@ui/components/Button';\n\nimport styles from './styles.module.scss';\n\ntype Props = {\n  directions: string[],\n  activeDirection: string,\n  isInactive: boolean\n  onDirectionClick: (direction: string) => void,\n};\n\nexport const DirectionSorts = ({directions, activeDirection, onDirectionClick, isInactive}: Props) => (\n  <div className={styles.root}>\n    {directions.map(direction => (\n      <Button\n        key={direction}\n        className={cn(styles.sort, {[styles.active]: direction === activeDirection})}\n        onClick={() => onDirectionClick(direction)}\n        disabled={isInactive}\n      >\n        {direction}\n      </Button>\n    ))}\n  </div>\n);\n","import { useState, useEffect, useMemo } from 'react';\n\nimport { LegacyRoketoStream } from '../../api/roketo/interfaces/entities';\n\ntype FilterFn = (stream: LegacyRoketoStream) => boolean;\n\ntype Option = string | FilterFn;\n\ntype Filter<T> = {\n  option: string;\n  selectOption: (option: string) => void;\n  options: Record<string, T>;\n  optionsArray: string[];\n  currentFilterFunction: T;\n};\n\nexport function useFilter<T extends Option>({ options }: { options: Record<string, T>}): Filter<T> {\n  const keys = useMemo(() => Object.keys(options), [options]);\n\n  const [option, selectOption] = useState(keys[0]);\n\n  const filter = useMemo(\n    () => {\n      const currentFilterFunction = options[option];\n\n      return {\n        option,\n        selectOption,\n        options,\n        optionsArray: keys,\n        currentFilterFunction,\n      };\n    },\n    [options, option, keys],\n  );\n\n  return filter;\n}\n\nexport function useFilters({ items, filters }: { items: (LegacyRoketoStream[] | undefined), filters: Filter<FilterFn>[] }) {\n  const [filteredItems, setFilteredItems] = useState<LegacyRoketoStream[] | undefined>(undefined);\n  const [filterCounts, setFilterCounts] = useState<Record<string, number>[]>([]);\n\n  useEffect(() => {\n    let filteredItemsValue = items;\n    const filterCountsValue: Record<string, number>[] = [];\n\n    filters.forEach((filter) => {\n      const filterRunResult: Record<string, LegacyRoketoStream[] | undefined> = {};\n\n      // run filter for every possible function\n      Object.keys(filter.options).forEach((option) => {\n        filterRunResult[option] = filteredItemsValue?.filter(filter.options[option]);\n      });\n\n      // calc counts for every option in filter\n      const currentFilterCount: Record<string, number> = {};\n      Object.keys(filterRunResult).forEach(\n        (option) => { currentFilterCount[option] = (filterRunResult[option] || []).length; },\n      );\n\n      filterCountsValue.push(currentFilterCount);\n      // set items to selected filter\n      filteredItemsValue = filterRunResult[filter.option];\n    });\n\n    setFilterCounts(filterCountsValue);\n    setFilteredItems(filteredItemsValue);\n  }, [items, filters]);\n\n  return {\n    filterCounts,\n    filteredItems,\n  };\n}\n","import { useRoketoContext } from 'app/roketo-context';\nimport { useMemo } from 'react';\n\nimport { STREAM_STATUS } from '../../api/roketo/constants';\nimport type { LegacyRoketoStream } from '../../api/roketo/interfaces/entities';\n\nimport { useFilter, useFilters } from './lib';\n\nconst STREAM_TYPE_FILTER = {\n  ALL: 'All',\n  INCOMING: 'Incoming',\n  OUTGOING: 'Outgoing',\n} as const;\n\nconst STREAM_STATUS_FILTER = {\n  ALL: 'All',\n  [STREAM_STATUS.INITIALIZED]: 'Initialized',\n  [STREAM_STATUS.ACTIVE]: 'Active',\n  [STREAM_STATUS.PAUSED]: 'Paused',\n};\n\nexport function useStreamFilters(streams: LegacyRoketoStream[] | undefined) {\n  const { auth } = useRoketoContext();\n\n  const statusOptions = useMemo(\n    () => ({\n      [STREAM_STATUS_FILTER.ALL]: () => true,\n      [STREAM_STATUS_FILTER[STREAM_STATUS.INITIALIZED]]: (stream: LegacyRoketoStream) => stream.status === STREAM_STATUS.INITIALIZED,\n      [STREAM_STATUS_FILTER[STREAM_STATUS.ACTIVE]]: (stream: LegacyRoketoStream) => stream.status === STREAM_STATUS.ACTIVE,\n      [STREAM_STATUS_FILTER[STREAM_STATUS.PAUSED]]: (stream: LegacyRoketoStream) => stream.status === STREAM_STATUS.PAUSED,\n    }),\n    [],\n  );\n  const directionOptions = useMemo(\n    () => ({\n      [STREAM_TYPE_FILTER.ALL]: () => true,\n      [STREAM_TYPE_FILTER.INCOMING]: (stream: LegacyRoketoStream) => auth.accountId === stream.receiver_id,\n      [STREAM_TYPE_FILTER.OUTGOING]: (stream: LegacyRoketoStream) => auth.accountId === stream.owner_id,\n    }),\n    [auth.accountId],\n  );\n\n  const statusFilter = useFilter({\n    options: statusOptions,\n  });\n\n  const directionFilter = useFilter({\n    options: directionOptions,\n  });\n\n  const combinedFilters = useMemo(\n    () => [directionFilter, statusFilter],\n    [directionFilter, statusFilter],\n  );\n\n  const result = useFilters({\n    items: streams,\n    filters: combinedFilters,\n  });\n\n  return {\n    statusFilter,\n    directionFilter,\n    result,\n  };\n}\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\n\nimport {SortIcon, OrderType} from '@ui/icons/Sort';\n\nimport { Filter, FilterOptionWithCounter } from 'shared/kit/Filter';\nimport type { LegacyRoketoStream } from '../../../api/roketo/interfaces/entities';\n\nimport {DirectionSorts} from '../DirectionSorts';\nimport { useStreamFilters } from '../useStreamFilters';\n\nimport styles from './styles.module.scss';\n\nfunction compareBy(a: LegacyRoketoStream, b: LegacyRoketoStream, key: keyof LegacyRoketoStream) {\n  return Number(b[key]) - Number(a[key]);\n}\n\nconst sorts = {\n  bigBalanceFirst: {\n    label: 'With high amount',\n    order: OrderType.desc,\n    fn: (a: LegacyRoketoStream, b: LegacyRoketoStream) => compareBy(a, b, 'balance'),\n  },\n  highSpeedFirst: {\n    label: 'With high speed',\n    order: OrderType.desc,\n    fn: (a: LegacyRoketoStream, b: LegacyRoketoStream) => compareBy(a, b, 'tokens_per_tick'),\n  },\n  highSpeedLast: {\n    label: 'With low speed',\n    order: OrderType.asc,\n    fn: (a: LegacyRoketoStream, b: LegacyRoketoStream) => compareBy(a, b, 'tokens_per_tick') * -1,\n  },\n  mostRecent: {\n    label: 'Most recent',\n    order: OrderType.desc,\n    fn: (a: LegacyRoketoStream, b: LegacyRoketoStream) => compareBy(a, b, 'timestamp_created'),\n  },\n};\n\ntype StreamFiltersProps = {\n  items: LegacyRoketoStream[] | undefined;\n  onFilterDone: (result: LegacyRoketoStream[] | undefined) => void;\n  className?: string;\n};\n\nexport function StreamFilters({ items, onFilterDone, className }: StreamFiltersProps) {\n  const filter = useStreamFilters(items);\n  const {filteredItems} = filter.result;\n\n  const [sorting, setSorting] = useState(sorts.mostRecent);\n  const sortOptions = Object.values(sorts);\n  const isEmptyList = items ? items.length === 0 : true\n\n  useEffect(() => {\n    if (!filteredItems) {\n      onFilterDone(filteredItems);\n\n      return;\n    }\n\n    const sortedStreams = [...filteredItems];\n\n    sortedStreams.sort(sorting.fn);\n\n    onFilterDone(sortedStreams);\n  }, [filteredItems, onFilterDone, sorting.fn]);\n\n  return (\n    <div className={classNames(styles.root, className)}>\n      <DirectionSorts\n        directions={filter.directionFilter.optionsArray}\n        activeDirection={filter.directionFilter.option}\n        onDirectionClick={filter.directionFilter.selectOption}\n        isInactive={isEmptyList}\n      />\n      <div className={styles.filtersWrapper}>\n        <Filter\n          options={filter.statusFilter.optionsArray}\n          label=\"Status:\"\n          active={filter.statusFilter.option}\n          onChange={filter.statusFilter.selectOption}\n          isDisabled={isEmptyList}\n          renderOption={(option) => {\n            const counts = filter.result.filterCounts[1];\n            return (\n              <FilterOptionWithCounter\n                key={option}\n                option={option}\n                count={counts ? counts[option] : ''}\n              />\n            );\n          }}\n        />\n\n        <Filter\n          options={sortOptions}\n          label=\"Show first:\"\n          active={sorting}\n          onChange={setSorting}\n          isDisabled={isEmptyList}\n          renderOption={(option) => <span>{option.label}</span>}\n          renderActive={(option) => (\n            <div className={styles.sortWithOrder}>\n              {option.order && <SortIcon type={option.order} />}\n              <span>{option.label}</span>\n            </div>\n          )}\n        />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport cn from 'classnames';\n\nimport styles from './styles.module.scss';\n\ntype Props = {\n  wrapperClassName?: string,\n  spinnerClassName?: string,\n  testId?: string;\n};\n\nexport const Spinner = ({wrapperClassName, spinnerClassName, testId}: Props) => (\n  <div className={cn(styles.wrapper, wrapperClassName)} data-testid={testId}>\n    <div className={cn(styles.spinner, spinnerClassName)}/>\n  </div>\n);\n","import React from 'react';\n\nimport styles from './styles.module.scss';\n\nexport const Name = ({name, label}: {name: string, label?: string | undefined}) => (\n  <div className={styles.flexCenter}>\n    <span className={styles.name}>{name}</span>\n\n    {label &&\n      <span className={styles.nameLabel}>{label}</span>\n    }\n  </div>\n);\n","export function ClockIcon({ className }: { className?: string }) {\n  return (\n    <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" className={className}>\n      <path\n        d=\"M8.99169 0.666504C4.39169 0.666504 0.666687 4.39984 0.666687 8.99984C0.666687 13.5998 4.39169 17.3332 8.99169 17.3332C13.6 17.3332 17.3334 13.5998 17.3334 8.99984C17.3334 4.39984 13.6 0.666504 8.99169 0.666504ZM9.00002 15.6665C5.31669 15.6665 2.33335 12.6832 2.33335 8.99984C2.33335 5.3165 5.31669 2.33317 9.00002 2.33317C12.6834 2.33317 15.6667 5.3165 15.6667 8.99984C15.6667 12.6832 12.6834 15.6665 9.00002 15.6665ZM9.41669 4.83317H8.16669V9.83317L12.5417 12.4582L13.1667 11.4332L9.41669 9.20817V4.83317Z\"\n        fill=\"black\"/>\n    </svg>\n  );\n}\n","import React from 'react';\nimport cn from 'classnames';\nimport RCTooltip from 'rc-tooltip';\n\nimport {ProgressBar} from 'shared/ui/components/ProgressBar';\nimport {ClockIcon} from 'shared/icons/Clock';\n\nimport {getRoundedPercentageRatio} from 'shared/helpers/math';\n\nimport {TokenFormatter} from 'shared/api/ft/token-formatter';\nimport {streamViewData} from '../../../../roketo-resource';\nimport {LegacyRoketoStream} from '../../../../api/roketo/interfaces/entities';\nimport { TICK_TO_S } from '../../../../api/roketo/config';\n\nimport styles from './styles.module.scss';\nimport { useTokenFormatter } from '../../../../hooks/useTokenFormatter';\n\nconst TOOLTIP_ALIGN = {\n  points: ['tl', 'bc'],\n  offset: [-24, 10],\n};\n\ntype StreamStatusProps = {\n  stream: LegacyRoketoStream;\n  className?: string;\n};\n\nexport const StreamProgress = ({stream, className}: StreamStatusProps) => {\n  const {ticker: tokenId, tokens_per_tick: tokensPerTick} = stream;\n\n  const tokensPerSec = Number(tokensPerTick) * TICK_TO_S;\n\n  const {progress, timeLeft} = streamViewData(stream);\n\n  const formatter = useTokenFormatter(tokenId);\n\n  const streamed = Number(formatter.amount(progress.streamed));\n  const withdrawn = Number(formatter.amount(progress.withdrawn));\n  const total = Number(formatter.amount(progress.full));\n\n  const streamedText = TokenFormatter.formatSmartly(streamed);\n  const withdrawnText = TokenFormatter.formatSmartly(withdrawn);\n\n  const streamedPercentage = getRoundedPercentageRatio(streamed, total, 1);\n  const withdrawnPercentage = getRoundedPercentageRatio(withdrawn, streamed, 1);\n\n  const progressText = `${streamedText} of ${total}`;\n\n  const {formattedValue: speedFormattedValue, unit: speedUnit} = formatter.tokensPerMeaningfulPeriod(tokensPerSec);\n\n  return (\n    <RCTooltip\n      overlayClassName={styles.overlay}\n      destroyTooltipOnHide\n      align={TOOLTIP_ALIGN}\n      placement=\"bottom\"\n      overlay={\n        <div className={cn(styles.tooltip, styles.text)}>\n          <div className={styles.innerStatus}>\n            <span>{progressText}</span>\n            {' '}\n            <span className={cn(styles.grey, styles.smaller)}>{tokenId}</span>\n          </div>\n\n          <ProgressBar\n            total={progress.full}\n            streamed={progress.streamed}\n            withdrawn={progress.withdrawn}\n          />\n\n          <div className={cn(styles.status, styles.speed)}>\n            {speedFormattedValue}{' '}\n            <span className={cn(styles.grey, styles.smaller)}>{tokenId} / {speedUnit}</span>\n          </div>\n\n          {timeLeft && (\n            <div className={styles.remained}>\n              <ClockIcon className={styles.clock}/>\n              {timeLeft}\n            </div>\n          )}\n\n          <div className={cn(styles.progress, styles.streamed)}>\n            Streamed: {streamedText}{' '}\n            <span className={cn(styles.grey, styles.smaller)}>\n               {`${streamedPercentage}%`}\n            </span>\n          </div>\n\n          <div className={cn(styles.progress, styles.withdrawn)}>\n            Withdrawn: {withdrawnText}{' '}\n            <span className={cn(styles.grey, styles.smaller)}>\n               {`${withdrawnPercentage}%`}\n            </span>\n          </div>\n        </div>\n      }\n    >\n      <div className={cn(styles.root, styles.text, className)}>\n        <div className={styles.status}>\n          <span>{progressText}</span>\n          {' '}\n          <span className={styles.grey}>{tokenId}</span>\n        </div>\n\n        <ProgressBar\n          total={progress.full}\n          streamed={progress.streamed}\n          withdrawn={progress.withdrawn}\n        />\n      </div>\n    </RCTooltip>\n  );\n};\n","import React, {useCallback} from 'react';\nimport cn from 'classnames';\nimport copy from 'clipboard-copy';\n\nimport {LinkIcon} from '@ui/icons/Link';\n\nimport { StreamControls } from '../../../../stream-control/StreamControls';\n\nimport {getLegacyStreamLink} from '../../../../routing';\nimport {LegacyRoketoStream} from '../../../../api/roketo/interfaces/entities';\n\nimport styles from './styles.module.scss';\n\nconst StreamLinkButton = ({onCLick}: { onCLick: (event: React.SyntheticEvent) => void }) => (\n  <button className={styles.linkButton} type=\"button\" onClick={onCLick}>\n    <LinkIcon/>\n  </button>\n);\n\ntype Props = {\n  stream: LegacyRoketoStream,\n  className?: string,\n}\n\nexport const Controls = ({className, stream}: Props) => {\n  const {id: streamId} = stream;\n\n  const handleLinkClick = useCallback((event: React.SyntheticEvent) => {\n    event.preventDefault();\n\n    const streamLink = getLegacyStreamLink(streamId);\n\n    copy(streamLink);\n  }, [streamId]);\n\n  return (\n    <div className={cn(styles.root, className)}>\n      <StreamControls stream={stream} />\n\n      <StreamLinkButton onCLick={handleLinkClick}/>\n    </div>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport {generatePath, Link} from 'react-router-dom';\n\nimport {LegacyRoketoStream} from '../../../../api/roketo/interfaces/entities';\nimport {STREAM_DIRECTION, useGetStreamDirection} from '../../../../hooks/useGetStreamDirection';\n\nimport {Name} from '../Name';\nimport {StreamProgress} from '../StreamProgress';\n\nimport {Controls} from '../Controls';\nimport styles from './styles.module.scss';\nimport { LEGACY_ROUTES_MAP } from '../../../../routing';\n\ntype StreamCardProps = {\n  stream: LegacyRoketoStream,\n  className?: string,\n}\n\nexport const StreamCard = ({stream, className}: StreamCardProps) => {\n  const {\n    id,\n    description,\n  } = stream;\n\n  let comment = '';\n\n  try {\n    const parsedDescription = JSON.parse(description);\n    comment = parsedDescription.comment;\n  } catch {\n    comment = description;\n  }\n\n  const isIncomingStream = useGetStreamDirection(stream) === STREAM_DIRECTION.IN;\n\n  const name = isIncomingStream ? stream.owner_id : stream.receiver_id;\n  const label = isIncomingStream ? undefined : 'Sending';\n\n  const streamPageLink = generatePath(LEGACY_ROUTES_MAP.legacyStream.path, {id});\n\n  return (\n    <div className={cn(styles.root, className)}>\n      <Link to={streamPageLink} className={styles.name}>\n        <Name name={name} label={label}/>\n      </Link>\n\n      <StreamProgress stream={stream} className={styles.withMarginRight} />\n\n      <Link to={streamPageLink} className='col-span-2 grow-0'>\n        <p className={styles.comment}>\n          {comment}\n        </p>\n      </Link>\n\n\n      <Controls\n        stream={stream}\n        className={cn(styles.controls, 'col-span-2 grow-0')}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nimport {Button} from '@ui/components/Button';\nimport {Spinner} from '@ui/components/Spinner';\n\nimport {LegacyRoketoStream} from '../../../../api/roketo/interfaces/entities';\nimport { useAccount, useLegacyStreams } from '../../../../roketo-resource';\n\nimport {StreamCard} from '../StreamCard';\nimport styles from './styles.module.scss';\n\ntype Props = {\n  displayingStreams: LegacyRoketoStream[] | undefined,\n\n  onCreateStreamClick: () => void,\n\n  className?: string,\n}\n\nconst EmptyState = ({children}: {children: React.ReactNode}) => <div className={styles.emptyState}>{children}</div>\n\nexport const StreamsList = (props: Props) => {\n  const {\n    className,\n    displayingStreams,\n    onCreateStreamClick,\n  } = props;\n\n  const accountSWR = useAccount();\n\n  const {data: streams} = useLegacyStreams({ account: accountSWR.data });\n  const {inputs = [], outputs = []} = streams || {};\n\n  const allStreams = [...inputs, ...outputs];\n  const allStreamsLength = allStreams.length;\n\n  const displayingStreamsLength = displayingStreams?.length ?? 0;\n\n  if (!streams) {\n    return (\n      <EmptyState>\n        <Spinner wrapperClassName={styles.loader} />\n      </EmptyState>\n    );\n  }\n\n  if (streams && allStreamsLength === 0) {\n    return (\n      <EmptyState>\n        <div>\n          You don't have any streams yet.\n        </div>\n        <Button onClick={onCreateStreamClick}>Create First Stream</Button>\n      </EmptyState>\n    );\n  }\n\n  if (streams && allStreamsLength !== 0 && displayingStreamsLength === 0) {\n    return (\n      <EmptyState>\n        <div>No streams matching your filters. Try selecting different ones</div>\n      </EmptyState>\n    );\n  }\n\n  return (\n    <div className={cn(styles.container, className)}>\n      <section className={styles.flexColumn}>\n        <div className={cn(styles.withPaddings, 'grid grid-cols-6 gap-x-10')}>\n          <h3 className={styles.title}>Wallet address</h3>\n          <h3 className={styles.title}>Amount to stream</h3>\n          <h3 className={styles.title}>Comment</h3>\n        </div>\n\n        {displayingStreams?.map(stream => (\n          <StreamCard\n            stream={stream}\n            key={stream.id}\n            className={cn(styles.withPaddings, 'grid grid-cols-6 gap-x-10')}\n          />\n        ))}\n      </section>\n    </div>\n  );\n}\n","import React, {useMemo, useState, useCallback} from 'react';\nimport cn from 'classnames';\n\nimport {Layout} from '@ui/components/Layout';\n\nimport {WithdrawAllButton} from '../stream-control/WithdrawAllButton';\nimport {StreamFilters} from './filtering/StreamFilters';\nimport {StreamsList} from './streamsList';\nimport {LegacyRoketoStream} from '../api/roketo/interfaces/entities';\n\nimport { useAccount, useLegacyStreams } from '../roketo-resource';\n\nimport styles from './styles.module.scss';\n\nexport const LegacyStreamsPage = () => {\n  const accountSWR = useAccount();\n\n  const {data: streams} = useLegacyStreams({ account: accountSWR.data });\n  const {inputs, outputs} = streams || {};\n  const allStreams = useMemo<LegacyRoketoStream[] | undefined>(\n    () => ((inputs || outputs) && [...(inputs || []), ...(outputs || [])]),\n    [inputs, outputs]\n  );\n\n  const [filteredItems, setFiltered] = useState<LegacyRoketoStream[] | undefined>([]);\n  const [isModalOpened, setIsModalOpened] = useState<boolean>(false);\n  const toggleModal = useCallback(\n    () => setIsModalOpened(!isModalOpened),\n    [setIsModalOpened, isModalOpened]\n  );\n\n  return (\n    <div className={styles.root}>\n      <Layout>\n        <section className={cn(styles.flex, styles.header)}>\n          <h1 className={styles.title}>Streams (legacy)</h1>\n\n          <div className={cn(styles.flex, styles.buttonsWrapper)}>\n            <WithdrawAllButton>Withdraw all</WithdrawAllButton>\n          </div>\n        </section>\n\n        <StreamFilters\n          items={allStreams}\n          onFilterDone={setFiltered}\n          className={styles.streamFilters}\n        />\n\n        <StreamsList\n          displayingStreams={filteredItems}\n          className={styles.section}\n          onCreateStreamClick={toggleModal}\n        />\n\n      </Layout>\n    </div>\n  );\n};\n\nexport function useShowLegacyStreams() {\n  const accountSWR = useAccount();\n\n  const {data: streams} = useLegacyStreams({ account: accountSWR.data });\n\n  return streams && (streams.inputs.length > 0 || streams.outputs.length > 0);\n}\n","import { useEffect, useState } from 'react';\n\nconst getMatches = (query: string): boolean => window?.matchMedia(query).matches ?? false;\n\nexport function useMediaQuery(query: string): boolean {\n  const [matches, setMatches] = useState<boolean>(() => getMatches(query));\n\n\n  useEffect(() => {\n    const matchMedia = window.matchMedia(query);\n\n    function handleChange() {\n      setMatches(getMatches(query));\n    }\n\n    // Triggered at the first client-side load and if query changes\n    handleChange();\n\n    // Listen matchMedia\n    if (matchMedia.addListener) {\n      matchMedia.addListener(handleChange);\n    } else {\n      matchMedia.addEventListener('change', handleChange);\n    }\n\n    return () => {\n      if (matchMedia.removeListener) {\n        matchMedia.removeListener(handleChange);\n      } else {\n        matchMedia.removeEventListener('change', handleChange);\n      }\n    };\n  }, [query, setMatches]);\n\n  return matches;\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\ntype Props = {\n  children?: React.ReactNode,\n  className?: string,\n\n  onClick?: () => void;\n  to: string,\n}\n\nconst NavigationLink = (props: Props) => {\n  const {\n    to,\n    className,\n    children,\n    onClick,\n  } = props;\n\n  return (\n    <Link\n      to={to}\n      className={className}\n      onClick={onClick}\n    >\n      {children}\n    </Link>\n  );\n};\n\nexport default NavigationLink;\n","import { useRoketoContext } from 'app/roketo-context';\nimport { isWNearTokenId } from 'shared/helpers/isWNearTokenId';\nimport { useToken } from 'shared/hooks/useToken';\n\nexport enum DisplayMode {\n  USD = 'USD',\n  CRYPTO = 'CRYPTO',\n  BOTH = 'BOTH',\n}\n\ntype BalanceProps = {\n  tokenAccountId: string,\n  className?: string,\n  // Display balance in USD or in Crypto currency\n  mode?: DisplayMode,\n}\n\nexport function Balance({ tokenAccountId, className, mode = DisplayMode.CRYPTO }: BalanceProps) {\n  const { auth, priceOracle } = useRoketoContext()\n  const { balance, formatter, meta } = useToken(tokenAccountId);\n\n  const actualCryptoBalance = isWNearTokenId(tokenAccountId)\n    ? auth.balance?.available || '0'\n    : balance;\n  const displayedCryptoAmount = formatter.amount(actualCryptoBalance);\n\n  const showInUSD = mode === DisplayMode.USD;\n\n  const amount = showInUSD\n    ? priceOracle.getPriceInUsd(tokenAccountId, displayedCryptoAmount)\n    : displayedCryptoAmount;\n  const currencySymbol = showInUSD ? '$' : meta.symbol;\n\n  return (\n    <span className={className}>\n      {`Balance: ${currencySymbol} ${amount}`}\n    </span>\n  );\n}\n","import React from 'react';\n\nimport {Route} from \"shared/helpers/routing\";\n\nimport NavigationLink from \"shared/components/NavigationLink\";\n\nimport styles from './styles.module.scss';\n\ntype PageListProps = {\n  pageRoutes: Route[],\n}\n\nexport const PageList = (props: PageListProps) => {\n  const {pageRoutes = []} = props;\n\n  if (pageRoutes.length === 0) {\n    return null;\n  }\n\n  return (\n    <ul className={styles.root}>\n      {pageRoutes.map(route => (\n        <li className={styles.pageLink} key={route.path}>\n          <NavigationLink\n            to={route.path}\n          >\n            {route.title}\n          </NavigationLink>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import React from 'react';\n\ntype Props = {\n  width?: number,\n  height?: number,\n  className?: string,\n}\n\nconst DEFAULT_WIDTH = 17;\nconst DEFAULT_HEIGHT = 16;\n\nexport const WalletIcon = ({width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT, className}: Props) => (\n    <div className={className}>\n      <svg width={width} height={height} viewBox=\"0 0 17 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.5 4.06667V2.16667C15.5 1.25 14.75 0.5 13.8333 0.5H2.16667C1.24167 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.24167 15.5 2.16667 15.5H13.8333C14.75 15.5 15.5 14.75 15.5 13.8333V11.9333C15.9917 11.6417 16.3333 11.1167 16.3333 10.5V5.5C16.3333 4.88333 15.9917 4.35833 15.5 4.06667ZM14.6667 5.5V10.5H8.83333V5.5H14.6667ZM2.16667 13.8333V2.16667H13.8333V3.83333H8.83333C7.91667 3.83333 7.16667 4.58333 7.16667 5.5V10.5C7.16667 11.4167 7.91667 12.1667 8.83333 12.1667H13.8333V13.8333H2.16667Z\" fill=\"#626F84\"/>\n      </svg>\n    </div>\n  );\n","import React from 'react';\n\ntype Props = {\n  width?: number,\n  height?: number,\n  className?: string,\n}\n\nconst DEFAULT_WIDTH = 20;\nconst DEFAULT_HEIGHT = 16;\n\nexport const IncomeIcon = ({width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT, className}: Props) => (\n  <div className={className}>\n    <svg width={width} height={height} viewBox=\"0 0 20 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334ZM17.5 0.508362H2.49998C1.58331 0.508362 0.833313 1.25836 0.833313 2.17503V5.50003H2.49998V2.15836H17.5V13.85H2.49998V10.5H0.833313V13.8417C0.833313 14.7584 1.58331 15.4917 2.49998 15.4917H17.5C18.4166 15.4917 19.1666 14.7584 19.1666 13.8417V2.17503C19.1666 1.25003 18.4166 0.508362 17.5 0.508362ZM9.16665 11.3334L12.5 8.00003L9.16665 4.6667V7.1667H0.833313V8.83336H9.16665V11.3334Z\" fill=\"#626F84\"/>\n    </svg>\n  </div>\n);\n","import React from 'react';\n\ntype Props = {\n  width?: number,\n  height?: number,\n  className?: string,\n}\n\nconst DEFAULT_WIDTH = 17;\nconst DEFAULT_HEIGHT = 16;\n\nexport const OutcomeIcon = ({width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT, className}: Props) => (\n  <div className={className}>\n    <svg width={width} height={height} viewBox=\"0 0 17 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M12.1667 12.1666L16.3333 7.99998L12.1667 3.83331L10.9917 5.00831L13.1417 7.16665H5.5V8.83331H13.1417L10.9917 10.9916L12.1667 12.1666Z\" fill=\"#626F84\"/>\n      <path d=\"M13.8333 13.8333H2.16667V2.16667H13.8333V3.83333H15.5V2.16667C15.5 1.25 14.7583 0.5 13.8333 0.5H2.16667C1.25 0.5 0.5 1.25 0.5 2.16667V13.8333C0.5 14.75 1.25 15.5 2.16667 15.5H13.8333C14.7583 15.5 15.5 14.75 15.5 13.8333V12.1667H13.8333V13.8333Z\" fill=\"#626F84\"/>\n    </svg>\n  </div>\n);\n","import { useRoketoContext } from 'app/roketo-context';\nimport { isWNearTokenId } from 'shared/helpers/isWNearTokenId';\n\nexport function useToken(tokenAccountId: string) {\n  const { tokens } = useRoketoContext();\n\n  if (isWNearTokenId(tokenAccountId)) {\n    tokens[tokenAccountId].meta.symbol = 'NEAR';\n  }\n\n  return tokens[tokenAccountId];\n}\n","import BigNumber from 'bignumber.js';\n\nimport {\n  SECONDS_IN_DAY, SECONDS_IN_HOUR, SECONDS_IN_MINUTE,\n  TimePeriod,\n} from 'shared/constants';\n\nexport const getBalancePerDesiredPeriod = (balancePerSecond: string, period: TimePeriod) => {\n  const balanceSpeedPerSecond = new BigNumber(balancePerSecond);\n\n  switch (period) {\n    case TimePeriod.Minute:\n      return balanceSpeedPerSecond.multipliedBy(SECONDS_IN_MINUTE);\n    case TimePeriod.Hour:\n      return balanceSpeedPerSecond.multipliedBy(SECONDS_IN_HOUR);\n    case TimePeriod.Day:\n      return balanceSpeedPerSecond.multipliedBy(SECONDS_IN_DAY);\n    default:\n      return balanceSpeedPerSecond;\n  }\n};\n","import React from 'react';\n\nimport {useRoketoContext} from 'app/roketo-context';\nimport {getBalancePerDesiredPeriod} from 'shared/helpers/speed';\n\nimport {TIME_PERIOD_SIGNS, TimePeriod} from 'shared/constants';\n\nexport enum StreamType {\n  income = 'total_incoming',\n  outcome = 'total_outgoing',\n}\n\ntype Props = {\n  type: StreamType,\n  period: TimePeriod,\n\n  className?: string,\n}\n\nexport const TokenAmountSpeed = ({type, period, className}: Props) => {\n  const {roketo, priceOracle, tokens} = useRoketoContext();\n\n  const tokensBalanceMap = roketo.account[type];\n  const tokenAccountIds = Object.keys(tokensBalanceMap);\n\n  const totalAmountInUSD = tokenAccountIds.reduce((total, tokenAccountId) => {\n    const {formatter} = tokens[tokenAccountId];\n\n    const balancePerSec = tokensBalanceMap[tokenAccountId];\n\n    const balancePerDesiredPeriod = getBalancePerDesiredPeriod(balancePerSec, period).toFixed();\n    const formattedBalance = formatter.toHumanReadableValue(balancePerDesiredPeriod, 3);\n\n    const usdAmount = priceOracle.getPriceInUsd(tokenAccountId, formattedBalance);\n\n    return total + Number(usdAmount);\n  }, 0);\n\n  return (\n    <div className={className}>\n      {`${totalAmountInUSD} $ ${TIME_PERIOD_SIGNS[period]}`}\n    </div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport {env} from 'shared/config';\nimport {TimePeriod} from 'shared/constants';\n\nimport {WalletIcon} from '@ui/icons/Wallet';\nimport {IncomeIcon} from '@ui/icons/Income';\nimport {OutcomeIcon} from '@ui/icons/Outcome';\nimport {Balance, DisplayMode} from 'shared/components/Balance';\n\nimport {StreamType, TokenAmountSpeed} from '../TokenAmountSpeed';\n\nimport styles from './styles.module.scss';\n\nexport const FinancialActivity = ({ className }: { className: string }) => (\n    <div className={classNames(styles.root, className)}>\n      {/* Total Outcome Speed */}\n      <div className={styles.wrapper}>\n        <OutcomeIcon />\n        <TokenAmountSpeed\n          className={styles.balance}\n          type={StreamType.outcome}\n          period={TimePeriod.Hour}\n        />\n      </div>\n\n      {/* Total Income Speed */}\n      <div className={styles.wrapper}>\n        <IncomeIcon />\n        <TokenAmountSpeed\n          className={styles.balance}\n          type={StreamType.income}\n          period={TimePeriod.Hour}\n        />\n      </div>\n\n      {/* Balance */}\n      <div className={styles.wrapper}>\n        <WalletIcon />\n        <Balance\n          className={styles.balance}\n          tokenAccountId={env.WNEAR_ID}\n          mode={DisplayMode.USD}\n        />\n      </div>\n    </div>\n  );\n","import { useEffect } from 'react';\nimport useSWR, { SWRResponse } from 'swr';\nimport type { PublicConfiguration } from 'swr/dist/types';\nimport * as client from '@roketo/api-client';\nimport { WalletConnection } from 'near-api-js';\n\nimport { useRoketoContext } from 'app/roketo-context';\nimport { env } from 'shared/config';\nimport { createNearInstance } from '../near';\n\nconst serverConfig = { baseServer: new client.ServerConfiguration(env.WEB_API_URL, {}) };\n\nclass TokenProvider {\n  private initialized: boolean = false;\n\n  private token: null | Promise<string> = null;\n\n  private readonly authApiClient = new client.AuthApi(client.createConfiguration({ ...serverConfig }));\n\n  getToken() {\n    if (!this.token) {\n      this.token = this.getRefreshedToken();\n    }\n\n    return this.token;\n  }\n\n  refreshToken() {\n    this.token = this.getRefreshedToken();\n  }\n\n  private async getRefreshedToken(): Promise<string> {\n    try {\n      const { accountId } = await this.getAccountIdAndNear();\n\n      const ROKETO_API_ACCESS_TOKEN_KEY_PREFIX = 'roketoApiAccessToken';\n\n      const key = `${ROKETO_API_ACCESS_TOKEN_KEY_PREFIX}:${accountId}`;\n\n      if (!this.initialized) {\n        this.initialized = true;\n\n        const savedToken = localStorage[key] || null;\n\n        if (savedToken && !this.containsUnicode(savedToken)) {\n          return savedToken;\n        }\n      }\n\n      delete localStorage[key];\n\n      const loginParams = await this.generateLoginParams();\n\n      const { accessToken } = await this.authApiClient.login(loginParams);\n\n      localStorage[key] = accessToken;\n\n      return accessToken;\n    } catch (e) {\n      // TODO: Think of better handling of failing login.\n      this.token = null;\n\n      throw e;\n    }\n  }\n\n  private async getAccountIdAndNear() {\n    const near = await createNearInstance();\n    const walletConnection = new WalletConnection(near, env.ROKETO_CONTRACT_NAME);\n    const accountId = walletConnection.getAccountId();\n\n    return { accountId, near };\n  }\n\n  private async generateLoginParams(): Promise<client.LoginDto> {\n    const { accountId, near } = await this.getAccountIdAndNear();\n\n    const keyPair = await near.config.keyStore.getKey(near.config.networkId, accountId);\n\n    const timestamp = Date.now();\n\n    const { signature: Uint8Signature } = keyPair.sign(new TextEncoder().encode(String(timestamp))); // TODO: Polyfill TextEncoder?\n\n    const signature: number[] = Array.from(Uint8Signature);\n\n    return {\n      accountId,\n      timestamp,\n      signature,\n    }\n  }\n\n  private containsUnicode(token: string) {\n    return token !== encodeURIComponent(token);\n  }\n}\n\nconst tokenProvider = new TokenProvider();\n\nconst onErrorRetry: PublicConfiguration<any, any, any>['onErrorRetry'] = async (error, key, config, revalidate, { retryCount }) => {\n  if (error.message.startsWith('HTTP-Code: 401') && retryCount <= 3) {\n    await tokenProvider.refreshToken();\n\n    revalidate({ retryCount });\n  }\n};\n\nconst apiConfig = client.createConfiguration({\n  ...serverConfig,\n  authMethods: { bearer: { tokenProvider } }\n});\n\nexport const usersApiClient = new client.UsersApi(apiConfig);\n\nexport function useUser(): SWRResponse<client.User> {\n  const { auth } = useRoketoContext();\n\n  const swr = useSWR(\n    auth.accountId ? 'user' : null,\n    () => usersApiClient.findOne(auth.accountId),\n    { onErrorRetry },\n  );\n\n  return swr;\n}\n\nexport const { User } = client;\n\nexport const notificationsApiClient = new client.NotificationsApi(apiConfig);\n\nexport function useNotifications(): SWRResponse<client.Notification[]> {\n  const { auth } = useRoketoContext();\n\n  const swr = useSWR(\n    auth.accountId ? 'notifications' : null,\n    async () => {\n      const allNotifications = await notificationsApiClient.findAll();\n\n      const KNOWN_NOTIFICATION_TYPES = new Set([\n        'StreamStarted',\n        'StreamPaused',\n        'StreamFinished',\n        'StreamIsDue',\n        'StreamContinued',\n        'StreamCliffPassed',\n      ]);\n\n      return allNotifications.filter((notification) => KNOWN_NOTIFICATION_TYPES.has(notification.type));\n    },\n  { onErrorRetry }\n  );\n\n  useEffect(() => {\n    setTimeout(swr.mutate, 5000);\n  }, [swr]);\n\n  return swr;\n}\n\nexport type NotificationType = client.NotificationTypeEnum;\n\nexport type Notification = client.Notification;\n","import React, {FC, InputHTMLAttributes} from 'react';\nimport cn from 'classnames'\n\nimport styles from './styles.module.scss';\n\ninterface InputProps extends InputHTMLAttributes<HTMLInputElement> {\n  hasError?: boolean,\n  className?: string,\n}\n\nexport const Input: FC<InputProps> = ({\n  className,\n  hasError = false,\n  ...rest\n}) => (\n  <input className={cn(styles.input, {[styles.error]: hasError}, className)}  {...rest} />\n);\n","import React from 'react';\nimport cn from 'classnames';\n\nimport styles from './styles.module.scss';\n\ntype FormFieldProps = {\n  children: React.ReactNode;\n\n  label?: React.ReactNode;\n  description?: React.ReactNode,\n\n  isRequired?: boolean,\n  error?: any;\n\n  className?: string;\n};\n\nexport const FormField = ({\n  children, isRequired = false, label, description, error, className, ...rest\n}: FormFieldProps) => (\n    <div className={cn(styles.root, className)} {...rest}>\n      {label &&\n        <label className={cn(styles.label, {[styles.required]: isRequired})}>{label}</label>\n      }\n\n      {children}\n\n      {description &&\n        <div className={styles.description}>{description}</div>\n      }\n\n      {error &&\n        <div className={styles.error}>{error}</div>\n      }\n    </div>\n  )\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\n\nimport { useRoketoContext } from 'app/roketo-context';\nimport { usersApiClient, useUser, User } from 'shared/api/roketo-web';\n\nimport { Button, ButtonType } from '@ui/components/Button';\nimport { Input } from '@ui/components/Input';\nimport {FormField} from '@ui/components/FormField';\nimport {Spinner} from '@ui/components/Spinner';\n\nimport styles from './index.module.scss';\n\nconst NAME_INPUT = \"nameInput\";\nconst EMAIL_INPUT = \"emailInput\";\n\nexport function ProfileForm() {\n  const { auth } = useRoketoContext();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [isMutating, setIsMutating] = useState(false);\n\n  const userSWR = useUser();\n\n  useEffect(() => {\n    setName(userSWR.data?.name ?? '');\n    setEmail(userSWR.data?.email ?? '');\n  }, [userSWR.data]);\n\n  const formRef = useRef<HTMLFormElement | null>(null);\n\n  const updateUser = useCallback(async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!userSWR.data) {\n      return;\n    }\n\n    setIsMutating(true);\n\n    const newName = formRef.current?.[NAME_INPUT].value;\n    const newEmail = formRef.current?.[EMAIL_INPUT].value;\n\n    const cachedUser = userSWR.data;\n\n    await userSWR.mutate(\n      async () => {\n        try {\n          const updateUserDto = {\n            name: newName,\n            email: newEmail,\n          };\n\n          await usersApiClient.update(auth.accountId, updateUserDto);\n\n          return Object.assign(new User(), cachedUser, updateUserDto);\n        } catch (error) {\n          return cachedUser;\n        }\n      },\n      { revalidate: false, optimisticData: { ...userSWR.data, name: newName }, rollbackOnError: true }\n    );\n\n    setIsMutating(false);\n  }, [auth.accountId, userSWR]);\n\n  const busy = userSWR.isValidating || isMutating;\n\n  return (\n    <form\n      className={styles.profileForm}\n      onSubmit={updateUser}\n      ref={formRef}\n    >\n      {busy &&\n        <Spinner wrapperClassName={styles.loaderWrapper} />\n      }\n\n      <FormField\n        label='User name'\n      >\n        <Input\n          placeholder=\"Name\"\n          name={NAME_INPUT}\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          disabled={busy}\n        />\n      </FormField>\n\n      <FormField\n        label='Email'\n        description='Email address is used for notifications'\n      >\n        <Input\n          placeholder=\"Email\"\n          name={EMAIL_INPUT}\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          disabled={busy}\n        />\n      </FormField>\n\n      <Button\n        type={ButtonType.submit}\n        disabled={busy}\n      >\n        Save\n      </Button>\n    </form>\n  );\n}\n","import React, { useState } from 'react';\n\nimport {useRoketoContext} from 'app/roketo-context';\nimport {useUser} from 'shared/api/roketo-web';\nimport { DropdownOpener } from 'shared/kit/DropdownOpener';\nimport { DropdownMenu } from 'shared/kit/DropdownMenu';\nimport {env} from 'shared/config';\n\nimport { ProfileForm } from './ProfileForm';\n\nimport styles from './index.module.scss';\n\nexport const Profile = () => {\n  const [isDropdownOpened, setIsDropdownOpened] = useState(false);\n  const [needFallback, setNeedFallback] = useState(false);\n  const { auth } = useRoketoContext();\n  const userSWR = useUser();\n\n  const {name, email} = userSWR.data ?? {};\n  const { accountId } = auth;\n\n  return (\n    <div className={styles.profile}>\n      <DropdownOpener\n        onChange={setIsDropdownOpened}\n        className={styles.dropdownOpener}\n        opened={isDropdownOpened}\n      >\n        <span className={styles.name}>\n          {name || accountId}\n        </span>\n\n        {needFallback ? (\n          <svg className={styles.avatar} />\n        ) : (\n          <img\n            className={styles.avatar}\n            src={`${env.WEB_API_URL}/users/${accountId}/avatar?email=${email}`}\n            alt=\"\"\n            onError={() => setNeedFallback(true)}\n          />\n        )}\n      </DropdownOpener>\n\n      <DropdownMenu\n        opened={isDropdownOpened}\n        onClose={() => setIsDropdownOpened(false)}\n        className={styles.dropdownMenu}\n      >\n        <ProfileForm />\n      </DropdownMenu>\n    </div>\n  );\n};\n\n","import { RoketoStream } from 'shared/api/roketo/interfaces/entities';\nimport { useRoketoContext } from 'app/roketo-context';\n\nexport const STREAM_DIRECTION = {\n  IN: 'in',\n  OUT: 'out',\n};\n\ntype StreamDirectionKeyType = keyof typeof STREAM_DIRECTION;\n\nexport function useGetStreamDirection(stream: RoketoStream): typeof STREAM_DIRECTION[StreamDirectionKeyType] | null {\n  const { auth } = useRoketoContext();\n\n  if (stream.receiver_id === auth.accountId) {\n    return STREAM_DIRECTION.IN;\n  }\n\n  if (stream.owner_id === auth.accountId) {\n    return STREAM_DIRECTION.OUT;\n  }\n\n  return null;\n}\n","import { useEffect, useState } from 'react';\nimport BigNumber from 'bignumber.js';\nimport useSWR, { SWRResponse } from 'swr';\nimport { formatDuration, intervalToDuration } from 'date-fns';\n\nimport { getAvailableToWithdraw, isDead, isIdling } from 'shared/api/roketo/helpers';\nimport { STREAM_STATUS } from 'shared/api/roketo/constants';\nimport { useRoketoContext } from 'app/roketo-context';\nimport type { RoketoStream } from 'shared/api/roketo/interfaces/entities';\nimport { SECONDS_IN_YEAR } from 'shared/constants';\nimport { shortEnLocale } from 'shared/helpers/date';\n\nfunction useExtrapolation({ swr, revalidationPeriod, isEnabled = true }: {\n  swr: SWRResponse,\n  revalidationPeriod: number,\n  isEnabled?: boolean,\n}) {\n  const [secondsTillRevalidation, setSecondsTillRevalidation] = useState(revalidationPeriod);\n\n  useEffect(() => {\n    if (!isEnabled) {\n      return;\n    }\n\n    const id = setTimeout(() => {\n      if (secondsTillRevalidation <= 0) {\n        setSecondsTillRevalidation(revalidationPeriod);\n        swr.mutate();\n      } else {\n        setSecondsTillRevalidation((secondsLeft) => secondsLeft - 1);\n      }\n    }, 1000);\n    return () => clearTimeout(id);\n  }, [swr, secondsTillRevalidation, revalidationPeriod, isEnabled]);\n}\n\nexport function useStreams() {\n  const { auth, roketo } = useRoketoContext();\n\n  const swr = useSWR(\n    ['streams', auth.accountId, roketo.account.last_created_stream],\n    async () => {\n      const inputs = await roketo.api.getAccountIncomingStreams({ from: 0, limit: 100 });\n      const outputs = await roketo.api.getAccountOutgoingStreams({ from: 0, limit: 100 });\n\n      return {\n        inputs,\n        outputs\n      };\n    },\n  );\n\n  useExtrapolation({ swr, revalidationPeriod: 30 });\n\n  return swr;\n}\n\nexport function useSingleStream(streamId: string) {\n  const { roketo } = useRoketoContext();\n\n  const swr = useSWR<RoketoStream>(\n    () => {\n      const key = roketo.account\n        ? ['stream', streamId, roketo.account.last_created_stream]\n        : false;\n      return key;\n    },\n    async () => {\n      const stream = await roketo.api.getStream({ streamId });\n\n      return stream;\n    },\n    {\n      errorRetryInterval: 2000,\n      errorRetryCount: 3,\n    },\n  );\n\n  useExtrapolation({ swr, revalidationPeriod: 10, isEnabled: swr.data?.status === STREAM_STATUS.Active });\n\n  return swr;\n}\n\nfunction calculateEndTimestamp(stream: RoketoStream) {\n  /**\n   * if stream is not started yet or paused right now\n   * then there is no way to calculate stream end time\n   * */\n  if (isIdling(stream)) return null\n  \n  const tokensPerMs = new BigNumber(stream.tokens_per_sec).dividedBy(1000)\n  const lastActionTime = stream.last_action / 1000_000\n\n  const timeToCompleteEntireStream = new BigNumber(stream.balance).dividedBy(tokensPerMs).toNumber()\n  /**\n   * if this stream is active but 100% complete then it will be a time in the past\n   * as well as in the case of \"Finished\" stream\n   * othewise this stream is still working and this time will be in the future\n   */\n  return lastActionTime + timeToCompleteEntireStream\n}\n\nfunction calculateCliffPercent(stream: RoketoStream) {\n  if (!stream.cliff) {\n    return null;\n  }\n\n  const endTimestamp = calculateEndTimestamp(stream);\n\n  if (!endTimestamp) {\n    return null;\n  }\n\n  const cliffDurationMs = (stream.cliff - stream.timestamp_created) / 1000_000;\n\n  const streamDurationMs = endTimestamp - stream.timestamp_created / 1000_000;\n\n  return cliffDurationMs / streamDurationMs * 100;\n}\n\nexport function streamViewData(stream: RoketoStream, withExtrapolation: boolean = true) {\n  const MAX_SEC = SECONDS_IN_YEAR * 1000;\n\n  const availableToWithdraw = withExtrapolation ? getAvailableToWithdraw(stream) : new BigNumber(0);\n\n  const balance = new BigNumber(stream.balance)\n\n  const secondsLeft = BigNumber.minimum(\n    MAX_SEC,\n    balance\n      .minus(availableToWithdraw)\n      .dividedBy(stream.tokens_per_sec)\n      .toFixed()\n  ).toNumber();\n\n  const duration = intervalToDuration({ start: 0, end: secondsLeft * 1000 });\n\n  if (duration.days || duration.weeks || duration.months || duration.years) {\n    duration.seconds = 0;\n  }\n\n  const timeLeft = formatDuration(duration, { locale: shortEnLocale });\n\n  // progress bar calculations\n  const full = balance.plus(stream.tokens_total_withdrawn);\n  const withdrawn = new BigNumber(stream.tokens_total_withdrawn);\n  const streamed = withdrawn.plus(availableToWithdraw);\n\n  const left = full.minus(streamed);\n  const progresses = [\n    withdrawn.dividedBy(full).toNumber(),\n    streamed.dividedBy(full).toNumber()\n  ];\n\n  const percentages = {\n    left: full.minus(streamed).multipliedBy(100).dividedBy(full).toNumber(),\n    streamed: streamed.multipliedBy(100).dividedBy(full).toNumber(),\n    withdrawn: withdrawn.multipliedBy(100).dividedBy(full).toNumber(),\n    available: availableToWithdraw.multipliedBy(100).dividedBy(full).toNumber(),\n    cliff: calculateCliffPercent(stream),\n  };\n  \n  return {\n    secondsLeft,\n    progresses,\n    isDead: isDead(stream),\n    percentages,\n    timeLeft,\n    streamEndTimestamp: calculateEndTimestamp(stream),\n    cliffEndTimestamp: stream.cliff ? stream.cliff / 1000_000 : null,\n    progress: {\n      full: full.toFixed(),\n      withdrawn: withdrawn.toFixed(),\n      streamed: streamed.toFixed(),\n      left: left.toFixed(),\n      available: availableToWithdraw.toFixed(),\n    },\n  };\n}\n","type BellIconProps = {\n  className?: string;\n  withBadge: boolean;\n};\n\nexport function BellIcon({ className, withBadge }: BellIconProps) {\n  return (\n    <svg\n      className={className}\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n    >\n      <path\n        d=\"M15.375 17.5556H8.625M15.375 17.5556H21L19.4194 15.9944C19.2071 15.7848 19.0387 15.5358 18.9239 15.2619C18.809 14.9879 18.75 14.6943 18.75 14.3978V10.8889C18.7502 9.50993 18.3175 8.16482 17.5116 7.03876C16.7057 5.91271 15.5662 5.06107 14.25 4.60111V4.22222C14.25 3.63285 14.0129 3.06762 13.591 2.65087C13.169 2.23413 12.5967 2 12 2C11.4033 2 10.831 2.23413 10.409 2.65087C9.98705 3.06762 9.75 3.63285 9.75 4.22222V4.60111C7.12875 5.51667 5.25 7.98667 5.25 10.8889V14.3989C5.25 14.9967 5.00925 15.5711 4.58063 15.9944L3 17.5556H8.625H15.375ZM15.375 17.5556V18.6667C15.375 19.5507 15.0194 20.3986 14.3865 21.0237C13.7536 21.6488 12.8951 22 12 22C11.1049 22 10.2464 21.6488 9.61351 21.0237C8.98058 20.3986 8.625 19.5507 8.625 18.6667V17.5556H15.375Z\"\n        stroke={withBadge ? '#3E65F2' : '#2B313B'}\n        strokeWidth=\"2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      {withBadge && <circle cx=\"19\" cy=\"5\" r=\"5\" fill=\"#D80A1F\" stroke=\"white\" strokeWidth=\"2\" />}\n    </svg>\n  );\n}\n\n","export function FinishIcon({ className }: { className: string }) {\n  return (\n    <svg className={className} width=\"44\" height=\"44\" viewBox=\"0 0 44 44\" fill=\"none\">\n      <rect width=\"44\" height=\"44\" rx=\"22\" fill=\"#F1F6FE\"/>\n      <path d=\"M22 14.9167V19.5M14.5 29.5V26.1667V29.5ZM14.5 26.1667V16.1667C14.5 15.7246 14.6756 15.3007 14.9882 14.9882C15.3007 14.6756 15.7246 14.5 16.1667 14.5H21.5833L22.4167 15.3333H29.5L27 20.3333L29.5 25.3333H22.4167L21.5833 24.5H16.1667C15.7246 24.5 15.3007 24.6756 14.9882 24.9882C14.6756 25.3007 14.5 25.7246 14.5 26.1667V26.1667Z\" stroke=\"#3E65F2\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    </svg>\n  );\n}\n","export function StartIcon({ className }: { className: string }) {\n  return (\n    <svg className={className} width=\"44\" height=\"44\" viewBox=\"0 0 44 44\" fill=\"none\">\n      <rect width=\"44\" height=\"44\" rx=\"22\" fill=\"#F2FCF5\"/>\n      <path\n        d=\"M28.3128 19.7147L20.9824 15.0357C20.6368 14.815 20.235 14.6883 19.82 14.6692C19.405 14.6501 18.9923 14.7393 18.6262 14.9273C18.26 15.1153 17.9541 15.3949 17.7411 15.7364C17.5281 16.0779 17.4161 16.4683 17.417 16.866V26.2217C17.4169 26.6191 17.5296 27.0089 17.7429 27.3498C17.9562 27.6906 18.2622 27.9697 18.6282 28.1571C18.9942 28.3446 19.4065 28.4334 19.8211 28.4141C20.2358 28.3948 20.6371 28.2682 20.9824 28.0477L28.3128 23.3687C28.6268 23.1683 28.8843 22.8968 29.0624 22.5783C29.2405 22.2597 29.3337 21.904 29.3337 21.5428C29.3337 21.1815 29.2405 20.8258 29.0624 20.5073C28.8843 20.1888 28.6268 19.9173 28.3128 19.7169V19.7147Z\"\n        stroke=\"#1EBA52\" strokeWidth=\"2.75\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n    </svg>\n  );\n}\n","export function PauseIcon({ className }: { className: string }) {\n  return (\n    <svg className={className} width=\"44\" height=\"44\" viewBox=\"0 0 44 44\" fill=\"none\">\n      <rect width=\"44\" height=\"44\" rx=\"22\" fill=\"#FFF7EE\"/>\n      <path d=\"M18.333 16.5V27.5M25.6663 16.5V27.5\" stroke=\"#FF8C19\" strokeWidth=\"3.66667\" strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"/>\n    </svg>\n  );\n}\n","export function BangIcon({ className }: { className: string }) {\n  return (\n    <svg width=\"44\" height=\"44\" viewBox=\"0 0 44 44\" fill=\"none\" className={className}>\n      <rect width=\"44\" height=\"44\" rx=\"22\" fill=\"#FFEEF0\"/>\n      <path\n        d=\"M20.5833 24.3833H23.9167V13.425H20.5833V24.3833ZM22.125 31.3C22.6806 31.3 23.1319 31.1264 23.4792 30.7792C23.8264 30.4319 24 29.9806 24 29.425C24 28.8972 23.8264 28.4458 23.4792 28.0708C23.1319 27.6958 22.6806 27.5083 22.125 27.5083C21.5694 27.5083 21.1181 27.6958 20.7708 28.0708C20.4236 28.4458 20.25 28.8972 20.25 29.425C20.25 29.9806 20.4236 30.4319 20.7708 30.7792C21.1181 31.1264 21.5694 31.3 22.125 31.3Z\"\n        fill=\"#D80A1F\"/>\n    </svg>\n  );\n}\n","import React, { useCallback, useState } from 'react';\nimport classNames from 'classnames';\nimport { isToday, isYesterday, isSameDay, format } from 'date-fns';\nimport { generatePath, Link } from 'react-router-dom';\n\nimport {Spinner} from '@ui/components/Spinner';\n\nimport { ROUTES_MAP } from 'shared/helpers/routing';\nimport { notificationsApiClient, useNotifications, NotificationType, Notification } from 'shared/api/roketo-web';\nimport { DropdownOpener } from 'shared/kit/DropdownOpener';\nimport { DropdownMenu } from 'shared/kit/DropdownMenu';\nimport { STREAM_DIRECTION, useGetStreamDirection } from 'shared/hooks/useGetStreamDirection';\nimport { useRoketoContext } from 'app/roketo-context';\nimport { streamViewData } from 'features/roketo-resource';\nimport { useMediaQuery } from 'shared/hooks/useMatchQuery';\nimport { testIds } from 'shared/constants';\n\nimport styles from './styles.module.scss';\n\nimport { BellIcon } from './BellIcon';\nimport { FinishIcon } from './FinishIcon';\nimport { StartIcon } from './StartIcon';\nimport { PauseIcon } from './PauseIcon';\nimport { BangIcon } from './BangIcon';\n\nfunction NotificationIcon({ type }: { type: NotificationType }) {\n  const IconComponent = (() => {\n    switch (type) {\n      case 'StreamStarted': return StartIcon;\n      case 'StreamPaused': return PauseIcon;\n      case 'StreamFinished': return FinishIcon;\n      case 'StreamIsDue': return BangIcon;\n      case 'StreamContinued': return StartIcon;\n      case 'StreamCliffPassed': return BangIcon;\n      default: throw new Error('This should never happen');\n    }\n  })();\n\n  return <IconComponent className={styles.icon} />;\n}\n\nconst WITHOUT_EXTRAPOLATION = false;\n\nfunction PrimaryText({ children }: { children: React.ReactNode }) {\n  return (\n    <div className={styles.primaryText} data-testid={testIds.notificationPrimaryCaption}>{children}</div>\n  );\n}\n\nfunction SecondaryText({ children }: { children: React.ReactNode }) {\n  return (\n    <div className={styles.secondaryText} data-testid={testIds.notificationSecondaryCaption}>{children}</div>\n  );\n}\n\nfunction NotificationBody({ notification: { type, payload: stream } }: { notification: Notification }) {\n  const { tokens } = useRoketoContext();\n  const direction = useGetStreamDirection(stream);\n  const { progress: { full, streamed, left }, timeLeft } = streamViewData(stream, WITHOUT_EXTRAPOLATION);\n\n  const { meta: { symbol }, formatter } = tokens[stream.token_account_id];\n\n  switch (type) {\n    case 'StreamStarted': return (\n      <div className={styles.notificationBody}>\n        <PrimaryText>\n          {\n            direction === STREAM_DIRECTION.IN\n              ? <>{stream.owner_id} <strong>started</strong> a stream for you to receive.</>\n              : <>Youve successfully <strong>started</strong> a stream to {stream.receiver_id}.</>\n          }\n        </PrimaryText>\n        <SecondaryText>Total streaming amount: <strong>{formatter.amount(full)}&nbsp;{symbol}</strong></SecondaryText>\n        <SecondaryText>Stream duration: <strong>{timeLeft}</strong></SecondaryText>\n      </div>\n    );\n    case 'StreamPaused': return (\n      <div className={styles.notificationBody}>\n        <PrimaryText>The stream {direction === STREAM_DIRECTION.IN ? `from ${stream.owner_id}` : `to ${stream.receiver_id}`} is <strong>paused</strong>.</PrimaryText>\n\n        <SecondaryText>Already streamed: <strong>{formatter.amount(streamed)}&nbsp;{symbol}</strong></SecondaryText>\n        <SecondaryText>Amount left: <strong>{formatter.amount(left)}&nbsp;{symbol}</strong></SecondaryText>\n      </div>\n    );\n    case 'StreamFinished': return (\n      <div className={styles.notificationBody}>\n        <PrimaryText>The stream {direction === STREAM_DIRECTION.IN ? `from ${stream.owner_id}` : `to ${stream.receiver_id}`} has <strong>ended</strong>.</PrimaryText>\n        <SecondaryText>Total amount streamed: <strong>{formatter.amount(full)}&nbsp;{symbol}</strong></SecondaryText>\n      </div>\n    );\n    case 'StreamIsDue': return (\n      <div className={styles.notificationBody}>\n        <PrimaryText>The stream from {stream.owner_id} is <strong>due</strong>.</PrimaryText>\n        <SecondaryText>Available for withdrawal: <strong>{formatter.amount(left)}&nbsp;{symbol}</strong></SecondaryText>\n      </div>\n    );\n    case 'StreamContinued': return (\n      <div className={styles.notificationBody}>\n        <PrimaryText>\n          {\n            direction === STREAM_DIRECTION.IN\n              ? <>{stream.owner_id} has <strong>continued</strong> the stream.</>\n              : <>The stream to {stream.receiver_id} was <strong>continued</strong>.</>\n          }\n        </PrimaryText>\n        <SecondaryText>Amount left: <strong>{formatter.amount(left)}&nbsp;{symbol}</strong></SecondaryText>\n        <SecondaryText>Time left: <strong>{timeLeft}</strong></SecondaryText>\n      </div>\n    );\n    case 'StreamCliffPassed': return (\n      <div className={styles.notificationBody}>\n        <PrimaryText>The stream {direction === STREAM_DIRECTION.IN ? `from ${stream.owner_id}` : `to ${stream.receiver_id}`} has <strong>passed the cliff period</strong>.</PrimaryText>\n        <SecondaryText>Available for withdrawal: <strong>{formatter.amount(left)}&nbsp;{symbol}</strong></SecondaryText>\n      </div>\n    );\n    default: throw new Error('This should never happen');\n  }\n}\n\nexport function Notifications() {\n  const compact = useMediaQuery('(max-width: 645px)');\n\n  const [isDropdownOpened, setIsDropdownOpened] = useState(false);\n  const notificationsSWR = useNotifications();\n\n  const closeDropdown = useCallback(() => {\n    setIsDropdownOpened(false);\n\n    if (!notificationsSWR.data) {\n      return;\n    }\n\n    notificationsSWR.mutate(\n      async (notifications) => {\n        await notificationsApiClient.markAllRead();\n\n        return notifications?.map((notification) => notification.isRead ? notification : { ...notification, isRead: true });\n      }\n    );\n  }, [notificationsSWR]);\n\n  const hasUnreadNotifications = notificationsSWR.data?.some(({ isRead }) => !isRead) ?? false;\n\n  return (\n    <div className={styles.root}>\n      <DropdownOpener\n        onChange={setIsDropdownOpened}\n        className={styles.dropdownOpener}\n        opened={isDropdownOpened}\n        testId={testIds.openNotificationsButton}\n      >\n        <BellIcon withBadge={hasUnreadNotifications} />\n      </DropdownOpener>\n\n      <DropdownMenu\n        opened={isDropdownOpened}\n        onClose={closeDropdown}\n        className={classNames(styles.dropdownMenu, compact && styles.compact)}\n      >\n        <div className={styles.container}>\n          <header className={styles.header} >\n            Notifications\n          </header>\n          {!notificationsSWR.data &&\n            <Spinner\n              wrapperClassName={styles.loader}\n              testId={testIds.notificationsLoader}\n            />\n          }\n\n          {notificationsSWR.data?.length === 0 &&\n            <h3 className=\"text-3xl text-center my-12 mx-auto\">\n              Your notifications will be displayed here.\n            </h3>\n          }\n\n          {notificationsSWR.data?.map((notification, index, notifications) => (\n            <React.Fragment key={notification.id}>\n              {index !== 0 && <div className={styles.divider} />}\n              {(index === 0 || !isSameDay(notifications[index - 1].createdAt, notification.createdAt)) &&\n                <div className={styles.date}>\n                  {isToday(notification.createdAt)\n                    ? 'Today'\n                    : isYesterday(notification.createdAt)\n                      ? 'Yesterday'\n                      : format(notification.createdAt, 'PP')\n                  }\n                </div>\n              }\n              <Link\n                to={generatePath(ROUTES_MAP.stream.path, { id: notification.payload.id })}\n                className={classNames(\n                  styles.notification,\n                  !notification.isRead && styles.unread\n                )}\n                onClick={closeDropdown}\n                data-testid={testIds.notificationElement}\n              >\n                <NotificationIcon type={notification.type} />\n                <NotificationBody notification={notification} />\n                <div className={styles.time}>{format(new Date(notification.createdAt), 'HH:mm')}</div>\n              </Link>\n            </React.Fragment>\n          ))}\n        </div>\n      </DropdownMenu>\n    </div>\n  );\n}\n","var _path, _path2, _path3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoTelegram(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"auto\",\n    height: \"auto\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.14141 20.601C7.50192 20.601 7.61064 20.3595 7.39007 19.7506L5.50977 13.5625L19.9838 4.97559\",\n    fill: \"currentColor\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.14062 20.6012C8.63406 20.6012 8.85199 20.3755 9.12749 20.1078L11.7591 17.5488L8.47649 15.5693\",\n    fill: \"#8E909C\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8.47667 15.5697L16.4308 21.4463C17.3386 21.9471 17.9935 21.6877 18.2197 20.6037L21.4574 5.34624C21.7888 4.01726 20.9508 3.41429 20.0824 3.80854L1.07041 11.1395C-0.227316 11.66 -0.219585 12.3841 0.833894 12.7066L5.71279 14.2295L17.008 7.10352C17.5412 6.78015 18.0307 6.95384 17.629 7.31043\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoTelegram);\nexport default __webpack_public_path__ + \"static/media/logo-telegram.edbc7186.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {Logo} from '@ui/icons/Logo';\nimport {Layout} from '@ui/components/Layout';\nimport {Authorization} from 'features/authorization';\nimport { useRoketoContext } from 'app/roketo-context';\nimport { LEGACY_ROUTES_MAP, useShowLegacyStreams } from 'features/legacy';\n\nimport {ROUTES_MAP} from 'shared/helpers/routing';\nimport { useMediaQuery } from 'shared/hooks/useMatchQuery';\n\nimport {PageList} from './ui/PagesList';\nimport {FinancialActivity} from './ui/FinancialActivity';\n\nimport { Profile } from '../profile';\nimport { Notifications } from '../notifications';\n\nimport styles from './styles.module.scss';\n\nconst ROUTES_TO_DISPLAY = [ROUTES_MAP.streams];\n\nexport const Header = () => {\n  const { auth } = useRoketoContext();\n  const withSecondFloor = !useMediaQuery('(min-width: 1280px)');\n  const showLegacyStreams = useShowLegacyStreams();\n\n  return (\n    <>\n      <div className={styles.wrapper}>\n        <Layout className={styles.root}>\n\n          <div className={styles.left}>\n            <Link to=\"/\" className={styles.unshrinkable}>\n              <Logo className={styles.logo}/>\n            </Link>\n            {auth.signedIn && <PageList pageRoutes={\n              showLegacyStreams\n                ? [...ROUTES_TO_DISPLAY, LEGACY_ROUTES_MAP.legacyStreams]\n                : ROUTES_TO_DISPLAY\n            } />}\n          </div>\n\n          <div className={styles.right}>\n            {auth.signedIn && !withSecondFloor && <FinancialActivity className={styles.marginRight} />}\n            {auth.signedIn && <Profile />}\n            {auth.signedIn && !withSecondFloor && <Notifications />}\n            {!withSecondFloor && <Authorization />}\n          </div>\n        </Layout>\n      </div>\n      {auth.signedIn && withSecondFloor && (\n        <div className={styles.secondWrapper}>\n          <Layout className={styles.secondRoot}>\n            <FinancialActivity className={styles.marginRight} />\n            <div className={styles.right}>\n              <Notifications />\n              <Authorization />\n            </div>\n          </Layout>\n        </div>\n      )}\n    </>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\nimport { useRouteMatch } from 'react-router-dom';\n\nimport { ROUTES_MAP } from 'shared/helpers/routing';\nimport {Logo} from '@ui/icons/Logo';\nimport { Header as FullHeader } from 'widgets/header/Header';\n\nimport styles from './styles.module.scss';\n\nfunction MinifiedHeader() {\n  return (\n    <div\n      className={classNames(\n        'py-4 px-6',\n        'absolute w-full pt-8',\n        'flex justify-center',\n      )}\n    >\n      <Logo className={styles.logo} />\n    </div>\n  );\n}\n\nexport function Header() {\n  const onAuthorizePage = useRouteMatch(ROUTES_MAP.authorize.path);\n\n  if (onAuthorizePage) {\n    return <MinifiedHeader />;\n  }\n\n  return <FullHeader />;\n}\n","import { Route } from 'react-router-dom';\n\n// A wrapper for <Route> that redirects to the login\n// screen if you're not yet authenticated.\n\ntype PrivateRouteProps = {\n  children: React.ReactNode;\n  allowed: boolean;\n  redirect: React.ReactNode;\n  path: string;\n  exact: boolean;\n}\n\nexport function PrivateRoute({\n  children,\n  allowed,\n  redirect,\n  path,\n  exact = false\n}: PrivateRouteProps) {\n  return (\n    <Route\n      exact={exact}\n      path={path}\n      render={() => (allowed ? children : redirect)}\n    />\n  );\n}\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoTwitter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"auto\",\n    height: \"auto\",\n    viewBox: \"0 0 24 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.57758 21.9092C16.5744 21.9092 21.4944 13.5154 21.4944 6.2365C21.4944 5.99809 21.4901 5.76075 21.4806 5.52449C22.4356 4.74696 23.2657 3.77667 23.9204 2.67212C23.044 3.11083 22.1009 3.40615 21.1115 3.53932C22.1214 2.85737 22.8966 1.77862 23.2624 0.492616C22.3174 1.12355 21.2708 1.58212 20.1565 1.8297C19.2639 0.759024 17.9932 0.0893555 16.5862 0.0893555C13.885 0.0893555 11.6946 2.55622 11.6946 5.59697C11.6946 6.02922 11.7376 6.44967 11.8215 6.85297C7.75628 6.62261 4.15156 4.4307 1.73908 1.09777C1.31902 1.91181 1.0768 2.8574 1.0768 3.86636C1.0768 5.77743 1.94032 7.46453 3.25344 8.4515C2.45096 8.42358 1.69712 8.1755 1.03824 7.76257C1.03752 7.78568 1.03752 7.80822 1.03752 7.83292C1.03752 10.5006 2.72352 12.7279 4.9616 13.2326C4.55059 13.3588 4.11816 13.4264 3.67184 13.4264C3.35715 13.4264 3.05056 13.3916 2.75256 13.3271C3.37526 15.5158 5.18096 17.1084 7.32176 17.1529C5.64768 18.6307 3.5388 19.5108 1.2468 19.5108C0.852482 19.5108 0.462934 19.4855 0.0800781 19.4345C2.2448 20.9971 4.8152 21.9089 7.57784 21.9089\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoTwitter);\nexport default __webpack_public_path__ + \"static/media/logo-twitter.a8d5d590.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\n\nimport {ReactComponent as Telegram} from './logo-telegram.svg';\n\ntype Props = {\n  className?: string,\n}\n\nexport const TelegramLogo = (props: Props) => {\n  const {\n    className,\n  } = props;\n\n  return (\n    <div className={className}>\n      <Telegram />\n    </div>\n  );\n}\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoGit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"auto\",\n    height: \"auto\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.0001 0C5.3735 0 0 5.50144 0 12.2881C0 17.7173 3.43839 22.3234 8.2064 23.9482C8.80613 24.062 9.0263 23.6817 9.0263 23.3571C9.0263 23.0641 9.01518 22.0961 9.01001 21.0693C5.67157 21.8127 4.96712 19.6195 4.96712 19.6195C4.42125 18.1992 3.63473 17.8215 3.63473 17.8215C2.54596 17.0588 3.7168 17.0745 3.7168 17.0745C4.92181 17.1612 5.55632 18.3408 5.55632 18.3408C6.6266 20.2194 8.36359 19.6763 9.04836 19.3623C9.15607 18.5681 9.46706 18.026 9.81024 17.7191C7.14486 17.4084 4.34295 16.3548 4.34295 11.6463C4.34295 10.3047 4.81172 9.20855 5.57937 8.34801C5.45477 8.0385 5.04402 6.78869 5.69562 5.0961C5.69562 5.0961 6.70331 4.76584 8.9965 6.35568C9.95372 6.08341 10.9803 5.94687 12.0001 5.94219C13.0199 5.94687 14.0473 6.08341 15.0063 6.35568C17.2967 4.76584 18.303 5.0961 18.303 5.0961C18.9562 6.78869 18.5452 8.0385 18.4206 8.34801C19.1901 9.20855 19.6557 10.3047 19.6557 11.6463C19.6557 16.366 16.8484 17.4052 14.1762 17.7094C14.6067 18.0907 14.9902 18.8385 14.9902 19.985C14.9902 21.6291 14.9763 22.9524 14.9763 23.3571C14.9763 23.6841 15.1923 24.0673 15.8006 23.9466C20.566 22.32 24 17.7155 24 12.2881C24 5.50144 18.6273 0 12.0001 0ZM4.49443 17.5047C4.468 17.5657 4.3742 17.584 4.28876 17.5421C4.20172 17.502 4.15283 17.4188 4.18105 17.3575C4.20688 17.2947 4.30088 17.2772 4.38772 17.3193C4.47495 17.3594 4.52463 17.4434 4.49443 17.5047ZM5.0847 18.044C5.02747 18.0983 4.91559 18.0731 4.83968 17.9872C4.76119 17.9016 4.74648 17.787 4.80451 17.7318C4.86353 17.6775 4.97203 17.7029 5.05072 17.7886C5.12921 17.8753 5.14451 17.9891 5.0847 18.044ZM5.48965 18.734C5.41612 18.7863 5.2959 18.7373 5.22158 18.628C5.14805 18.5188 5.14805 18.3877 5.22317 18.3352C5.29769 18.2827 5.41612 18.3299 5.49144 18.4384C5.56476 18.5495 5.56476 18.6805 5.48965 18.734ZM6.1745 19.5332C6.10873 19.6075 5.96863 19.5876 5.86609 19.4862C5.76117 19.3871 5.73196 19.2465 5.79793 19.1722C5.8645 19.0978 6.00539 19.1187 6.10873 19.2193C6.21285 19.3181 6.24465 19.4598 6.1745 19.5332ZM7.05961 19.803C7.0306 19.8993 6.89567 19.943 6.75975 19.9021C6.62402 19.86 6.5352 19.7473 6.56262 19.65C6.59084 19.5531 6.72636 19.5076 6.86328 19.5513C6.9988 19.5932 7.08783 19.7052 7.05961 19.803ZM8.0669 19.9175C8.07028 20.0188 7.95502 20.1028 7.81235 20.1047C7.66887 20.1079 7.55282 20.0259 7.55123 19.9262C7.55123 19.8239 7.6639 19.7406 7.80738 19.7382C7.95006 19.7353 8.0669 19.8167 8.0669 19.9175ZM9.05645 19.8786C9.07354 19.9775 8.97438 20.0791 8.8327 20.1061C8.6934 20.1322 8.56443 20.0711 8.54674 19.973C8.52945 19.8717 8.6304 19.7702 8.7695 19.7439C8.91139 19.7187 9.03837 19.7781 9.05645 19.8786Z\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoGit);\nexport default __webpack_public_path__ + \"static/media/logo-git.675f7b74.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\n\nimport {ReactComponent as Twitter} from './logo-twitter.svg';\n\ntype Props = {\n  className?: string,\n}\n\nexport const TwitterLogo = (props: Props) => {\n  const {\n    className,\n  } = props;\n\n  return (\n    <div className={className}>\n      <Twitter />\n    </div>\n  );\n}\n","import React from 'react';\n\nimport {ReactComponent as Github} from './logo-git.svg';\n\ntype Props = {\n  className?: string,\n}\n\nexport const GithubLogo = (props: Props) => {\n  const {\n    className,\n  } = props;\n\n  return (\n    <div className={className}>\n      <Github />\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/Privacy_policy.d5afb133.pdf\";","import React from 'react';\n\nimport {env} from 'shared/config';\nimport {Layout} from '@ui/components/Layout';\nimport {DisplayType, Logo} from '@ui/icons/Logo';\nimport {TelegramLogo} from '@ui/icons/Telegram';\nimport {TwitterLogo} from '@ui/icons/Twitter';\nimport {GithubLogo} from '@ui/icons/Github';\n\n// @ts-ignore\nimport PrivacyPolicyDoc from './assets/Privacy_policy.pdf';\n\nimport styles from './styles.module.scss';\n\nexport const Footer = () => (\n  <footer className={styles.root}>\n    <Layout className={styles.layout}>\n      <section className={styles.section}>\n        <Logo className={styles.logo} type={DisplayType.CURRENT_COLOR}/>\n\n        <div className={styles.links}>\n          <a\n            href=\"https://www.roke.to/#page-top\"\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            About\n          </a>\n          <a\n            href=\"https://www.roke.to/#how-work\"\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            Features\n          </a>\n          <a\n            href=\"https://www.roke.to/#used-technologies\"\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            Docs\n          </a>\n          <a\n            href=\"https://www.roke.to/#team\"\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            Team\n          </a>\n          <a\n            href=\"https://www.roke.to/#blog\"\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            Blog\n          </a>\n          <a\n            href=\"https://kikimora-labs.notion.site/Jobs-68acb030fcac42a18ae7c62a56779d5b\"\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            Jobs\n          </a>\n        </div>\n      </section>\n\n      <section className={styles.section}>\n        <div className={styles.legal}>\n          <a\n            href={PrivacyPolicyDoc}\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            Privacy Policy\n          </a>\n\n          <a\n            href=\"https://uploads-ssl.webflow.com/6136222580031d054842f5d6/617993de0d09ef005611beac_Cookie_Policy_of_Roketo.pdf\"\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            Cookie Policy\n          </a>\n        </div>\n\n        <div className={styles.socials}>\n          <a\n            href=\"https://twitter.com/roketostream\"\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            <TwitterLogo/>\n          </a>\n          <a\n            href=\"https://t.me/roketochat\"\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            <TelegramLogo/>\n          </a>\n          <a\n            href=\"https://github.com/roke-to\"\n            target=\"_blank\" rel=\"noreferrer\"\n          >\n            <GithubLogo/>\n          </a>\n        </div>\n      </section>\n\n      <section className={styles.jurInfo}>\n        ROKETO LABS LTD\n        <br/>\n        Registered address: Intershore Chambers, Road Town, Tortola, British Virgin Islands\n        <br/>\n        Registration number: 2089289\n        <br/>\n        Build info: {env.COMMIT_HASH} {env.BUILD_TIME}\n      </section>\n    </Layout>\n  </footer>\n);\n","import React from 'react';\nimport ReactModal from 'react-modal';\n\nimport styles from './styles.module.scss';\n\ntype Props = {\n  isOpen: boolean,\n  children?: React.ReactNode,\n\n  title?: string,\n  onCloseModal?: () => void,\n};\n\n// eslint-disable-next-line react/prefer-stateless-function\nexport const Modal = (props: Props) => {\n  const {\n    title,\n    children,\n    isOpen = true,\n    onCloseModal,\n  } = props;\n\n\n  return (\n    <ReactModal\n      isOpen={isOpen}\n      onRequestClose={onCloseModal}\n      className={styles.content}\n      overlayClassName={styles.overlay}\n      bodyOpenClassName={styles.bodyOverflowHidden}\n    >\n      <div>\n        {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */}\n        <span className={styles.close} onClick={onCloseModal}/>\n\n        <h2 className={styles.title}>{title}</h2>\n\n        <div className={styles.contentContainer}>\n          {children}\n        </div>\n      </div>\n    </ReactModal>\n  );\n};\n","import React from 'react';\nimport BigNumber from 'bignumber.js';\n\nimport {Button,DisplayMode} from '@ui/components/Button';\n\nimport { Tooltip } from 'shared/kit/Tooltip';\nimport { useRoketoContext } from 'app/roketo-context';\nimport { useStreams } from 'features/roketo-resource';\nimport { TokenImage } from 'shared/kit/TokenImage';\nimport { testIds } from 'shared/constants';\n\nimport { getAvailableToWithdraw, hasPassedCliff, isActiveStream } from 'shared/api/roketo/helpers';\n\nimport styles from './styles.module.scss';\n\n// TODO: move all computations to a model or a React.useMemo\nexport function WithdrawAllButton() {\n  const { tokens, roketo } = useRoketoContext();\n  const streamsSWR = useStreams();\n\n  const streams = streamsSWR.data;\n  const { inputs = [] } = streams || {};\n\n  const activeInputs = inputs.filter(isActiveStream);\n\n  type TmpData = {\n    available: BigNumber;\n    tokenAccountId: string;\n  }\n\n  const tokensData = {} as {[tokenAccountId: string]: TmpData };\n  const tmpResult = [] as TmpData[];\n  const streamIds = [] as string[];\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const stream of activeInputs) {\n    if (!hasPassedCliff(stream)) {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    const tokenAccountId = stream.token_account_id;\n    const available = getAvailableToWithdraw(stream);\n\n    if (available.toFixed() !== '0') {\n      streamIds.push(stream.id);\n    }\n\n    if (!tokensData[tokenAccountId]) {\n      const value = {\n        available,\n        tokenAccountId,\n      }\n\n      tmpResult.push(value);\n      tokensData[tokenAccountId] = value;\n    } else {\n      tokensData[tokenAccountId].available = tokensData[tokenAccountId].available.plus(available);\n    }\n  }\n\n  const preparedTokenData = tmpResult.map((value: TmpData) => {\n    const { formatter, meta: { symbol } } = tokens[value.tokenAccountId];\n    const amount = formatter.amount(value.available.toFixed());\n\n    return {\n      tokenAccountId: value.tokenAccountId,\n      amount,\n      symbol\n    }\n  });\n\n  const handleWithdraw = () => {\n    if (streamIds.length > 0) {\n      roketo.api.withdraw({ streamIds })\n    }\n  }\n\n  const availableToWithdraw = streams && preparedTokenData.length !== 0;\n  const nothingToWithdraw = streams && preparedTokenData.length === 0;\n\n  return (\n    <Tooltip\n      placement=\"bottom\"\n      align={{ offset: [0, 20] }}\n      overlay={(\n        <div className={styles.root}>\n          <p className={styles.description}>\n            Move all received tokens to your wallet.\n          </p>\n\n          <div className={styles.preparedTokensWrapper} data-testid={testIds.withdrawTooltip}>\n            {!streams &&\n              <p\n                className={styles.description}\n                data-testid={testIds.withdrawLoadingCaption}\n              >\n                Loading...\n              </p>\n            }\n\n            {availableToWithdraw && preparedTokenData.map((data) =>\n              <div\n                key={data.tokenAccountId}\n                className={styles.preparedToken}\n              >\n                <TokenImage tokenAccountId={data.tokenAccountId} />\n\n                <div className={styles.info}>\n                  <span className={styles.amount}>{data.amount}</span>\n                  <span className={styles.symbol}>{data.symbol}</span>\n                </div>\n              </div>\n            )}\n\n            {nothingToWithdraw &&\n              <p className={styles.description}>\n                You have nothing to withdraw\n              </p>\n            }\n          </div>\n        </div>\n      )}\n    >\n      <Button\n        onClick={handleWithdraw}\n        testId={testIds.withdrawAllButton}\n        displayMode={availableToWithdraw ? DisplayMode.action : DisplayMode.secondary}\n        className={availableToWithdraw ? undefined : styles.notAllowed}\n      >\n        Withdraw tokens\n      </Button>\n    </Tooltip>\n  );\n}\n","import React from 'react';\nimport cn from 'classnames';\n\nimport {Button} from '@ui/components/Button';\n\nimport styles from './styles.module.scss';\n\ntype Props = {\n  directions: string[],\n  activeDirection: string,\n  isInactive: boolean\n  onDirectionClick: (direction: string) => void,\n};\n\nexport const DirectionSorts = ({directions, activeDirection, onDirectionClick, isInactive}: Props) => (\n  <div className={styles.root}>\n    {directions.map(direction => (\n      <Button\n        key={direction}\n        className={cn(styles.sort, {[styles.active]: direction === activeDirection})}\n        onClick={() => onDirectionClick(direction)}\n        disabled={isInactive}\n      >\n        {direction}\n      </Button>\n    ))}\n  </div>\n);\n","import { useState, useEffect, useMemo } from 'react';\n\nimport { RoketoStream } from 'shared/api/roketo/interfaces/entities';\n\ntype FilterFn = (stream: RoketoStream) => boolean;\n\ntype Option = string | FilterFn;\n\ntype Filter<T> = {\n  option: string;\n  selectOption: (option: string) => void;\n  options: Record<string, T>;\n  optionsArray: string[];\n  currentFilterFunction: T;\n};\n\nexport function useFilter<T extends Option>({ options }: { options: Record<string, T>}): Filter<T> {\n  const keys = useMemo(() => Object.keys(options), [options]);\n\n  const [option, selectOption] = useState(keys[0]);\n\n  const filter = useMemo(\n    () => {\n      const currentFilterFunction = options[option];\n\n      return {\n        option,\n        selectOption,\n        options,\n        optionsArray: keys,\n        currentFilterFunction,\n      };\n    },\n    [options, option, keys],\n  );\n\n  return filter;\n}\n\nexport function useFilters({ items, filters }: { items: (RoketoStream[] | undefined), filters: Filter<FilterFn>[] }) {\n  const [filteredItems, setFilteredItems] = useState<RoketoStream[] | undefined>(undefined);\n  const [filterCounts, setFilterCounts] = useState<Record<string, number>[]>([]);\n\n  useEffect(() => {\n    let filteredItemsValue = items;\n    const filterCountsValue: Record<string, number>[] = [];\n\n    filters.forEach((filter) => {\n      const filterRunResult: Record<string, RoketoStream[] | undefined> = {};\n\n      // run filter for every possible function\n      Object.keys(filter.options).forEach((option) => {\n        filterRunResult[option] = filteredItemsValue?.filter(filter.options[option]);\n      });\n\n      // calc counts for every option in filter\n      const currentFilterCount: Record<string, number> = {};\n      Object.keys(filterRunResult).forEach(\n        (option) => { currentFilterCount[option] = (filterRunResult[option] || []).length; },\n      );\n\n      filterCountsValue.push(currentFilterCount);\n      // set items to selected filter\n      filteredItemsValue = filterRunResult[filter.option];\n    });\n\n    setFilterCounts(filterCountsValue);\n    setFilteredItems(filteredItemsValue);\n  }, [items, filters]);\n\n  return {\n    filterCounts,\n    filteredItems,\n  };\n}\n","import { useRoketoContext } from 'app/roketo-context';\nimport { useMemo } from 'react';\n\nimport { STREAM_STATUS } from 'shared/api/roketo/constants';\nimport type { RoketoStream } from 'shared/api/roketo/interfaces/entities';\n\nimport { useFilter, useFilters } from './lib';\n\nconst STREAM_TYPE_FILTER = {\n  ALL: 'All',\n  INCOMING: 'Incoming',\n  OUTGOING: 'Outgoing',\n} as const;\n\nconst STREAM_STATUS_FILTER = {\n  ALL: 'All',\n  [STREAM_STATUS.Initialized]: 'Initialized',\n  [STREAM_STATUS.Active]: 'Active',\n  [STREAM_STATUS.Paused]: 'Paused',\n};\n\nexport function useStreamFilters(streams: RoketoStream[] | undefined) {\n  const { auth } = useRoketoContext();\n\n  const statusOptions = useMemo(\n    () => ({\n      [STREAM_STATUS_FILTER.ALL]: () => true,\n      [STREAM_STATUS_FILTER[STREAM_STATUS.Initialized]]: (stream: RoketoStream) => stream.status === STREAM_STATUS.Initialized,\n      [STREAM_STATUS_FILTER[STREAM_STATUS.Active]]: (stream: RoketoStream) => stream.status === STREAM_STATUS.Active,\n      [STREAM_STATUS_FILTER[STREAM_STATUS.Paused]]: (stream: RoketoStream) => stream.status === STREAM_STATUS.Paused,\n    }),\n    [],\n  );\n  const directionOptions = useMemo(\n    () => ({\n      [STREAM_TYPE_FILTER.ALL]: () => true,\n      [STREAM_TYPE_FILTER.INCOMING]: (stream: RoketoStream) => auth.accountId === stream.receiver_id,\n      [STREAM_TYPE_FILTER.OUTGOING]: (stream: RoketoStream) => auth.accountId === stream.owner_id,\n    }),\n    [auth.accountId],\n  );\n\n  const statusFilter = useFilter({\n    options: statusOptions,\n  });\n\n  const directionFilter = useFilter({\n    options: directionOptions,\n  });\n\n  const combinedFilters = useMemo(\n    () => [directionFilter, statusFilter],\n    [directionFilter, statusFilter],\n  );\n\n  const result = useFilters({\n    items: streams,\n    filters: combinedFilters,\n  });\n\n  return {\n    statusFilter,\n    directionFilter,\n    result,\n  };\n}\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\n\nimport {SortIcon, OrderType} from '@ui/icons/Sort';\n\nimport { Filter, FilterOptionWithCounter } from 'shared/kit/Filter';\nimport type { RoketoStream } from 'shared/api/roketo/interfaces/entities';\n\nimport {DirectionSorts} from '../DirectionSorts';\nimport { useStreamFilters } from '../useStreamFilters';\n\nimport styles from './styles.module.scss';\n\nfunction compareBy(a: RoketoStream, b: RoketoStream, key: keyof RoketoStream) {\n  return Number(b[key]) - Number(a[key]);\n}\n\nconst sorts = {\n  bigBalanceFirst: {\n    label: 'With high amount',\n    order: OrderType.desc,\n    fn: (a: RoketoStream, b: RoketoStream) => compareBy(a, b, 'balance'),\n  },\n  highSpeedFirst: {\n    label: 'With high speed',\n    order: OrderType.desc,\n    fn: (a: RoketoStream, b: RoketoStream) => compareBy(a, b, 'tokens_per_sec'),\n  },\n  highSpeedLast: {\n    label: 'With low speed',\n    order: OrderType.asc,\n    fn: (a: RoketoStream, b: RoketoStream) => compareBy(a, b, 'tokens_per_sec') * -1,\n  },\n  mostRecent: {\n    label: 'Most recent',\n    order: OrderType.desc,\n    fn: (a: RoketoStream, b: RoketoStream) => compareBy(a, b, 'timestamp_created'),\n  },\n};\n\ntype StreamFiltersProps = {\n  items: RoketoStream[] | undefined;\n  onFilterDone: (result: RoketoStream[] | undefined) => void;\n  className?: string;\n};\n\nexport function StreamFilters({ items, onFilterDone, className }: StreamFiltersProps) {\n  const filter = useStreamFilters(items);\n  const {filteredItems} = filter.result;\n\n  const [sorting, setSorting] = useState(sorts.mostRecent);\n  const sortOptions = Object.values(sorts);\n  const isEmptyList = items ? items.length === 0 : true\n\n  useEffect(() => {\n    if (!filteredItems) {\n      onFilterDone(filteredItems);\n\n      return;\n    }\n\n    const sortedStreams = [...filteredItems];\n\n    sortedStreams.sort(sorting.fn);\n\n    onFilterDone(sortedStreams);\n  }, [filteredItems, onFilterDone, sorting.fn]);\n\n  return (\n    <div className={classNames(styles.root, className)}>\n      <DirectionSorts\n        directions={filter.directionFilter.optionsArray}\n        activeDirection={filter.directionFilter.option}\n        onDirectionClick={filter.directionFilter.selectOption}\n        isInactive={isEmptyList}\n      />\n      <div className={styles.filtersWrapper}>\n        <Filter\n          options={filter.statusFilter.optionsArray}\n          label=\"Status:\"\n          active={filter.statusFilter.option}\n          onChange={filter.statusFilter.selectOption}\n          isDisabled={isEmptyList}\n          renderOption={(option) => {\n            const counts = filter.result.filterCounts[1];\n            return (\n              <FilterOptionWithCounter\n                key={option}\n                option={option}\n                count={counts ? counts[option] : ''}\n              />\n            );\n          }}\n        />\n\n        <Filter\n          options={sortOptions}\n          label=\"Show first:\"\n          active={sorting}\n          onChange={setSorting}\n          isDisabled={isEmptyList}\n          renderOption={(option) => <span>{option.label}</span>}\n          renderActive={(option) => (\n            <div className={styles.sortWithOrder}>\n              {option.order && <SortIcon type={option.order} />}\n              <span>{option.label}</span>\n            </div>\n          )}\n        />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\n\ntype Props = {\n  width?: number,\n  height?: number,\n  className?: string,\n}\n\nconst DEFAULT_WIDTH = 20;\nconst DEFAULT_HEIGHT = 20;\n\nexport const ErrorSign = ({width = DEFAULT_WIDTH, height = DEFAULT_HEIGHT, className}: Props) => (\n  <div className={className}>\n    <svg width={width} height={height} viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path d=\"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z\" fill=\"#D80A1F\"/>\n    </svg>\n  </div>\n);\n","import React from 'react';\n\nimport {FieldInputProps, FormikState} from 'formik';\n\nimport {FormField} from '@ui/components/FormField';\nimport {Input} from '@ui/components/Input';\n\ntype InputProps = {\n  placeholder: string,\n\n  field: FieldInputProps<any>,\n  form: FormikState<any>,\n\n  label?: React.ReactNode,\n  description?: React.ReactNode,\n\n  isRequired?: boolean,\n  className?: string;\n};\n\nexport const FormikInput = (props: InputProps) => {\n  const {\n    placeholder,\n    description,\n    isRequired,\n    className,\n    field,\n    form,\n    label,\n    ...rest\n  } = props;\n\n  const error = form.errors[field.name];\n\n  return (\n    <FormField\n      isRequired={isRequired}\n      className={className}\n      description={description}\n      label={label}\n      error={error}\n    >\n      <Input\n        required={isRequired}\n        hasError={Boolean(error)}\n        placeholder={placeholder}\n        {...field}\n        {...rest}\n      />\n    </FormField>\n  );\n}\n","import React, {FC, InputHTMLAttributes} from 'react';\nimport cn from 'classnames';\n\nimport styles from './styles.module.scss';\n\ninterface CheckboxProps extends InputHTMLAttributes<HTMLInputElement> {\n  description?: React.ReactNode,\n  hasError?: boolean,\n  className?: string,\n  disabled?: boolean;\n}\n\nexport const Checkbox: FC<CheckboxProps> = ({\n  description,\n  className,\n  hasError = false,\n  disabled= false,\n  value,\n  ...rest\n}) => (\n  <label className={cn(styles.root, disabled && styles.disabled, className)}>\n    <input\n      type=\"checkbox\"\n      className={cn(styles.checkbox, { [styles.error]: hasError })}\n      disabled={disabled}\n      {...rest}\n      checked={disabled ? false : Boolean(value)}\n    />\n    {description &&\n      <div className={styles.description}>{description}</div>\n    }\n  </label>\n);\n","import React from 'react';\n\nimport {FieldInputProps, FormikState} from 'formik';\n\nimport {FormField} from '@ui/components/FormField';\nimport {Checkbox} from '@ui/components/Checkbox';\n\ntype CheckboxProps = {\n  field: FieldInputProps<any>,\n  form: FormikState<any>,\n\n  label?: React.ReactNode,\n  description?: React.ReactNode,\n  isRequired?: boolean,\n  className?: string;\n};\n\nexport const FormikCheckbox = (props: CheckboxProps) => {\n  const {\n    description,\n    isRequired,\n    className,\n    label,\n    field,\n    form,\n    ...rest\n  } = props;\n\n  const error = form.errors[field.name];\n\n  return (\n    <FormField\n      isRequired={isRequired}\n      className={className}\n      label={label}\n      error={error}\n    >\n      <Checkbox\n        description={description}\n        required={isRequired}\n        hasError={Boolean(error)}\n        {...field}\n        {...rest}\n      />\n    </FormField>\n  );\n}\n","import React, {FC, TextareaHTMLAttributes} from 'react';\nimport cn from 'classnames';\n\nimport styles from './styles.module.scss';\n\ninterface TextAreaProps extends TextareaHTMLAttributes<HTMLTextAreaElement> {\n  hasError?: boolean,\n  className?: string,\n}\n\nexport const TextArea: FC<TextAreaProps> = ({\n  className,\n  hasError = false,\n  ...rest\n}) => (\n  <textarea\n    className={cn(styles.textarea, {[styles.error]: hasError}, className)}\n    {...rest}\n  />\n);\n","import React from 'react';\nimport cn from 'classnames';\n\nimport {FieldInputProps, FormikState} from 'formik';\n\nimport {FormField} from '@ui/components/FormField';\nimport {TextArea} from '@ui/components/TextArea';\n\nimport styles from './styles.module.scss';\n\ntype TextAreaProps = {\n  placeholder: string,\n\n  field: FieldInputProps<any>,\n  form: FormikState<any>,\n\n  label?: React.ReactNode,\n  description?: React.ReactNode,\n\n  maxLength?: number,\n  isRequired?: boolean,\n  className?: string;\n  error?: never;\n};\n\nexport const FormikTextArea = (props: TextAreaProps) => {\n  const {\n    placeholder,\n    description,\n    isRequired,\n    className,\n    maxLength,\n    field,\n    label,\n    form,\n    ...rest\n  } = props;\n\n  const error = form.errors[field.name];\n\n  return (\n    <FormField\n      isRequired={isRequired}\n      className={cn(styles.formfield, className)}\n      description={description}\n      label={label}\n      error={error}\n    >\n      <TextArea\n        required={isRequired}\n        hasError={Boolean(error)}\n        placeholder={placeholder}\n        maxLength={maxLength}\n        {...field}\n        {...rest}\n      />\n\n      {maxLength &&\n        <span className={styles.textLimitCounter}>{`${field?.value?.length || 0}/${maxLength}`}</span>\n      }\n    </FormField>\n  );\n};\n","const NUMBER_PATTERN = /^[0-9]+$/;\n\nexport const isLikeNumber = (stringLikeNumber: string) => NUMBER_PATTERN.test(stringLikeNumber);\n","import React, {ChangeEvent, Dispatch, SetStateAction, useEffect, useState} from 'react';\nimport cn from 'classnames';\nimport {FieldInputProps, FormikState} from 'formik';\n\nimport {useRoketoContext} from 'app/roketo-context';\n\nimport {FormField} from '@ui/components/FormField';\nimport {Input} from '@ui/components/Input';\n\nimport {usePrev} from 'shared/hooks/usePrev';\nimport {isLikeNumber} from 'shared/helpers/validation';\nimport { testIds } from 'shared/constants';\n\nimport {getTokensPerSecondCount, getDurationInSeconds, getStreamingSpeed} from '../lib';\n\nimport styles from './styles.module.scss';\n\ntype SpeedInputProps = {\n  label: string;\n  value: number;\n  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  className?: string;\n  testId: string;\n};\n\nconst SpeedInput = ({className, value, onChange, label, testId}: SpeedInputProps) => (\n  <div className={cn(styles.speedInput, className)}>\n    <Input\n      placeholder=\"0\"\n      value={value}\n      onChange={onChange}\n      className={styles.input}\n      data-testid={testId}\n    />\n    <label className={styles.label}>{label}</label>\n  </div>\n);\n\ntype StreamSpeedCalcFieldProps = {\n  deposit: number,\n  tokenAccountId: string,\n  onSpeedChange: (speed: string) => void,\n\n  field: FieldInputProps<any>,\n  form: FormikState<any>,\n\n  label?: React.ReactNode,\n  description?: React.ReactNode,\n\n  isRequired?: boolean,\n  className?: string;\n};\n\nexport const StreamSpeedCalcField = (props: StreamSpeedCalcFieldProps) => {\n  const {\n    form,\n    field,\n    label,\n    deposit,\n    className,\n    isRequired,\n    description,\n    onSpeedChange,\n    tokenAccountId,\n  } = props;\n\n  const {tokens} = useRoketoContext();\n  const token = tokens[tokenAccountId];\n  const {formatter} = token;\n\n  const error = form.errors[field.name];\n  const {value: currentStreamingSpeed} = field;\n\n  const [months, setMonths] = useState(0);\n  const [days, setDays] = useState(0);\n  const [minutes, setMinutes] = useState(0);\n  const [hours, setHours] = useState(0);\n\n  const depositInYocto = formatter.toYocto(deposit);\n  const durationInSeconds = getDurationInSeconds(months, days, hours, minutes);\n  const tokensPerSec = getTokensPerSecondCount(depositInYocto, durationInSeconds);\n  const prevSpeed = usePrev(tokensPerSec);\n\n  useEffect(() => {\n    if (prevSpeed !== tokensPerSec) {\n      onSpeedChange(tokensPerSec);\n    }\n  }, [tokensPerSec, onSpeedChange, prevSpeed]);\n\n  const handleInputChangeFactory = (\n    setValue: Dispatch<SetStateAction<number>>,\n    valueLimit: number,\n  ) => (event: ChangeEvent<HTMLInputElement>) => {\n    const {value} = event.target;\n\n    const safeValue = value || '0';\n\n    if (isLikeNumber(safeValue) && Number(safeValue) <= valueLimit) {\n      setValue(Number(safeValue));\n    }\n  };\n\n  const meaningfulSpeed = getStreamingSpeed(currentStreamingSpeed, token);\n  const labelWithStreamingSpeed = (\n    <div className={styles.formLabel}>\n      {label}\n      <span className={cn(styles.speed, styles.label)}>\n        {`Streaming speed: ${meaningfulSpeed}`}\n      </span>\n    </div>\n  );\n\n  return (\n    <FormField\n      isRequired={isRequired}\n      className={cn(styles.formField, className)}\n      description={description}\n      label={labelWithStreamingSpeed}\n      error={error}\n    >\n      <div className={styles.wrapper}>\n        <SpeedInput\n          value={months}\n          onChange={handleInputChangeFactory(setMonths, 12)}\n          label=\"Months, max: 12\"\n          testId={testIds.createStreamMonthsInput}\n        />\n        <SpeedInput\n          value={days}\n          onChange={handleInputChangeFactory(setDays, 31)}\n          label=\"Days, max: 31\"\n          testId={testIds.createStreamDaysInput}\n        />\n        <SpeedInput\n          value={hours}\n          onChange={handleInputChangeFactory(setHours, 24)}\n          label=\"Hours, max: 24\"\n          testId={testIds.createStreamHoursInput}\n        />\n        <SpeedInput\n          value={minutes}\n          onChange={handleInputChangeFactory(setMinutes, 60)}\n          label=\"Minutes, max: 60\"\n          testId={testIds.createStreamMinutesInput}\n        />\n      </div>\n    </FormField>\n  );\n};\n","import { useRef, useEffect } from 'react';\n\nexport function usePrev<T extends any>(value: T) {\n  const ref = useRef<null | T>(value);\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n  return ref.current;\n}\n","import React, {useState} from 'react';\nimport {FieldInputProps, FormikState} from 'formik';\nimport cn from 'classnames';\n\nimport {FormField} from '@ui/components/FormField';\n\nimport type {RichToken} from 'shared/api/ft';\n\nimport {DropdownOpener} from 'shared/kit/DropdownOpener';\nimport {DropdownMenu} from 'shared/kit/DropdownMenu';\nimport {TokenImage} from 'shared/kit/TokenImage';\n\nimport {useRoketoContext} from 'app/roketo-context';\n\nimport styles from './styles.module.scss';\n\ntype TokenSelectorProps = {\n  activeTokenAccountId: string,\n  onTokenChoose: (tokenAccountId: string) => void,\n\n  label?: React.ReactNode,\n  description?: React.ReactNode,\n\n  field: FieldInputProps<any>,\n  form: FormikState<any>,\n\n  isRequired?: boolean,\n  className?: string;\n};\n\nconst TokenOption = ({\n  token,\n  onClick,\n  className,\n}: {token: RichToken, className?: string, onClick?: () => void}) => {\n  const classNames = cn(styles.tokenOption, className);\n\n  const content = (\n    <>\n      <TokenImage\n        tokenAccountId={token.roketoMeta.account_id}\n      />\n      <span>{`${token.meta.name}, ${token.meta.symbol}`}</span>\n    </>\n  );\n\n  if (onClick) {\n    return (\n      <button type='button' className={classNames} onClick={onClick}>\n        {content}\n      </button>\n    );\n  }\n\n  return (\n    <div className={classNames}>\n      {content}\n    </div>\n  );\n};\n\nexport const TokenSelector = (props: TokenSelectorProps) => {\n  const {\n    form,\n    label,\n    field,\n    className,\n    isRequired,\n    description,\n    onTokenChoose,\n    activeTokenAccountId,\n  } = props;\n\n  const {tokens} = useRoketoContext();\n\n  const [isDropdownOpened, setIsDropdownOpened] = useState(false);\n\n  const allAvailableTokens = Object.values(tokens);\n  const activeToken = tokens[activeTokenAccountId];\n\n  const handleChooseTokenOptions = (token: RichToken) => {\n    setIsDropdownOpened(false);\n\n    onTokenChoose(token.roketoMeta.account_id);\n  };\n\n  const error = form.errors[field.name];\n\n  return (\n    <FormField\n      isRequired={isRequired}\n      className={className}\n      description={description}\n      label={label}\n      error={error}\n    >\n      <div className={styles.dropdownWrapper}>\n        <DropdownOpener\n          onChange={setIsDropdownOpened}\n          className={styles.dropdownOpener}\n          opened={isDropdownOpened}\n        >\n          <TokenOption token={activeToken} />\n        </DropdownOpener>\n\n        <DropdownMenu\n          opened={isDropdownOpened}\n          onClose={() => setIsDropdownOpened(false)}\n          className={styles.dropdownMenu}\n        >\n          {allAvailableTokens.map(token => (\n            <TokenOption\n              key={token.meta.name}\n              token={token}\n              onClick={() => handleChooseTokenOptions(token)}\n              className={styles.withHover}\n            />\n          ))}\n        </DropdownMenu>\n      </div>\n    </FormField>\n  );\n};\n","import React from 'react';\nimport {FieldInputProps, FormikState} from 'formik';\nimport DateTimePicker from 'react-datetime-picker';\n\nimport {FormField} from '@ui/components/FormField';\n\nimport styles from './styles.module.scss';\n\ntype CliffPeriodPickerProps = {\n  label?: React.ReactNode,\n\n  field: FieldInputProps<any>,\n  form: FormikState<any>,\n\n  className?: string;\n\n  onCliffDateTimeChange: (value: Date | null) => void;\n};\n\nexport const CliffPeriodPicker = ({\n  form,\n  label,\n  field,\n  className,\n  onCliffDateTimeChange,\n}: CliffPeriodPickerProps) => {\n  const error = form.errors[field.name];\n\n  return (\n    <FormField\n      className={className}\n      label={label}\n      error={error}\n    >\n      <DateTimePicker\n        className={styles.maxWidth}\n        amPmAriaLabel=\"Select AM/PM\"\n        calendarAriaLabel=\"Toggle calendar\"\n        clearAriaLabel=\"Clear value\"\n        dayAriaLabel=\"Day\"\n        hourAriaLabel=\"Hour\"\n        maxDetail=\"second\"\n        minuteAriaLabel=\"Minute\"\n        monthAriaLabel=\"Month\"\n        nativeInputAriaLabel=\"Date and time\"\n        onChange={onCliffDateTimeChange}\n        secondAriaLabel=\"Second\"\n        value={form.values[field.name]}\n        yearAriaLabel=\"Year\"\n      />\n    </FormField>\n  );\n};\n","import React from 'react';\n\nimport {useRoketoContext} from 'app/roketo-context';\n\ntype Props = {\n  tokenAccountId: string,\n\n  className?: string,\n}\n\nexport const FeeDisclaimer = ({tokenAccountId, className}: Props) => {\n  const {tokens} = useRoketoContext();\n\n  const token = tokens[tokenAccountId];\n  const {meta: tokenMeta, formatter, roketoMeta} = token;\n\n  return (tokenMeta &&\n    <div className={className}>\n      {`You will be charged \n        ${formatter.amount(roketoMeta.commission_on_create)} \n        ${tokenMeta.symbol} fee for the stream`\n      }\n    </div>\n  );\n};\n","import React, {useState} from 'react';\nimport cn from 'classnames';\nimport {Field, Formik} from 'formik';\n\nimport {useRoketoContext} from 'app/roketo-context';\n\nimport {Button, ButtonType, DisplayMode as ButtonDisplayMode} from '@ui/components/Button';\nimport {ErrorSign} from '@ui/icons/ErrorSign';\n\nimport {FormikInput} from 'shared/components/FormikInput';\nimport {FormikCheckbox} from 'shared/components/FormikCheckbox';\nimport {FormikTextArea} from 'shared/components/FormikTextArea';\nimport {Balance, DisplayMode} from 'shared/components/Balance';\n\nimport { testIds } from 'shared/constants';\n\nimport {env} from 'shared/config';\nimport {StreamSpeedCalcField} from '../StreamSpeedCalcField';\nimport {TokenSelector} from '../TokenSelector';\nimport { CliffPeriodPicker } from '../CliffPeriodPicker';\n\nimport {FeeDisclaimer} from '../FeeDisclaimer'\n\nimport {INITIAL_FORM_VALUES, COMMENT_TEXT_LIMIT} from '../constants';\n\nimport {getFormValidationSchema} from '../lib';\n\nimport styles from './styles.module.scss';\n\nconst Row = ({\n  children,\n  className,\n}: {children: React.ReactNode, className?: string}) => (\n  <div className={cn(styles.row, className)}>{children}</div>\n);\n\nconst StreamCreationError = ({error}: {error: string}) => (\n  <div className={styles.submitError}>\n    <ErrorSign />\n    <span>{error}</span>\n  </div>\n);\n\nexport type FormValues = {\n  receiver: string;\n  streamName: string;\n  delayed: boolean;\n  comment: string;\n  deposit: number;\n  speed: number;\n  token: string;\n  isLocked: boolean;\n  cliffDateTime: Date | null;\n}\n\ntype CreateStreamProps = {\n  onFormSubmit: (values: FormValues) => Promise<void>;\n  onFormCancel: () => void;\n}\n\nconst DELAYED_DESCRIPTION = (\n  <div>\n    Delayed start\n    <div className={styles.subDescription}>\n      Select this if you want the stream not to start immediately,<br />\n      you'll need to start it manually from stream page<br />\n      (streams with cliff cannot be delayed)\n    </div>\n  </div>\n);\n\nconst LOCK_DESCRIPTION = (\n  <div>\n    Uneditable stream\n    <div className={styles.subDescription}>\n      If you select this field, you will not be able<br />to carry out any actions on the stream\n    </div>\n  </div>\n);\n\nexport const CreateStream = ({onFormCancel, onFormSubmit}: CreateStreamProps) => {\n  const {near, auth} = useRoketoContext();\n\n  const [submitError, setError] = useState<Error | null>(null);\n\n  const validationSchema = getFormValidationSchema(near, auth.accountId);\n\n  const handleFormSubmit = (formValues: FormValues) => {\n    onFormSubmit(formValues)\n      .catch(error => setError(error));\n  }\n\n  return (\n    <div className={styles.root}>\n      <h2 className={styles.title}>Create Stream</h2>\n\n      <Formik\n        initialValues={INITIAL_FORM_VALUES}\n        onSubmit={handleFormSubmit}\n\n        validateOnBlur\n\n        validationSchema={validationSchema}\n        validateOnChange={false}\n        validateOnMount={false}\n      >\n        {({\n          values,\n          handleSubmit,\n          setFieldValue,\n          setFieldTouched,\n          validateField,\n        }) => {\n          const activeTokenAccountId = values.token;\n\n          return (\n            <form onSubmit={handleSubmit} className={styles.form}>\n\n              <Row>\n                <Field\n                  isRequired\n                  name=\"receiver\"\n                  label=\"Receiver:\"\n                  component={FormikInput}\n                  placeholder={`receiver.${env.ACCOUNT_SUFFIX}`}\n                  className={styles.rowItem}\n                  data-testid={testIds.createStreamReceiverInput}\n                />\n\n                <Field\n                  isRequired\n                  name=\"token\"\n                  label=\"Token\"\n                  activeTokenAccountId={values.token}\n                  onTokenChoose={async (tokenAccountId: string) => {\n                    await setFieldValue('token', tokenAccountId, false);\n                    await setFieldTouched('token', true, false);\n                    validateField('token');\n                  }}\n                  component={TokenSelector}\n                  className={styles.rowItem}\n                />\n              </Row>\n\n              <Row className={styles.amount}>\n                <Field\n                  isRequired\n                  name=\"deposit\"\n                  label=\"Amount to stream:\"\n                  component={FormikInput}\n                  placeholder='Amount to stream'\n                  className={styles.rowItem}\n                  description={(<Balance tokenAccountId={activeTokenAccountId} mode={DisplayMode.CRYPTO} />)}\n                  data-testid={testIds.createStreamAmountInput}\n                />\n\n                <Field\n                  name=\"cliffDateTime\"\n                  label=\"Cliff period\"\n                  component={CliffPeriodPicker}\n                  onCliffDateTimeChange={async (cliffDateTime: Date | null) => {\n                    await setFieldValue('cliffDateTime', cliffDateTime, false);\n                    await setFieldTouched('cliffDateTime', true, false);\n                    validateField('cliffDateTime');\n                  }}\n                  className={styles.rowItem}\n                />\n              </Row>\n\n              <Row>\n                <Field\n                  tokenAccountId={activeTokenAccountId}\n                  isRequired\n                  name=\"speed\"\n                  label=\"Stream duration:\"\n                  deposit={values.deposit}\n                  component={StreamSpeedCalcField}\n                  onSpeedChange={async (speed: number) => {\n                    await setFieldValue('speed', speed, false);\n                    await setFieldTouched('speed', true, false);\n                    validateField('speed');\n                  }}\n                  className={styles.rowItem}\n                />\n              </Row>\n\n              <Row>\n                <Field\n                  maxLength={COMMENT_TEXT_LIMIT}\n                  name=\"comment\"\n                  label=\"Comment:\"\n                  placeholder=\"Enter comment\"\n                  component={FormikTextArea}\n                  className={styles.rowItem}\n                  data-testid={testIds.createStreamCommentInput}\n                />\n              </Row>\n\n              <Row className={styles.checkboxes}>\n                <Field\n                  name=\"delayed\"\n                  disabled={Boolean(values.cliffDateTime)}\n                  description={DELAYED_DESCRIPTION}\n                  type=\"checkbox\"\n                  component={FormikCheckbox}\n                  data-testid={testIds.createStreamDelayedCheckbox}\n                />\n\n                <Field\n                  name=\"isLocked\"\n                  description={LOCK_DESCRIPTION}\n                  type=\"checkbox\"\n                  component={FormikCheckbox}\n                  data-testid={testIds.createStreamLockedCheckbox}\n                />\n              </Row>\n\n              <Row>\n                <FeeDisclaimer tokenAccountId={activeTokenAccountId} className={styles.feeDisclaimer} />\n              </Row>\n\n              <div className={styles.actionButtonsWrapper}>\n                {submitError &&\n                  <StreamCreationError error={submitError.message} />\n                }\n\n                <Button\n                  displayMode={ButtonDisplayMode.simple}\n                  onClick={onFormCancel}\n                  testId={testIds.createStreamCancelButton}\n                >\n                  Cancel\n                </Button>\n\n                <Button\n                  type={ButtonType.submit}\n                  displayMode={ButtonDisplayMode.action}\n                  testId={testIds.createStreamSubmitButton}\n                >\n                  Create\n                </Button>\n              </div>\n            </form>\n          );\n        }}\n      </Formik>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport {ProgressBar} from 'shared/ui/components/ProgressBar';\n\nimport styles from './styles.module.scss';\n\ntype FinancialInfoProps = {\n  title: string,\n  total: number,\n  streamed?: number,\n  withdrawn?: number,\n  withProgressBar?: boolean,\n  testId?: string;\n};\n\nexport const FinancialInfo = ({title, total, streamed = 0, withdrawn = 0, withProgressBar = true, testId}: FinancialInfoProps) => {\n  const financialContent = streamed ? `$ ${streamed} of ${total}` : `$ ${total}`;\n\n  return (\n    <div className={styles.card}>\n      <h3 className={styles.title}>{title}</h3>\n\n      <span className={styles.finance} data-testid={testId}>{financialContent}</span>\n\n      {withProgressBar &&\n        <ProgressBar total={String(total)} streamed={String(streamed)} withdrawn={String(withdrawn)} />\n      }\n    </div>\n  );\n};\n","import BigNumber from 'bignumber.js';\n\nimport {RichTokens} from 'shared/api/ft';\nimport {PriceOracle} from 'shared/api/price-oracle';\nimport {RoketoStream} from 'shared/api/roketo/interfaces/entities';\nimport {getAvailableToWithdraw} from 'shared/api/roketo/helpers';\nimport {streamViewData} from 'features/roketo-resource';\n\nconst INITIAL_VALUE = new BigNumber(0);\nconst MANTISSA = 3;\n\nexport const countTotalUSDWithdrawal = (\n  streams: RoketoStream[],\n  tokens: RichTokens,\n  priceOracle: PriceOracle\n) => {\n  const availableForWithdrawal = streams.reduce((withdrawalSum, inputStream) => {\n    const tokenAccountId = inputStream.token_account_id;\n    const {formatter} = tokens[tokenAccountId];\n\n    const withdrawal = getAvailableToWithdraw(inputStream).toFixed();\n    const amountForDisplay = formatter.toHumanReadableValue(withdrawal, MANTISSA);\n\n    const amountInUSD = priceOracle.getPriceInUsd(tokenAccountId, amountForDisplay);\n\n    return withdrawalSum.plus(amountInUSD);\n  }, INITIAL_VALUE);\n\n  return Number(availableForWithdrawal.toFixed(0));\n};\n\nexport const collectTotalFinancialAmountInfo = (\n  streams: RoketoStream[],\n  tokens: RichTokens,\n  priceOracle: PriceOracle\n) => {\n  const initialInfo = {total: INITIAL_VALUE, streamed: INITIAL_VALUE, withdrawn: INITIAL_VALUE};\n\n  const totalFinancialInfo = streams.reduce((financialInfoAccumulator, stream) => {\n    const tokenAccountId = stream.token_account_id;\n    const {formatter} = tokens[tokenAccountId];\n\n    const {progress} = streamViewData(stream);\n\n    const streamedAmountForDisplay = formatter.toHumanReadableValue(progress.streamed, MANTISSA);\n    const streamedUSD = priceOracle.getPriceInUsd(tokenAccountId, streamedAmountForDisplay);\n\n    const fullAmountForDisplay = formatter.toHumanReadableValue(progress.full, MANTISSA);\n    const fullUSD = priceOracle.getPriceInUsd(tokenAccountId, fullAmountForDisplay);\n\n    const withdrawnAmountForDisplay = formatter.toHumanReadableValue(progress.withdrawn, MANTISSA);\n    const withdrawnUSD = priceOracle.getPriceInUsd(tokenAccountId, withdrawnAmountForDisplay);\n\n    return {\n      total: financialInfoAccumulator.total.plus(fullUSD),\n      streamed: financialInfoAccumulator.streamed.plus(streamedUSD),\n      withdrawn: financialInfoAccumulator.withdrawn.plus(withdrawnUSD),\n    };\n  }, initialInfo);\n\n  return {\n    total: Number(totalFinancialInfo.total.toFixed(0)),\n    streamed: Number(totalFinancialInfo.streamed.toFixed(0)),\n    withdrawn: Number(totalFinancialInfo.withdrawn.toFixed(0)),\n  };\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nimport {useRoketoContext} from 'app/roketo-context';\nimport {useStreams} from 'features/roketo-resource';\nimport {isActiveStream} from 'shared/api/roketo/helpers';\nimport { testIds } from 'shared/constants';\n\nimport {FinancialInfo} from '../FinancialInfo';\n\nimport {collectTotalFinancialAmountInfo, countTotalUSDWithdrawal} from '../../lib';\nimport styles from './styles.module.scss';\n\ntype FinancialStatusProps = {\n  className?: string,\n}\nexport const FinancialStatus = ({className}: FinancialStatusProps) => {\n  const {tokens, priceOracle} = useRoketoContext();\n  const {data: streams} = useStreams();\n\n  const {inputs = [], outputs = []} = streams || {};\n\n  const activeInputStreams = inputs.filter(isActiveStream);\n  const activeOutputStreams = outputs.filter(isActiveStream);\n\n  const outcomeAmountInfo = collectTotalFinancialAmountInfo(\n    activeOutputStreams,\n    tokens,\n    priceOracle\n  );\n\n  const incomeAmountInfo = collectTotalFinancialAmountInfo(\n    activeInputStreams,\n    tokens,\n    priceOracle\n  );\n\n  const availableForWithdrawal = countTotalUSDWithdrawal(\n    activeInputStreams,\n    tokens,\n    priceOracle\n  );\n\n  return (\n    <section className={cn(styles.root, className)}>\n      <FinancialInfo\n        title=\"Sending\"\n        total={outcomeAmountInfo.total}\n        streamed={outcomeAmountInfo.streamed}\n        withdrawn={outcomeAmountInfo.withdrawn}\n      />\n\n      <FinancialInfo\n        title=\"Receiving\"\n        total={incomeAmountInfo.total}\n        streamed={incomeAmountInfo.streamed}\n        withdrawn={incomeAmountInfo.withdrawn}\n      />\n\n      <FinancialInfo\n        title=\"Available for withdrawal\"\n        total={availableForWithdrawal}\n        withProgressBar={false}\n        testId={testIds.availableForWithdrawalCaption}\n      />\n    </section>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport styles from './styles.module.scss';\n\ntype BadgeProps = {\n  isOrange?: boolean;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport function Badge({ isOrange, children, className }: BadgeProps) {\n  return (\n    <span\n      className={classNames(styles.badge, isOrange ? styles.orange : styles.blue, className)}\n    >\n      {children}\n    </span>\n  );\n}\n","import React from 'react';\n\nimport { Badge } from 'shared/components/Badge';\n\nimport styles from './styles.module.scss';\n\ntype NameProps = {\n  name: string;\n  isOutgoing: boolean;\n  isLocked: boolean;\n};\n\nexport const Name = ({ name, isOutgoing, isLocked }: NameProps) => (\n  <div className={styles.flexCenter}>\n    <span className={styles.name}>{name}</span>\n\n    {isOutgoing &&\n      <Badge>Sending</Badge>\n    }\n\n    {isLocked &&\n      <Badge isOrange>Locked</Badge>\n    }\n  </div>\n);\n","import React from 'react';\nimport cn from 'classnames';\nimport RCTooltip from 'rc-tooltip';\n\nimport {ProgressBar} from 'shared/ui/components/ProgressBar';\nimport {ClockIcon} from 'shared/icons/Clock';\n\nimport {getRoundedPercentageRatio} from 'shared/helpers/math';\n\nimport {TokenFormatter} from 'shared/api/ft/token-formatter';\nimport {useToken} from 'shared/hooks/useToken';\nimport {streamViewData} from 'features/roketo-resource';\nimport {RoketoStream} from 'shared/api/roketo/interfaces/entities';\nimport { testIds } from 'shared/constants';\n\nimport styles from './styles.module.scss';\n\nconst TOOLTIP_ALIGN = {\n  points: ['tl', 'bc'],\n  offset: [-24, 10],\n};\n\ntype StreamStatusProps = {\n  stream: RoketoStream;\n  className?: string;\n};\n\nexport const StreamProgress = ({stream, className}: StreamStatusProps) => {\n  const {token_account_id: tokenId, tokens_per_sec: tokensPerSec} = stream;\n\n  const {progress, timeLeft, percentages} = streamViewData(stream);\n\n  const {formatter, meta: {symbol}} = useToken(tokenId);\n\n  const streamed = Number(formatter.toHumanReadableValue(progress.streamed, 3));\n  const withdrawn = Number(formatter.toHumanReadableValue(progress.withdrawn, 3));\n  const total = Number(formatter.toHumanReadableValue(progress.full, 3));\n\n  const streamedText = TokenFormatter.formatSmartly(streamed);\n  const withdrawnText = TokenFormatter.formatSmartly(withdrawn);\n\n  const streamedPercentage = getRoundedPercentageRatio(progress.streamed, progress.full, 1);\n  const withdrawnPercentage = getRoundedPercentageRatio(progress.withdrawn, progress.streamed, 1);\n\n  const progressText = `${streamedText} of ${total}`;\n\n  const {formattedValue: speedFormattedValue, unit: speedUnit} = formatter.tokensPerMeaningfulPeriod(tokensPerSec);\n\n  return (\n    <RCTooltip\n      overlayClassName={styles.overlay}\n      destroyTooltipOnHide\n      align={TOOLTIP_ALIGN}\n      placement=\"bottom\"\n      overlay={\n        <div className={cn(styles.tooltip, styles.text)}>\n          <div className={styles.innerStatus}>\n            <span>{progressText}</span>\n            {' '}\n            <span className={cn(styles.grey, styles.smaller)}>{symbol}</span>\n          </div>\n\n          <ProgressBar\n            total={progress.full}\n            streamed={progress.streamed}\n            withdrawn={progress.withdrawn}\n            cliffPercent={percentages.cliff}\n          />\n\n          <div className={cn(styles.status, styles.speed)}>\n            {speedFormattedValue}{' '}\n            <span className={cn(styles.grey, styles.smaller)}>{symbol} / {speedUnit}</span>\n          </div>\n\n          {timeLeft && (\n            <div className={styles.remained}>\n              <ClockIcon className={styles.clock}/>\n              {timeLeft}\n            </div>\n          )}\n\n          <div className={cn(styles.progress, styles.streamed)}>\n            Streamed: {streamedText}{' '}\n            <span className={cn(styles.grey, styles.smaller)}>\n               {`${streamedPercentage}%`}\n            </span>\n          </div>\n\n          <div className={cn(styles.progress, styles.withdrawn)}>\n            Withdrawn: {withdrawnText}{' '}\n            <span className={cn(styles.grey, styles.smaller)}>\n               {`${withdrawnPercentage}%`}\n            </span>\n          </div>\n        </div>\n      }\n    >\n      <div className={cn(styles.root, styles.text, className)}>\n        <div className={styles.status}>\n          <span data-testid={testIds.streamProgressCaption}>{progressText}</span>\n          {' '}\n          <span className={styles.grey}>{symbol}</span>\n        </div>\n\n        <ProgressBar\n          total={progress.full}\n          streamed={progress.streamed}\n          withdrawn={progress.withdrawn}\n          cliffPercent={percentages.cliff}\n        />\n      </div>\n    </RCTooltip>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { Button, ButtonType, DisplayMode } from '@ui/components/Button';\nimport { useRoketoContext } from 'app/roketo-context';\nimport { RoketoStream } from 'shared/api/roketo/interfaces/entities';\nimport { Tooltip } from 'shared/kit/Tooltip';\nimport { streamViewData } from 'features/roketo-resource';\nimport { getAvailableToWithdraw } from 'shared/api/roketo/helpers';\nimport { testIds } from 'shared/constants';\n\nimport styles from './styles.module.scss';\n\ntype WithdrawButtonProps = {\n  stream: RoketoStream;\n  small?: boolean;\n} & Omit<React.ComponentProps<'button'>, 'type'>;\n\nexport function WithdrawButton({ stream, small = false, ...rest }: WithdrawButtonProps) {\n  const { tokens, roketo } = useRoketoContext();\n  const available = getAvailableToWithdraw(stream);\n  const { percentages: { cliff, streamed } } = streamViewData(stream);\n  const tokenAccountId = stream.token_account_id;\n  const { formatter } = tokens[tokenAccountId];\n  const amount = formatter.amount(available.toFixed());\n\n  const handleWithdraw = (e: React.SyntheticEvent) => {\n    e.preventDefault();\n\n    roketo.api.withdraw({ streamIds: [ stream.id ] });\n  }\n\n  const hasPassedCliff = !cliff || streamed > cliff;\n\n  const button = (\n    <Button\n      disabled={Number(amount) === 0}\n      type={ButtonType.button}\n      displayMode={hasPassedCliff ? DisplayMode.primary : DisplayMode.secondary}\n      className={classNames({ [styles.notAllowed]: !hasPassedCliff, [styles.small]: small })}\n      onClick={hasPassedCliff ? handleWithdraw : undefined}\n      testId={testIds.withdrawButton}\n      {...rest}\n    >\n      Withdraw\n    </Button>\n  );\n\n  return hasPassedCliff\n    ? button\n    : (\n      <Tooltip\n        placement=\"bottom\"\n        align={{ offset: [0, 20] }}\n        overlay={(\n          <div className={styles.hasntPassedCliff}>\n            Cliff period isn't passed yet.\n          </div>\n        )}\n      >\n        {button}\n      </Tooltip>\n    );\n}\n","import React from 'react';\n\nexport type BooleanControl = {\n  on: boolean;\n  off: boolean;\n  toggle: () => void,\n  turnOff: () => void,\n  turnOn: () => void,\n  setOn: (state: boolean) => void,\n};\n\nexport function useBool(initial: boolean): BooleanControl {\n  const [on, setOn] = React.useState(initial);\n\n  return {\n    on,\n    off: !on,\n    toggle: () => setOn(!on),\n    turnOff: () => setOn(false),\n    turnOn: () => setOn(true),\n    setOn,\n  };\n}\n","import classNames from 'classnames';\n\nimport { STREAM_STATUS } from 'shared/api/roketo/constants';\nimport type { RoketoStream } from 'shared/api/roketo/interfaces/entities';\n\nconst bindings = {\n  [STREAM_STATUS.Initialized]: {\n    label: 'Initialized',\n  },\n  [STREAM_STATUS.Active]: {\n    label: 'Active',\n  },\n  [STREAM_STATUS.Paused]: {\n    label: 'Paused',\n  },\n  [STREAM_STATUS.Finished]: {\n    label: 'Finished',\n  },\n} as const;\n\ntype StreamStatusProps = {\n  stream: RoketoStream;\n  className?: string;\n};\n\nexport function StreamStatus({ stream, className }: StreamStatusProps) {\n  const binding = typeof stream.status === 'string'\n    ? bindings[stream.status]\n    : bindings[STREAM_STATUS.Finished];\n\n  return (\n    <div className={classNames(className)}>\n      {binding.label}\n    </div>\n  );\n}\n","export function StartIcon() {\n  return (\n    <svg width=\"8\" height=\"10\" viewBox=\"0 0 8 10\" fill=\"none\">\n      <path d=\"M1.66634 2.76016L5.17968 5.00016L1.66634 7.24016V2.76016ZM0.333008 0.333496V9.66683L7.66634 5.00016L0.333008 0.333496Z\" fill=\"currentColor\" />\n    </svg>\n  );\n}\n","export function PauseIcon() {\n  return (\n    <svg width=\"8\" height=\"10\" viewBox=\"0 0 8 10\" fill=\"none\">\n      <path d=\"M0 9.66659H2.66667V0.333252H0V9.66659ZM5.33333 0.333252V9.66659H8V0.333252H5.33333Z\" fill=\"currentColor\"/>\n    </svg>\n  );\n}\n","export function StopIcon() {\n  return (\n    <svg width=\"8\" height=\"8\" viewBox=\"0 0 8 8\" fill=\"none\">\n      <path d=\"M6.66667 1.33333V6.66667H1.33333V1.33333H6.66667ZM8 0H0V8H8V0Z\" fill=\"currentColor\"/>\n    </svg>\n  );\n}\n","import React, { useState } from 'react';\nimport classNames from 'classnames';\nimport Modal from 'react-modal';\n\nimport { DropdownOpener } from 'shared/kit/DropdownOpener';\nimport { DropdownMenu, DropdownMenuDivider, DropdownMenuItem } from 'shared/kit/DropdownMenu';\nimport { useBool, BooleanControl } from 'shared/hooks/useBool';\nimport { useRoketoContext } from 'app/roketo-context';\nimport type { RoketoStream } from 'shared/api/roketo/interfaces/entities';\nimport { isActiveStream, isWithCliff, isDead, isLocked, isPausedStream } from 'shared/api/roketo/helpers';\n\nimport { STREAM_STATUS } from 'shared/api/roketo/constants';\nimport { testIds } from 'shared/constants';\n\nimport { StreamStatus } from '../StreamStatus';\n\nimport styles from './styles.module.scss';\nimport { StartIcon } from './StartIcon';\nimport { PauseIcon } from './PauseIcon';\nimport { StopIcon } from './StopIcon';\n\ntype ConfirmModalProps = {\n  modalControl: BooleanControl;\n  onConfirm: () => void;\n};\n\nfunction PauseConfirmModal({ modalControl, onConfirm }: ConfirmModalProps) {\n  return (\n    <Modal\n      isOpen={modalControl.on}\n      onRequestClose={modalControl.turnOff}\n      className={styles.modalContent}\n      overlayClassName={styles.modalOverlay}\n    >\n      <h2 className={styles.modalHeader}>Are you sure?</h2>\n      <p>\n        As a stream receiver, you will not be able to resume stream. Only stream\n        owners can resume streams.\n      </p>\n      <div className={styles.modalButtons}>\n        <button\n          type=\"button\"\n          onClick={modalControl.turnOff}\n          className={classNames(styles.modalButton, styles.modalSecondary)}\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => {\n            modalControl.turnOff();\n            onConfirm();\n          }}\n          className={classNames(styles.modalButton, styles.modalWarning)}\n        >\n          Pause\n        </button>\n      </div>\n    </Modal>\n  );\n}\n\nfunction StopConfirmModal({ modalControl, onConfirm }: ConfirmModalProps) {\n  return (\n    <Modal\n      isOpen={modalControl.on}\n      onRequestClose={modalControl.turnOff}\n      className={styles.modalContent}\n      overlayClassName={styles.modalOverlay}\n    >\n      <h2 className={styles.modalHeader}>Stop stream</h2>\n      <p>\n        This action will completely shut down the stream. After that, it can't be turned on.\n      </p>\n      <div className={styles.modalButtons}>\n        <button\n          type=\"button\"\n          onClick={modalControl.turnOff}\n          className={classNames(styles.modalButton, styles.modalSecondary)}\n        >\n          Cancel\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => {\n            modalControl.turnOff();\n            onConfirm();\n          }}\n          className={classNames(styles.modalButton, styles.modalDanger)}\n        >\n          Stop\n        </button>\n      </div>\n    </Modal>\n  );\n}\n\ntype StreamControlsProps = {\n  stream: RoketoStream;\n  className?: string;\n};\n\nexport function StreamControls({ stream, className }: StreamControlsProps) {\n  const { auth, roketo } = useRoketoContext();\n  const pauseModalControl = useBool(false);\n  const stopModalControl = useBool(false);\n  const [loading, setLoading] = useState(false);\n  const [menuOpened, setMenuOpened] = useState(false);\n\n  const isOutgoing = auth.accountId === stream.owner_id;\n  const isIncoming = auth.accountId === stream.receiver_id;\n  const isExternalStream = !isOutgoing && !isIncoming;\n\n  const handlePause = async () => {\n    setLoading(true);\n    await roketo.api.pauseStream({ streamId: stream.id });\n    setLoading(false);\n  }\n\n  const handleStart = async () => {\n    setLoading(true);\n    await roketo.api.startStream({ streamId: stream.id });\n    setLoading(false);\n  }\n\n  const handleStop = async () => {\n    setLoading(true);\n    await roketo.api.stopStream({ streamId: stream.id });\n    setLoading(false);\n  }\n\n  if (isDead(stream) || isExternalStream) {\n    return (\n      <StreamStatus\n        className={className}\n        stream={stream}\n      />\n    );\n  }\n\n  const onClickPause = () => {\n    setMenuOpened(false);\n    if (isIncoming) {\n      pauseModalControl.turnOn();\n    } else {\n      handlePause();\n    }\n  }\n\n  const onClickStop = () => {\n    setMenuOpened(false);\n    stopModalControl.turnOn();\n  }\n\n  const opened = menuOpened && !loading;\n\n  const shouldShowStartButton = stream.status !== STREAM_STATUS.Active && isOutgoing;\n  const shouldShowPauseButton = stream.status === STREAM_STATUS.Active && !isWithCliff(stream);\n\n  const statusClassName = {\n    [styles.active]: isActiveStream(stream),\n    [styles.pause]: isPausedStream(stream),\n    [styles.stop]: isDead(stream),\n  };\n\n  if (isLocked(stream)) {\n    return (\n      <div className={classNames(styles.relative, className)}>\n        <button\n          type=\"button\"\n          className={classNames(styles.dropdownOpener, styles.notAllowed)}\n        >\n          <StreamStatus\n            stream={stream}\n          />\n        </button>\n      </div>\n    );\n  }\n\n  return (\n    <div className={classNames(styles.relative, className)}>\n      <PauseConfirmModal\n        modalControl={pauseModalControl}\n        onConfirm={handlePause}\n      />\n\n      <StopConfirmModal\n        modalControl={stopModalControl}\n        onConfirm={handleStop}\n      />\n\n      <DropdownOpener\n        opened={opened}\n        onChange={setMenuOpened}\n        className={classNames(styles.dropdownOpener, statusClassName)}\n        testId={testIds.streamControlsDropdown}\n      >\n        {loading ? 'Loading...' : <StreamStatus stream={stream} className={styles.statusPadded} />}\n      </DropdownOpener>\n\n      <DropdownMenu\n        onClose={() => setMenuOpened(false)}\n        opened={opened}\n        className={styles.controlsMenu}\n      >\n        {shouldShowStartButton && (\n          <DropdownMenuItem>\n            <button\n              type=\"button\"\n              onClick={handleStart}\n              className={classNames(styles.controlButton, styles.start)}\n              data-testid={testIds.streamStartButton}\n            >\n              <StartIcon />\n              <span>Start</span>\n              {' '}\n            </button>\n          </DropdownMenuItem>\n        )}\n\n        {shouldShowPauseButton && (\n          <DropdownMenuItem>\n            <button\n              type=\"button\"\n              onClick={onClickPause}\n              className={classNames(styles.controlButton, styles.pause)}\n              data-testid={testIds.streamPauseButton}\n            >\n              <PauseIcon />\n              <span>Pause</span>\n            </button>\n          </DropdownMenuItem>\n        )}\n\n        {(shouldShowStartButton || shouldShowPauseButton) &&\n          <DropdownMenuDivider />\n        }\n        <DropdownMenuItem>\n          <button\n            type=\"button\"\n            onClick={onClickStop}\n            className={classNames(styles.controlButton, styles.stop)}\n            data-testid={testIds.streamStopButton}\n          >\n            <StopIcon />\n            <span>Stop</span>\n          </button>\n        </DropdownMenuItem>\n      </DropdownMenu>\n    </div>\n  );\n}\n","import React, {useCallback} from 'react';\nimport cn from 'classnames';\nimport copy from 'clipboard-copy';\n\nimport {LinkIcon} from '@ui/icons/Link';\n\nimport {WithdrawButton} from 'features/stream-control/WithdrawButton';\nimport { StreamControls } from 'features/stream-control/StreamControls';\n\nimport {getStreamLink} from 'shared/helpers/routing';\nimport {isActiveStream} from 'shared/api/roketo/helpers';\nimport {RoketoStream} from 'shared/api/roketo/interfaces/entities';\n\nimport {STREAM_DIRECTION, useGetStreamDirection} from 'shared/hooks/useGetStreamDirection';\nimport styles from './styles.module.scss';\n\nconst StreamLinkButton = ({onCLick}: { onCLick: (event: React.SyntheticEvent) => void }) => (\n  <button className={styles.linkButton} type=\"button\" onClick={onCLick}>\n    <LinkIcon/>\n  </button>\n);\n\ntype Props = {\n  stream: RoketoStream,\n  className?: string,\n}\n\nexport const Controls = ({className, stream}: Props) => {\n  const {id: streamId} = stream;\n\n  const handleLinkClick = useCallback((event: React.SyntheticEvent) => {\n    event.preventDefault();\n\n    const streamLink = getStreamLink(streamId);\n\n    copy(streamLink);\n  }, [streamId]);\n\n  const direction = useGetStreamDirection(stream);\n  const showWithdraw = direction === STREAM_DIRECTION.IN && isActiveStream(stream);\n\n  return (\n    <div className={cn(styles.root, className)}>\n      {showWithdraw &&\n        <WithdrawButton stream={stream} small />\n      }\n\n      <StreamControls stream={stream} />\n\n      <StreamLinkButton onCLick={handleLinkClick}/>\n    </div>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport {generatePath, Link} from 'react-router-dom';\n\nimport {RoketoStream} from 'shared/api/roketo/interfaces/entities';\nimport {ROUTES_MAP} from 'shared/helpers/routing';\nimport {STREAM_DIRECTION, useGetStreamDirection} from 'shared/hooks/useGetStreamDirection';\n\nimport {Name} from '../Name';\nimport {StreamProgress} from '../StreamProgress';\n\nimport {Controls} from '../Controls';\nimport styles from './styles.module.scss';\n\ntype StreamCardProps = {\n  stream: RoketoStream,\n  className?: string,\n}\n\nexport const StreamCard = ({stream, className}: StreamCardProps) => {\n  const {\n    id,\n    description,\n  } = stream;\n\n  let comment = '';\n\n  try {\n    const parsedDescription = JSON.parse(description);\n    comment = parsedDescription.comment;\n  } catch {\n    comment = description;\n  }\n\n  const isIncomingStream = useGetStreamDirection(stream) === STREAM_DIRECTION.IN;\n\n  const name = isIncomingStream ? stream.owner_id : stream.receiver_id;\n\n  const streamPageLink = generatePath(ROUTES_MAP.stream.path, {id});\n\n  return (\n    <div className={cn(styles.root, className)}>\n      <Link to={streamPageLink} className={styles.name}>\n        <Name\n          name={name}\n          isOutgoing={!isIncomingStream}\n          isLocked={stream.is_locked}\n        />\n      </Link>\n\n      <StreamProgress stream={stream} className={styles.withMarginRight} />\n\n      <Link to={streamPageLink} className='col-span-2 grow-0'>\n        <p className={styles.comment}>\n          {comment}\n        </p>\n      </Link>\n\n\n      <Controls\n        stream={stream}\n        className={cn(styles.controls, 'col-span-2 grow-0')}\n      />\n    </div>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nimport {RoketoStream} from 'shared/api/roketo/interfaces/entities';\n\nimport {Button} from '@ui/components/Button';\nimport {Spinner} from '@ui/components/Spinner';\n\nimport {useStreams} from 'features/roketo-resource';\n\nimport {StreamCard} from '../StreamCard';\nimport styles from './styles.module.scss';\n\ntype Props = {\n  displayingStreams: RoketoStream[] | undefined,\n\n  onCreateStreamClick: () => void,\n\n  className?: string,\n}\n\nconst EmptyState = ({children}: {children: React.ReactNode}) => <div className={styles.emptyState}>{children}</div>\n\nexport const StreamsList = (props: Props) => {\n  const {\n    className,\n    displayingStreams,\n    onCreateStreamClick,\n  } = props;\n\n  const {data: streams} = useStreams();\n  const {inputs = [], outputs = []} = streams || {};\n\n  const allStreams = [...inputs, ...outputs];\n  const allStreamsLength = allStreams.length;\n\n  const displayingStreamsLength = displayingStreams?.length ?? 0;\n\n  if (!streams) {\n    return (\n      <EmptyState>\n        <Spinner wrapperClassName={styles.loader} />\n      </EmptyState>\n    );\n  }\n\n  if (streams && allStreamsLength === 0) {\n    return (\n      <EmptyState>\n        <div>\n          You don't have any streams yet.\n        </div>\n        <Button onClick={onCreateStreamClick}>Create First Stream</Button>\n      </EmptyState>\n    );\n  }\n\n  if (streams && allStreamsLength !== 0 && displayingStreamsLength === 0) {\n    return (\n      <EmptyState>\n        <div>No streams matching your filters. Try selecting different ones</div>\n      </EmptyState>\n    );\n  }\n\n  return (\n    <div className={cn(styles.container, className)}>\n      <section className={styles.flexColumn}>\n        <div className={cn(styles.withPaddings, 'grid grid-cols-6 gap-x-10')}>\n          <h3 className={styles.title}>Wallet address</h3>\n          <h3 className={styles.title}>Amount to stream</h3>\n          <h3 className={styles.title}>Comment</h3>\n        </div>\n\n        {displayingStreams?.map(stream => (\n          <StreamCard\n            stream={stream}\n            key={stream.id}\n            className={cn(styles.withPaddings, 'grid grid-cols-6 gap-x-10')}\n          />\n        ))}\n      </section>\n    </div>\n  );\n}\n","import React, {useMemo, useState, useCallback} from 'react';\nimport {generatePath} from 'react-router-dom';\nimport cn from 'classnames';\n\nimport {Layout} from '@ui/components/Layout';\nimport {Button} from '@ui/components/Button';\n\nimport {Modal} from 'shared/components/Modal';\n\nimport {useRoketoContext} from 'app/roketo-context';\n\nimport {WithdrawAllButton} from 'features/stream-control/WithdrawAllButton';\nimport {useStreams} from 'features/roketo-resource';\nimport {StreamFilters} from 'features/filtering/StreamFilters';\nimport {CreateStream, type FormValues} from 'features/create-stream/CreateStream';\nimport {FinancialStatus} from 'widgets/financialStatus';\nimport {StreamsList} from 'widgets/streamsList';\n\nimport {RoketoStream} from 'shared/api/roketo/interfaces/entities';\nimport {ROUTES_MAP} from 'shared/helpers/routing';\nimport { testIds } from 'shared/constants';\n\nimport styles from './styles.module.scss';\n\nconst redirectUrl = generatePath(ROUTES_MAP.streams.path);\nconst returnPath = `${window.location.origin}/#${redirectUrl}`;\n\nexport const StreamsPage = () => {\n  const {roketo, tokens} = useRoketoContext();\n\n  const {data: streams} = useStreams();\n  const {inputs, outputs} = streams || {};\n  const allStreams = useMemo<RoketoStream[] | undefined>(\n    () => ((inputs || outputs) && [...(inputs || []), ...(outputs || [])]),\n    [inputs, outputs]\n  );\n\n  const [filteredItems, setFiltered] = useState<RoketoStream[] | undefined>([]);\n  const [isModalOpened, setIsModalOpened] = useState<boolean>(false);\n  const toggleModal = useCallback(\n    () => setIsModalOpened(!isModalOpened),\n    [setIsModalOpened, isModalOpened]\n  );\n\n  const handleCreateStream = async (values: FormValues) => {\n    const {\n      receiver,\n      delayed,\n      comment,\n      deposit,\n      speed,\n      token,\n      isLocked,\n      cliffDateTime,\n    } = values;\n\n    const {formatter, api, roketoMeta} = tokens[token];\n\n    await roketo.api.createStream({\n      deposit: formatter.toYocto(deposit),\n      comment,\n      receiverId: receiver,\n      tokenAccountId: token,\n      commissionOnCreate: roketoMeta.commission_on_create,\n      tokensPerSec: speed,\n      delayed: cliffDateTime ? false : delayed,\n      callbackUrl: returnPath,\n      handleTransferStream: api.transfer,\n      isLocked,\n      cliffPeriodSec: cliffDateTime ? Math.floor((cliffDateTime.getTime() - Date.now()) / 1000) : undefined,\n    });\n  };\n\n  return (\n    <div className={styles.root}>\n      <Layout>\n        <section className={cn(styles.flex, styles.header)}>\n          <h1 className={styles.title}>Streams</h1>\n\n          <div className={cn(styles.flex, styles.buttonsWrapper)}>\n            <WithdrawAllButton />\n\n            <Button\n              onClick={toggleModal}\n              testId={testIds.createStreamButton}\n            >\n              Create a stream\n            </Button>\n            <Modal isOpen={isModalOpened} onCloseModal={toggleModal}>\n              <CreateStream onFormCancel={toggleModal} onFormSubmit={handleCreateStream}/>\n            </Modal>\n          </div>\n        </section>\n\n        <FinancialStatus />\n\n        <StreamFilters\n          items={allStreams}\n          onFilterDone={setFiltered}\n          className={styles.streamFilters}\n        />\n\n        <StreamsList\n          displayingStreams={filteredItems}\n          className={styles.section}\n          onCreateStreamClick={toggleModal}\n        />\n\n      </Layout>\n    </div>\n  );\n};\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport {Authorization} from 'features/authorization';\n\nimport styles from './styles.module.scss';\n\nexport function AuthorizePage() {\n  return (\n    <div className=\"flex h-screen mx-3\">\n      <div\n        className={classNames('lg:m-auto mx-auto my-auto lg:w-2/5 bg-gray-90 rounded-3xl p-5', styles.block)}\n      >\n        <div className={classNames('my-24', styles.content)}>\n          <h1 className=\"text-3xl mb-4 font-semibold\">\n            {' '}\n            Login via NEAR Network\n            {' '}\n          </h1>\n          <p className={classNames('mb-4', styles.hint)}>\n            Click button below to login or create new account\n          </p>\n          <Authorization />\n        </div>\n      </div>\n    </div>\n  );\n}\n","export function BreadcrumbIcon({ className }: { className?: string }) {\n  return (\n    <svg className={className} width=\"8\" height=\"12\" viewBox=\"0 0 8 12\" fill=\"none\">\n      <path\n        d=\"M0.895051 11.6285C0.745051 11.6285 0.603384 11.5702 0.495051 11.4535C0.295051 11.2285 0.311718 10.8869 0.528384 10.6869L5.836 5.90328L0.495028 1.27828C0.270028 1.07828 0.261695 0.736613 0.461695 0.511613C0.661695 0.294947 1.00336 0.27828 1.22836 0.47828L6.97766 5.46995C7.23599 5.70328 7.23599 6.10328 6.97766 6.33662L1.26172 11.4869C1.15338 11.5869 1.02838 11.6285 0.895051 11.6285Z\"\n        fill=\"currentColor\"/>\n    </svg>\n  );\n}\n","import React, {useState} from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport copy from 'clipboard-copy';\nimport classNames from 'classnames';\nimport { format, isPast } from 'date-fns';\n\nimport { streamViewData, useSingleStream } from 'features/roketo-resource';\nimport { LinkIcon } from '@ui/icons/Link';\nimport { getStreamLink, ROUTES_MAP } from 'shared/helpers/routing';\nimport { PageError } from 'shared/components/PageError';\nimport {DropdownOpener} from 'shared/kit/DropdownOpener';\nimport { Layout } from '@ui/components/Layout';\nimport type { RoketoStream } from 'shared/api/roketo/interfaces/entities';\nimport { getStreamingSpeed } from 'features/create-stream/lib';\nimport { useRoketoContext } from 'app/roketo-context';\nimport { ProgressBar } from '@ui/components/ProgressBar';\nimport { StreamControls } from 'features/stream-control/StreamControls';\nimport { STREAM_DIRECTION, useGetStreamDirection } from 'shared/hooks/useGetStreamDirection';\nimport { STREAM_STATUS } from 'shared/api/roketo/constants';\nimport { WithdrawButton } from 'features/stream-control/WithdrawButton';\nimport { TokenImage } from 'shared/kit/TokenImage';\nimport { getRoundedPercentageRatio } from 'shared/helpers/math';\nimport { getAvailableToWithdraw } from 'shared/api/roketo/helpers';\nimport { Badge } from 'shared/components/Badge';\n\nimport styles from './styles.module.scss';\nimport { BreadcrumbIcon } from './BreadcrumbIcon';\n\nfunction StreamProgress({ stream }: { stream: RoketoStream }) {\n  const { tokens } = useRoketoContext();\n\n  const { meta, formatter } = tokens[stream.token_account_id];\n  const { progress: { streamed, withdrawn, full }, percentages } = streamViewData(stream);\n\n  return (\n    <div>\n      <div className={styles.numericProgress}>\n        <TokenImage\n          tokenAccountId={stream.token_account_id}\n          className={styles.tokenIcon}\n        />\n        <span>{`${meta.symbol} ${formatter.amount(streamed)} of ${formatter.amount(full)}`}</span>\n      </div>\n      <ProgressBar\n        total={full}\n        streamed={streamed}\n        withdrawn={withdrawn}\n        cliffPercent={percentages.cliff}\n        withBigCliffMark\n      />\n    </div>\n  );\n}\n\nfunction StreamButtons({stream}: {stream: RoketoStream}) {\n  const {isDead} = streamViewData(stream);\n  const direction = useGetStreamDirection(stream);\n\n  if (isDead) {\n    return null;\n  }\n\n  return (\n    <div className={styles.buttons}>\n      <StreamControls stream={stream} />\n\n      {direction === STREAM_DIRECTION.IN && stream.status === STREAM_STATUS.Active &&\n        <WithdrawButton stream={stream} />\n      }\n    </div>\n  );\n}\n\nfunction StreamSpeed({stream}: {stream: RoketoStream}) {\n  const {tokens} = useRoketoContext();\n\n  return (\n    <div>\n      <span className={styles.blockTitle}>Speed</span>\n      <div className={styles.speed}>\n        {getStreamingSpeed(Number(stream.tokens_per_sec), tokens[stream.token_account_id])}\n      </div>\n    </div>\n  );\n}\n\nfunction StreamComment({stream}: {stream: RoketoStream}) {\n  let comment = '';\n\n  try {\n    const parsedDescription = JSON.parse(stream.description);\n    comment = parsedDescription.comment;\n  } catch {\n    comment = stream.description;\n  }\n\n  if (comment === '') {\n    return null;\n  }\n\n  return (\n    <div>\n      <span className={styles.blockTitle}>Comment</span>\n      <div className={styles.commentBody}>\n        {comment}\n      </div>\n    </div>\n  );\n}\n\nfunction CopyButton({stringToCopy}: {stringToCopy: string}) {\n  return (\n    <button\n      type=\"button\"\n      className={styles.copyButton}\n      onClick={() => copy(stringToCopy)}\n    >\n      <LinkIcon className={styles.linkIcon} />\n    </button>\n  );\n}\n\nfunction StreamCopyUrlBlock({stream}: {stream: RoketoStream}) {\n  const link = getStreamLink(stream.id);\n\n  return (\n    <div>\n      <div className={classNames(styles.blockTitle, styles.copyTitle)}>\n        Public link to view the stream\n        <CopyButton stringToCopy={link} />\n      </div>\n      <div className={styles.link}>{link}</div>\n    </div>\n  );\n}\n\nfunction InfoRow({ title, children }: { title: string, children: React.ReactNode }) {\n  return (\n    <div className={styles.infoRow}>\n      <span className={styles.infoTitle}>{title}</span>\n      {children}\n    </div>\n  );\n}\n\nfunction StreamData({stream}: {stream: RoketoStream}) {\n  const direction = useGetStreamDirection(stream);\n  const {tokens} = useRoketoContext();\n  const {\n    streamEndTimestamp,\n    cliffEndTimestamp,\n    timeLeft,\n    progress: {streamed, left, full},\n  } = streamViewData(stream);\n\n  const streamedToTotalPercentageRatio = getRoundedPercentageRatio(streamed, full).toNumber();\n  const leftToTotalPercentageRatio = getRoundedPercentageRatio(left, full).toNumber();\n  const available = getAvailableToWithdraw(stream).toNumber();\n\n  const {meta, formatter} = tokens[stream.token_account_id];\n  \n  const [showOtherInfo, setShowOtherInfo] = useState(false);\n\n  return (\n    <div className={classNames(styles.tile, styles.infoTile)}>\n      <div className={styles.blockHeader}>Stream info</div>\n      <InfoRow title=\"Sender\">\n        <span className={classNames(styles.font16, styles.name)}>\n          {direction === STREAM_DIRECTION.OUT ? 'You' : stream.owner_id}\n        </span>\n      </InfoRow>\n      <InfoRow title=\"Receiver\">\n        <span className={classNames(styles.font16, styles.name)}>\n          {direction === STREAM_DIRECTION.IN ? 'You' : stream.receiver_id}\n        </span>\n      </InfoRow>\n      <InfoRow title=\"Amount\">\n        <span className={styles.font14}>\n          {formatter.amount(full)}&nbsp;\n          <span className={styles.font12}>{meta.symbol}</span>\n        </span>\n      </InfoRow>\n      <InfoRow title=\"Stream Created\">\n        <span className={styles.font14}>\n          {format(\n            new Date(Number(stream.timestamp_created) / 1000000),\n            \"PP 'at' p\",\n          )}\n        </span>\n      </InfoRow>\n      {cliffEndTimestamp && (\n        <InfoRow title={isPast(cliffEndTimestamp) ? 'Cliff Period Ended' : 'Cliff Period Ends'}>\n          <span className={styles.font14}>\n            {format(cliffEndTimestamp, \"PP 'at' p\")}\n          </span>\n        </InfoRow>\n      )}\n      {streamEndTimestamp && (\n        <InfoRow title={isPast(streamEndTimestamp) ? 'Stream Ended' : 'Stream Ends'}>\n          <span className={styles.font14}>\n            {format(streamEndTimestamp, \"PP 'at' p\")}\n          </span>\n        </InfoRow>\n      )}\n      <InfoRow title=\"Token\">\n        <span className={styles.font14}>\n          {meta.name},&nbsp;\n          <span className={styles.font12}>{meta.symbol}</span>\n        </span>\n      </InfoRow>\n\n      <div className={styles.divider} />\n      <DropdownOpener\n        className={styles.dropdownOpener}\n        opened={showOtherInfo}\n        onChange={(update) => {\n          setShowOtherInfo(update);\n        }}\n      >\n        <h3 className={styles.sectionHeader}>Other info</h3>\n      </DropdownOpener>\n\n      {showOtherInfo && (\n        <>\n          <InfoRow title=\"Stream ID\">\n            <div className={styles.centeredFlex}>\n              <span className={classNames(styles.font14, styles.streamID)}>\n                {stream.id}\n              </span>\n              <CopyButton stringToCopy={stream.id} />\n            </div>\n          </InfoRow>\n          <InfoRow title=\"Remaining\">\n            <span className={styles.font14}>{timeLeft || 'Finished'}</span>\n          </InfoRow>\n          <InfoRow title=\"Tokens Transferred\">\n            <span className={styles.font14}>\n              {formatter.amount(streamed)}&nbsp;\n              <span className={styles.font12}>\n                {meta.symbol}{' '}\n                <span className={styles.grey}>\n                  ({streamedToTotalPercentageRatio}%)\n                </span>\n              </span>\n            </span>\n          </InfoRow>\n          {stream.timestamp_created !== stream.last_action && (\n            <InfoRow title=\"Latest Withdrawal\">\n              <span className={styles.font14}>\n                {format(\n                  new Date(Number(stream.last_action) / 1000000),\n                  \"PP 'at' p\",\n                )}\n              </span>\n            </InfoRow>\n          )}\n          <InfoRow title=\"Tokens Left\">\n            <span className={styles.font14}>\n              {formatter.amount(left)}&nbsp;\n              <span className={styles.font12}>\n                {meta.symbol}{' '}\n                <span className={styles.grey}>\n                  ({leftToTotalPercentageRatio}%)\n                </span>\n              </span>\n            </span>\n          </InfoRow>\n          <InfoRow title=\"Tokens Available\">\n            <span className={styles.font14}>\n              {formatter.amount(available)}&nbsp;\n              <span className={styles.font12}>{meta.symbol}</span>\n            </span>\n          </InfoRow>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport function StreamPage() {\n  const {id} = useParams() as {id: string};\n  const streamSWR = useSingleStream(id);\n\n  const stream = streamSWR.data;\n  const pageError = streamSWR.error;\n\n  return (\n    <div className={styles.root}>\n      <Layout>\n        <div className={styles.breadbrumbs}>\n          <Link\n            to={ROUTES_MAP.streams.path}\n            className={styles.streamsLink}\n          >\n            Streams\n          </Link>\n          <BreadcrumbIcon className={styles.breadbrumb} />\n          <span className={styles.id}>{id}</span>\n        </div>\n        {pageError &&\n          <PageError\n            className=\"max-w-2xl mx-auto py-32\"\n            message={pageError.message}\n            onRetry={() => {\n              streamSWR.mutate();\n            }}\n          />\n        }\n        {!pageError && !stream &&\n          <div className=\"py-32 text-center text-gray text-2xl\">Loading...</div>\n        }\n\n        {!pageError && stream &&\n          <main className={styles.stream}>\n            <div className={styles.left}>\n              <div className={classNames(styles.tile, styles.remaining)}>\n                <span className={styles.blockTitle}>\n                  Remaining\n                </span>\n                <span>\n                  {streamViewData(stream).timeLeft || 'Finished'}\n                </span>\n              </div>\n              <div className={classNames(styles.tile, styles.main)}>\n                {stream.is_locked && <Badge isOrange className={styles.closeBadge}>Locked</Badge>}\n                <StreamProgress stream={stream} />\n                <StreamButtons stream={stream} />\n                <StreamSpeed stream={stream} />\n                <div className={styles.divider} />\n                <StreamComment stream={stream} />\n                <StreamCopyUrlBlock stream={stream} />\n              </div>\n            </div>\n            <div className={styles.right}>\n              <StreamData stream={stream} />\n            </div>\n          </main>\n        }\n      </Layout>\n    </div>\n  );\n}\n","import { Button, DisplayMode as ButtonDisplayMode } from '@ui/components/Button';\n\nimport styles from './styles.module.scss';\n\nexport function NotFoundPage() {\n  return (\n    <div className={styles.root}>\n      <div className={styles.big404}>4<span className={styles.big0}>0</span>4</div>\n      <div className={styles.pageNotFound}>Page not found</div>\n      <div className={styles.weAreSorry}>\n        We're sorry the page<br />you requested was not found.\n      </div>\n      <Button\n        className={styles.backButton}\n        displayMode={ButtonDisplayMode.action}\n        onClick={() => window.history.back()}\n      >\n        Back\n      </Button>\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\n\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\n\nimport { Header } from 'shared/components/Header';\nimport { PrivateRoute } from 'shared/components/PrivateRoute';\nimport { useRoketoContext } from 'app/roketo-context';\nimport {Footer} from 'widgets/footer';\nimport { LEGACY_ROUTES_MAP, LegacyStreamPage, LegacyStreamsPage } from 'features/legacy';\n\nimport { env } from 'shared/config';\nimport { ROUTES_MAP } from 'shared/helpers/routing';\n\nimport { StreamsPage } from './streams';\nimport { AuthorizePage } from './authorize';\nimport { StreamPage } from './stream';\nimport { NotFoundPage } from './not-found';\n\nconst TRASH_QUERY_PARAMS = ['transactionHashes', 'errorCode', 'errorMessage'];\n\nexport function Routing() {\n  useEffect(() => {\n    // Remove unused search params\n    const url = new URL(window.location.href);\n\n    TRASH_QUERY_PARAMS.forEach((param) => {\n      if (url.searchParams.has(param)) {\n        url.searchParams.delete(param);\n      }\n    });\n\n    window.history.replaceState(null, '', url);\n  });\n\n  const { auth } = useRoketoContext();\n\n  const {\n    root,\n    stream,\n    streams,\n    authorize,\n  } = ROUTES_MAP;\n\n  const {\n    legacyStream,\n    legacyStreams,\n  } = LEGACY_ROUTES_MAP;\n\n  return (\n    <Router basename={env.PUBLIC_URL}>\n      <Header />\n\n      <Switch>\n        <PrivateRoute\n          exact\n          redirect={<Redirect to={streams.path} />}\n          allowed={!auth.signedIn}\n          path={root.path}\n        >\n          <Redirect to={authorize.path} />\n        </PrivateRoute>\n\n        <PrivateRoute\n          exact\n          redirect={<Redirect to={streams.path} />}\n          allowed={!auth.signedIn}\n          path={authorize.path}\n        >\n          <AuthorizePage />\n        </PrivateRoute>\n\n        <Route exact path={legacyStream.path}>\n          <LegacyStreamPage />\n        </Route>\n\n        <PrivateRoute\n          exact\n          redirect={<Redirect to={authorize.path} />}\n          allowed={auth.signedIn}\n          path={legacyStreams.path}\n        >\n          <LegacyStreamsPage />\n        </PrivateRoute>\n\n        <Route exact path={stream.path}>\n          <StreamPage />\n        </Route>\n\n        <PrivateRoute\n          exact\n          redirect={<Redirect to={authorize.path} />}\n          allowed={auth.signedIn}\n          path={streams.path}\n        >\n          <StreamsPage />\n        </PrivateRoute>\n\n        <Route render={NotFoundPage} />\n      </Switch>\n\n      <Footer />\n    </Router>\n  );\n}\n","import React from 'react';\nimport 'error-polyfill';\n\nimport { Routing } from 'pages';\nimport { RoketoLegacyContextProvider } from 'features/legacy/roketo-context';\n\nimport { RoketoContextProvider } from './roketo-context';\nimport './index.scss';\n\nfunction App() {\n  return (\n    <RoketoContextProvider>\n      <RoketoLegacyContextProvider>\n        <Routing />\n      </RoketoLegacyContextProvider>\n    </RoketoContextProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Modal from 'react-modal';\nimport App from './app';\n\nconst rootEl = document.getElementById('root')!;\n\nModal.setAppElement(rootEl);\nReactDOM.render(<App />, rootEl);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__2_gZI\",\"description\":\"styles_description__9SwXr\",\"preparedTokensWrapper\":\"styles_preparedTokensWrapper__1n7o-\",\"preparedToken\":\"styles_preparedToken__3wMsS\",\"info\":\"styles_info__OjsX3\",\"amount\":\"styles_amount__2Pqv4\",\"symbol\":\"styles_symbol__HcQ7S\",\"notAllowed\":\"styles_notAllowed__2nGW_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressBar\":\"styles_progressBar__WfqVp\",\"streamed\":\"styles_streamed__2JSLG\",\"progress\":\"styles_progress__1Vfwm\",\"withdrawn\":\"styles_withdrawn__2eocI\",\"cliffMarkContainer\":\"styles_cliffMarkContainer__n0scP\",\"cliffMark\":\"styles_cliffMark__1jJk_\",\"cliffMarkBig\":\"styles_cliffMarkBig__1-8_i\",\"cliffMarkPassed\":\"styles_cliffMarkPassed__18H3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2hqfN\",\"flexColumn\":\"styles_flexColumn__2kzF4\",\"withPaddings\":\"styles_withPaddings__3uH1h\",\"title\":\"styles_title__1uH5S\",\"emptyState\":\"styles_emptyState__2YAVd\",\"loader\":\"styles_loader__FohDd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__1wORt\",\"layout\":\"styles_layout__3xx--\",\"section\":\"styles_section__2r57z\",\"logo\":\"styles_logo__w4rz3\",\"links\":\"styles_links__2CP2p\",\"legal\":\"styles_legal__1I5Mf\",\"socials\":\"styles_socials__pFfwm\",\"jurInfo\":\"styles_jurInfo__p5KY0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__2E2rA\",\"flexColumn\":\"styles_flexColumn__vggyT\",\"withPaddings\":\"styles_withPaddings__3K5aA\",\"title\":\"styles_title__284Zv\",\"emptyState\":\"styles_emptyState__3rrQX\",\"loader\":\"styles_loader__xExeF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__14vNy\",\"section\":\"styles_section__2FRx-\",\"flex\":\"styles_flex__2TXuX\",\"header\":\"styles_header__UtN1L\",\"buttonsWrapper\":\"styles_buttonsWrapper__ANSH3\",\"title\":\"styles_title__3qFk7\",\"streamFilters\":\"styles_streamFilters__3D0RW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__TAkqw\",\"speedInput\":\"styles_speedInput__pndxz\",\"input\":\"styles_input__2-TTa\",\"label\":\"styles_label__1NoFr\",\"formLabel\":\"styles_formLabel__2w0iu\",\"formField\":\"styles_formField__GA6eY\",\"speed\":\"styles_speed__M079a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__2UE9y\",\"section\":\"styles_section__2YjD4\",\"flex\":\"styles_flex__5E-Gn\",\"header\":\"styles_header__2fhvP\",\"buttonsWrapper\":\"styles_buttonsWrapper__KUQAt\",\"title\":\"styles_title__1SNWA\",\"streamFilters\":\"styles_streamFilters__ZRc30\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__3Kyti\",\"wrapper\":\"styles_wrapper__P7W3S\",\"balance\":\"styles_balance__o5yA-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"profile_profile__Dw7tT\",\"dropdownOpener\":\"profile_dropdownOpener__rb_O7\",\"name\":\"profile_name__2iGU9\",\"avatar\":\"profile_avatar__20etB\",\"dropdownMenu\":\"profile_dropdownMenu__2a3bk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"styles_overlay__2aFDm\",\"bodyOverflowHidden\":\"styles_bodyOverflowHidden__1QZAq\",\"content\":\"styles_content__2Cjkl\",\"title\":\"styles_title__1w-yg\",\"close\":\"styles_close__1xZ3p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__17WVD\",\"big404\":\"styles_big404__1ZrOC\",\"big0\":\"styles_big0__1G3uC\",\"pageNotFound\":\"styles_pageNotFound__2_Tlm\",\"weAreSorry\":\"styles_weAreSorry__-XpXJ\",\"backButton\":\"styles_backButton__2uRdQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__2eQAJ\",\"primary\":\"styles_primary__F4Fip\",\"action\":\"styles_action__ZCYgS\",\"simple\":\"styles_simple__2Db_y\",\"secondary\":\"styles_secondary__3blHx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__gqzta\",\"controls\":\"styles_controls__1VcAv\",\"name\":\"styles_name__1n32K\",\"comment\":\"styles_comment__1PgxT\",\"withMarginRight\":\"styles_withMarginRight__2dPrt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__37pAo\",\"label\":\"styles_label__1Z1u2\",\"description\":\"styles_description__3HMUq\",\"error\":\"styles_error__iK_dp\",\"required\":\"styles_required__eL5Iv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"styles_root__2b5hR\",\"description\":\"styles_description__256I8\",\"checkbox\":\"styles_checkbox__JfL1O\",\"error\":\"styles_error__3vxG-\",\"disabled\":\"styles_disabled__3pqPt\"};"],"sourceRoot":""}